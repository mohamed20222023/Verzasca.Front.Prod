"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[76],{94562:(m,o,n)=>{n.d(o,{c:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"Position/")}deleteTarget(e){return this.http.delete(this.baseUrl+e)}GetPositionsByDepartment(e){return this.http.get(this.baseUrl+"GetPositionsByDepartment/"+e)}GetHeadDropDown(){return this.http.get(this.baseUrl+"GetHeadDropDown")}GetDropDown(){return this.http.get(this.baseUrl+"GetDropDown")}GetManagementChainAsync(e){return this.http.get(this.baseUrl+"GetManagementChainAsync/"+e)}delete(e){return this.http.delete(`${this.baseUrl}SoftDelete/${e}`,this.httpOptions)}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},91020:(m,o,n)=>{n.d(o,{e:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"CancelReason/")}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},35419:(m,o,n)=>{n.d(o,{S:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"Region/")}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},75312:(m,o,n)=>{n.d(o,{Y:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"ReturnReason/")}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},84205:(m,o,n)=>{n.d(o,{t:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"ClientGroup/")}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},34578:(m,o,n)=>{n.d(o,{N:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"PositionName/")}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},45943:(m,o,n)=>{n.d(o,{L:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"ProductOffer/")}GetLookups(){return this.http.get(this.baseUrl+"GetLookups")}GetActiveOffer(){return this.http.get(this.baseUrl+"GetActiveOffer")}checkItemOffer(e,s){return this.checkOffers(e,s)}checkOffers(e,s){const O=s.filter(h=>{const u=h.productServicesX.map(i=>i.id),D=e.items.filter(i=>u.includes(i.itemId)&&0==i.isFree).reduce((i,p)=>i+p.quantity,0);if(6==h.offerType){const i=h.productOfferQuantities.filter(p=>D>=p.quantityX);if(0!==i.length){var g=i.reduce((p,d)=>d.quantityX>p.quantityX?d:p);return h.quantityX=g.quantityX,h.quantityY=g.quantityY,!0}return!1}return D>=h.quantityX});if(O.length<=0){if(e.itemsOffers=[],e?.items.length>0){let h=e.items.filter(u=>0==u.isFree);e.items=h}return e}return e.offerNames=[],e.itemsOffers=[],O.forEach(u=>{if(1==u.offerType||6==u.offerType)return this.checkOfferXToY(e,u)}),e}checkOfferXToY(e,s){const O=e.items.reduce((u,f)=>u+(s.productServicesX.find(g=>g.id===f.itemId)?f.quantity:0),0);if(e.items.some(u=>s.productServicesX.some(f=>f.id===u.itemId))&&O>=s.quantityX)if(e.itemsOffers.length<=0&&s.productServicesY.forEach(u=>{u.isSelected=!1}),e.offerNames.push({id:s.id,title:s.title,isSelected:!1,count:s.productServicesY.length}),6==s.offerType){let u=this.resetQuantityX(s.quantityY,s.productServicesY);e.itemsOffers.push(...u)}else e.itemsOffers.push(...s.productServicesY);else e.itemsOffers=[];return e}resetQuantityX(e,s){return s.forEach(O=>{O.quantityY=e}),s}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},63022:(m,o,n)=>{n.d(o,{U:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"Invoice/")}SaveInvoice(e){return this.http.post(this.baseUrl+"SaveInvoice",e)}GetOrderServiceAndPayment(e){return this.http.get(this.baseUrl+`GetOrderServiceAndPayment/${e}`)}GetByCode(e){return this.http.get(this.baseUrl+`GetByCode/${e}`)}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},70072:(m,o,n)=>{n.d(o,{A:()=>r});var t=n(84412),l=n(67569),a=n(45312),c=n(54438),_=n(21626);let r=(()=>{class E extends l.d{constructor(s){super(s,a.c.apiUrl+"OfferOrder/"),this.checkValidationSource=new t.t(!0),this.checkValidation=this.checkValidationSource.asObservable(),this.GetOrderCountSource=new t.t(!0),this.GetOrderCount=this.GetOrderCountSource.asObservable(),this.removeServiceQ=new t.t(0),this.removeService=this.removeServiceQ.asObservable(),this.removeServiceOfferQ=new t.t(0),this.removeServiceOffer=this.removeServiceOfferQ.asObservable(),this.discountTypes=[{id:1,name:"Cost"},{id:2,name:"Precentage"}],this.salesOrderForm={itemsOffers:[],id:null,clientLocationId:0,clientVisitDate:new Date,clientId:0,notes:"",items:[],discountAmount:0,discountAmountAdd:0,total:0,agent:{},orderLocations:{},discountType:1,discountTypeAdd:1,isPrecentage:!0,isPrecentageAdd:!1,totalAddDiscountType:0,totalAddDiscount:0,serviceCategoryCode:0,isCustomerDataValid:!1},this.requesturl=a.c.apiUrl+"salesRequest/"}getLookups(){return this.http.get(this.baseUrl+"Lookups")}changStatus(s){return this.http.put(this.baseUrl+"ChangeStatus/",s)}UpdateQuantity(s){return this.http.put(this.baseUrl+"UpdateQuantity",s)}updateTruck(s){return this.http.put(this.baseUrl+"updateTruck",s)}GetTrucks(s){return this.http.post(this.baseUrl+"GetTrucks/",s)}CancelOfferOrder(s){return this.http.post(this.baseUrl+"CancelOfferOrder",s)}GetOfferOrderCount(){return this.http.get(this.baseUrl+"OfferOrderCount")}GetOfferOrderStoreCount(){return this.http.get(this.baseUrl+"GetOfferOrderStoreCount")}GetAssignSalesOrder(){return this.http.get(this.baseUrl+"GetAssignSalesOrder")}GetOrderDetail(s){return this.http.get(this.baseUrl+"GetOrderDetail/"+s)}RequestChangeQuantity(s){return this.http.post(this.baseUrl+"RequestChangeQuantity/",s)}GetOrderStore(s){return this.http.post(this.baseUrl+"GetOrderStore/",s)}PrintSalesOrder(s){return this.http.get(this.baseUrl+"PrintSalesOrder/"+s,{responseType:"blob"})}PrintStoreReport(s){return this.http.get(this.baseUrl+"PrintStoreReport/"+s,{responseType:"blob"})}registerRequestSales(s){return this.http.post(this.requesturl+"register",s)}static{this.\u0275fac=function(O){return new(O||E)(c.KVO(_.Qq))}}static{this.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},34618:(m,o,n)=>{n.d(o,{S:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"Unit/")}ToDelete(e){return this.http.delete(`${this.baseUrl}${e}`)}ToEdit(e,s){return this.http.put(this.baseUrl+"Edit/"+e,s)}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},69433:(m,o,n)=>{n.d(o,{a:()=>_});var t=n(67569),l=n(45312),a=n(54438),c=n(21626);let _=(()=>{class r extends t.d{constructor(e){super(e,l.c.apiUrl+"Store/")}ToDelete(e){return this.http.delete(`${this.baseUrl}${e}`)}ToEdit(e,s){return this.http.put(this.baseUrl+"Edit/"+e,s)}static{this.\u0275fac=function(s){return new(s||r)(a.KVO(c.Qq))}}static{this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},90094:(m,o,n)=>{n.d(o,{_:()=>a});var t=n(45312),l=n(54438);let a=(()=>{class c{constructor(){this.key=t.c.cryptKey}encode(r){return r}decode(r){return r}static{this.\u0275fac=function(E){return new(E||c)}}static{this.\u0275prov=l.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},26366:(m,o,n)=>{n.d(o,{x:()=>g});var t=n(54438),l=n(75922),a=n(60177),c=n(8147);function _(i,p){1&i&&(t.j41(0,"p",18),t.nrm(1,"span",19),t.k0s())}function r(i,p){if(1&i&&(t.j41(0,"span",20),t.nrm(1,"i",21),t.EFF(2),t.k0s()),2&i){const d=t.XpG();t.R7$(2),t.SpI(" ",d.client.clientName,"")}}function E(i,p){1&i&&(t.j41(0,"p",18),t.nrm(1,"span",19),t.k0s())}function e(i,p){if(1&i&&(t.j41(0,"span",22),t.nrm(1,"i",21),t.EFF(2),t.k0s()),2&i){const d=t.XpG();t.R7$(2),t.SpI(" ",d.client.creditLimit,"")}}function s(i,p){1&i&&(t.j41(0,"p",18),t.nrm(1,"span",23),t.k0s())}function O(i,p){if(1&i&&(t.j41(0,"span",24),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"date"),t.k0s()),2&i){const d=t.XpG();t.R7$(2),t.SpI("",t.i5U(3,1,d.client.lastTransactionDate,"yyyy-MM-dd ")," ")}}function h(i,p){1&i&&(t.j41(0,"p",18),t.nrm(1,"span",25),t.k0s())}function u(i,p){if(1&i&&(t.j41(0,"span",26),t.nrm(1,"i",21),t.EFF(2),t.k0s()),2&i){const d=t.XpG();t.R7$(2),t.Lme(" ",d.client.clientQuantity," - ",d.client.clientInvoiceCost," ")}}function f(i,p){1&i&&(t.j41(0,"p",18),t.nrm(1,"span",27),t.k0s())}function D(i,p){if(1&i&&(t.j41(0,"span",28),t.nrm(1,"i",21),t.EFF(2),t.k0s()),2&i){const d=t.XpG();t.R7$(2),t.SpI("",d.client.totalDebt," ")}}let g=(()=>{class i{constructor(d){this.clientService=d,this.dismiss=new t.bkB,this.clientId=0,this.client={},this.objectKeys=Object.keys}ngOnInit(){this.getClientSummary()}getClientSummary(){0!=this.clientId&&this.clientService.GetClientSummary(this.clientId).subscribe(d=>{this.client=d.data})}dismissFn(){this.dismiss.emit(!0)}static{this.\u0275fac=function(P){return new(P||i)(t.rXU(l.X))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["client-summary"]],inputs:{clientId:"clientId"},outputs:{dismiss:"dismiss"},decls:28,vars:10,consts:[[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","justify-content-between","my-2"],["translate","client.client.clientName",1,"col-12","col-md-6"],[1,"col-12","col-md-6"],["class","card-text placeholder-glow",4,"ngIf"],["class","badge badge-label bg-primary fs-5",4,"ngIf"],[1,"row","justify-content-between"],["translate","client.client.CreditLimit",1,"col-12","col-md-6"],["class","badge badge-label bg-warning fs-5",4,"ngIf"],[1,"row","my-2","justify-content-between"],["translate","client.client.lastTransactionDate",1,"col-12","col-md-6"],["class","badge badge-label bg-info fs-5",4,"ngIf"],["translate","client.client.numberInvoiceQuantity",1,"col-12","col-md-6"],["class","badge badge-label bg-success fs-5",4,"ngIf"],["translate","client.client.totalDebt",1,"col-12","col-md-6"],["class","badge badge-label bg-danger fs-5",4,"ngIf"],[1,"card-text","placeholder-glow"],[1,"placeholder","col-12","bg-primary"],[1,"badge","badge-label","bg-primary","fs-5"],[1,"mdi","mdi-circle-medium"],[1,"badge","badge-label","bg-warning","fs-5"],[1,"placeholder","col-12","bg-info"],[1,"badge","badge-label","bg-info","fs-5"],[1,"placeholder","col-12","bg-success"],[1,"badge","badge-label","bg-success","fs-5"],[1,"placeholder","col-12","bg-danger"],[1,"badge","badge-label","bg-danger","fs-5"]],template:function(P,v){1&P&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return v.dismissFn()}),t.k0s()(),t.j41(2,"div",2)(3,"div",3),t.nrm(4,"div",4),t.j41(5,"div",5),t.DNE(6,_,2,0,"p",6)(7,r,3,1,"span",7),t.k0s()(),t.j41(8,"div",8),t.nrm(9,"div",9),t.j41(10,"div",5),t.DNE(11,E,2,0,"p",6)(12,e,3,1,"span",10),t.k0s()(),t.j41(13,"div",11),t.nrm(14,"div",12),t.j41(15,"div",5),t.DNE(16,s,2,0,"p",6)(17,O,4,4,"span",13),t.k0s()(),t.j41(18,"div",8),t.nrm(19,"div",14),t.j41(20,"div",5),t.DNE(21,h,2,0,"p",6)(22,u,3,2,"span",15),t.k0s()(),t.j41(23,"div",11),t.nrm(24,"div",16),t.j41(25,"div",5),t.DNE(26,f,2,0,"p",6)(27,D,3,1,"span",17),t.k0s()()()),2&P&&(t.R7$(6),t.Y8G("ngIf",!v.client.clientName),t.R7$(),t.Y8G("ngIf",v.client.clientName),t.R7$(4),t.Y8G("ngIf",!v.client.creditLimit),t.R7$(),t.Y8G("ngIf",v.client.creditLimit),t.R7$(4),t.Y8G("ngIf",!v.client.lastTransactionDate),t.R7$(),t.Y8G("ngIf",v.client.lastTransactionDate),t.R7$(4),t.Y8G("ngIf",!v.client.clientQuantity),t.R7$(),t.Y8G("ngIf",v.client.clientQuantity),t.R7$(4),t.Y8G("ngIf",!v.client.totalDebt),t.R7$(),t.Y8G("ngIf",v.client.totalDebt))},dependencies:[a.bT,c.Mm,a.vh],encapsulation:2})}}return i})()}}]);