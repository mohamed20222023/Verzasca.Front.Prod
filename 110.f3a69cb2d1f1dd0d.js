"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[110],{98993:(I,v,s)=>{s.d(v,{H:()=>g});var t=s(54438);let g=(()=>{class d{transform(c,l=50){return c?c.length>l?"..."+c.slice(0,l):c:""}static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275pipe=t.EJ8({name:"truncate",type:d,pure:!0})}}return d})()},12822:(I,v,s)=>{s.d(v,{l:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"Channel/")}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},16229:(I,v,s)=>{s.d(v,{m:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"District/")}getByCityId(o){return this.http.get(this.baseUrl+"getByCityId/"+o)}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},96402:(I,v,s)=>{s.d(v,{N:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"Service/"),this.ServiceStatus=[{name:"Published",id:1},{name:"NotPublish",id:2},{name:"Draft",id:3}]}deleteImage(o){return this.http.delete(this.baseUrl+"deleteImage/"+o,this.httpOptions)}deleteUnit(o){return this.http.delete(this.baseUrl+"deleteUnit/"+o,this.httpOptions)}getItemDropDown(){return this.http.get(this.baseUrl+"GetItemDropDown")}servicesByCategory(o){return this.http.post(this.baseUrl+"servicesByCategory",o)}GetServiceList(o,m){return this.http.get(this.baseUrl+"GetServiceList/"+m+"/"+o)}SyncOdoo(o){return this.http.post(this.baseUrl+"SyncOdoo",o)}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},10426:(I,v,s)=>{s.d(v,{Z:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"ClientReview/")}ClientReviewLookUp(){return this.http.get(this.baseUrl+"ClientReviewLookUp")}ClientReviewChartCount(o){return this.http.post(this.baseUrl+"ClientReviewChartCount",o)}UpdateReviewQuestion(o){return this.http.post(this.baseUrl+"UpdateReviewQuestion",o)}ClientReviewQuestionEdit(o){return this.http.post(this.baseUrl+"ClientReviewQuestionEdit",o)}GetClientReviewPrice(o){return this.http.post(this.baseUrl+"GetClientReviewPrice",o)}clientReviewPriceCount(){return this.http.get(this.baseUrl+"clientReviewPriceCount")}GetClientReviewActionMisMatch(o){return this.http.get(this.baseUrl+"GetClientReviewActionMisMatch/"+o)}ClientReviewActionMisMatchEdit(o){return this.http.post(this.baseUrl+"ClientReviewActionMisMatchEdit",o)}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},70053:(I,v,s)=>{s.d(v,{n:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"Team/")}GetTeamLookUp(){return this.http.get(this.baseUrl+"TeamLookUp")}getAllDropDown(){return this.http.get(this.baseUrl+"GetAllDropDown")}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},71100:(I,v,s)=>{s.d(v,{W:()=>c});var t=s(67569),g=s(45312),d=s(54438),h=s(21626);let c=(()=>{class l extends t.d{constructor(o){super(o,g.c.apiUrl+"Evaluation/")}EvaluationLookUp(){return this.http.get(this.baseUrl+"EvaluationLookUp")}RemoveEvaluateOrder(o){return this.http.put(this.baseUrl+"RemoveEvaluateOrder",o)}ChangeAssignTeam(o){return this.http.put(this.baseUrl+"ChangeAssignTeam",o)}SaveEvaluationFinish(o){return this.http.post(this.baseUrl+"SaveEvaluationFinish",o)}Register(o){return this.http.post(this.baseUrl+"Register",o)}static{this.\u0275fac=function(m){return new(m||l)(d.KVO(h.Qq))}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},50949:(I,v,s)=>{s.d(v,{H:()=>h});var t=s(45312),g=s(54438),d=s(21626);let h=(()=>{class c{constructor(_){this.http=_,this.baseUrl=t.c.apiUrl+"OrderPending/"}GetCallHistory(_){return this.http.get(this.baseUrl+"GetCallHistory/"+_)}GetAllPendingOrder(_){return this.http.post(this.baseUrl+"GetAllPendingOrder",_)}GetAllRecallOrder(_){return this.http.post(this.baseUrl+"GetAllRecallOrder",_)}GetCountPending(){return this.http.get(this.baseUrl+"GetCountPending/")}OrderCount(){return this.http.get(this.baseUrl+"OrderCount/")}static{this.\u0275fac=function(o){return new(o||c)(g.KVO(d.Qq))}}static{this.\u0275prov=g.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},14221:(I,v,s)=>{s.d(v,{t:()=>rt});var t=s(54438),g=s(75922),d=s(51188),h=s(69005),c=s(8147),l=s(75622),_=s(56977),o=s(3888),m=s(60177),E=s(1530),F=s(5779),C=s(45286),S=s(88148),j=s(91580);function T(i,p){1&i&&(t.j41(0,"tr",10)(1,"th",11),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",12),t.nrm(4,"i",13),t.EFF(5," Order Code "),t.k0s(),t.j41(6,"th",14),t.nrm(7,"i",13),t.EFF(8," Created Date "),t.k0s(),t.j41(9,"th",15),t.nrm(10,"i",13),t.EFF(11," City Name "),t.k0s(),t.j41(12,"th",16),t.nrm(13,"i",13),t.EFF(14," District Name "),t.k0s(),t.j41(15,"th",17),t.nrm(16,"i",13),t.EFF(17," Channel Name "),t.k0s(),t.j41(18,"th",18),t.nrm(19,"i",13),t.EFF(20," Visit Date "),t.k0s()())}function x(i,p){if(1&i&&(t.j41(0,"tr",19)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.nI1(16,"date"),t.k0s()()),2&i){const e=p.$implicit,n=p.rowIndex;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(e.orderCode),t.R7$(2),t.JRh(t.i5U(7,7,e.createdDate,"mediumDate")),t.R7$(3),t.JRh(e.cityName),t.R7$(2),t.JRh(e.districtName),t.R7$(2),t.JRh(e.channelName),t.R7$(2),t.JRh(t.i5U(16,10,e.visitDate,"mediumDate"))}}function M(i,p){1&i&&(t.j41(0,"div",20),t.EFF(1," general.table.noData"),t.k0s())}function O(i,p){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"div",22),t.nrm(2,"ngb-pagination-info",23),t.j41(3,"table-length",24),t.bIt("lengthChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.ListItemChange(a))}),t.k0s()(),t.j41(4,"div",25)(5,"ngb-pagination",26),t.bIt("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChanged(a))}),t.mxI("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.DH7(r.pagination.pageNumber,a)||(r.pagination.pageNumber=a),t.Njj(a)}),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("pagination",e.pagination),t.R7$(),t.Y8G("lengthTable",e.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.totalItems),t.R50("page",e.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let L=(()=>{class i extends l.w{constructor(e,n,a,r,f,u,R,b){super(n,a,b,r,f,u,R),this.router=e,this.baseService=r,this.countLoad=2}loadentities(){this.pagination.agentCode=+this.clientIdInput,this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.getOrders(this.pagination).pipe((0,_.Q)(this.notifier)).subscribe(e=>{this.entities=e.data,this.pagination.totalItems=e.totalItems,this.LoadSuccess()},e=>{this.alertService.error(e)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(d.Ix),t.rXU(d.nX),t.rXU(c.c$),t.rXU(g.X),t.rXU(o.u),t.rXU(m.vh),t.rXU(E.eD),t.rXU(h.Bq))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["agent-orders"]],inputs:{clientIdInput:"clientIdInput"},features:[t.Vt3],decls:11,vars:6,consts:[["tableMaster",""],["translate","client.clientProfile.orders"],[1,"row"],[1,"col-12"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","orderCode","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","createdDate","translate","",2,"width","10%"],["pSortableColumn","cityName","translate","",2,"width","10%"],["pSortableColumn","districtName","translate","",2,"width","10%"],["pSortableColumn","channelName","translate","",2,"width","10%"],["pSortableColumn","visitDate","translate","",2,"width","8%"],[1,"fs-5"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"]],template:function(n,a){if(1&n){const r=t.RV6();t.j41(0,"h5"),t.nrm(1,"span",1),t.k0s(),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-table",5,0),t.bIt("onLazyLoad",function(u){return t.eBV(r),t.Njj(a.tableChange(u))})("selectionChange",function(u){return t.eBV(r),t.Njj(a.onSelectionChange(u))}),t.DNE(7,T,21,0,"ng-template",6)(8,x,17,13,"ng-template",7),t.k0s()(),t.DNE(9,M,2,0,"div",8)(10,O,6,8,"div",9),t.k0s()()}2&n&&(t.R7$(5),t.Y8G("value",a.entities)("rows",a.pagination.pageSize)("lazy",!0)("totalRecords",a.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",a.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",a.pagination.totalItems>0))},dependencies:[m.bT,F.Ei,c.Mm,C.XI,C.Tg,S.p,j.g,m.vh],encapsulation:2})}}return i})();var D=s(37021),y=s(35335),U=s(45236),w=s(70980),P=s(10426),k=s(91426),A=s(40724),N=s(98993);function G(i,p){1&i&&(t.j41(0,"tr",15)(1,"th",16),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",17),t.nrm(4,"i",18),t.EFF(5," crm.clientReview.orderId "),t.k0s(),t.j41(6,"th",19),t.nrm(7,"i",18),t.EFF(8," crm.clientReview.questionName "),t.k0s(),t.j41(9,"th",20),t.nrm(10,"i",18),t.EFF(11," crm.clientReview.endStatusName "),t.k0s(),t.j41(12,"th",21),t.nrm(13,"i",18),t.EFF(14," crm.clientReview.actionDoing "),t.k0s(),t.nrm(15,"th",22),t.k0s())}function $(i,p){if(1&i&&t.EFF(0),2&i){const e=t.XpG().$implicit;t.SpI(" ",e.nameAr," ")}}function X(i,p){if(1&i&&t.EFF(0),2&i){const e=t.XpG().$implicit;t.SpI(" ",e.clientReviewActionDoingName," ")}}function B(i,p){if(1&i&&(t.nrm(0,"i",30),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"br")(4,"i",31),t.EFF(5),t.nI1(6,"date"),t.nrm(7,"br")(8,"i",32),t.EFF(9),t.nrm(10,"br")(11,"i",32),t.EFF(12)),2&i){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,4,e.creationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",t.i5U(6,7,e.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",e.creatorName,""),t.R7$(3),t.SpI(" ",e.lastModificationName," ")}}function z(i,p){if(1&i&&(t.j41(0,"tr",23)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.DNE(5,$,1,1,"ng-template",null,1,t.C5r),t.j41(7,"td")(8,"span",24),t.EFF(9),t.nI1(10,"truncate"),t.k0s()(),t.j41(11,"td")(12,"span",25),t.EFF(13),t.nI1(14,"truncate"),t.k0s(),t.nrm(15,"i",26),t.j41(16,"span",25),t.EFF(17),t.nI1(18,"truncate"),t.k0s()(),t.DNE(19,X,1,1,"ng-template",null,2,t.C5r),t.j41(21,"td")(22,"span",24),t.EFF(23),t.nI1(24,"truncate"),t.k0s()(),t.j41(25,"td"),t.DNE(26,B,13,10,"ng-template",null,3,t.C5r),t.j41(28,"span",27)(29,"div",28),t.nrm(30,"i",29),t.k0s()()()()),2&i){const e=p.$implicit,n=p.rowIndex,a=t.sdS(6),r=t.sdS(20),f=t.sdS(27);t.R7$(2),t.JRh(n+1),t.R7$(2),t.SpI("#SO#",e.orderId,""),t.R7$(4),t.Y8G("ngbTooltip",a),t.R7$(),t.JRh(t.i5U(10,13,e.nameAr,50)),t.R7$(3),t.xc7("background-color",e.startStatusColor),t.R7$(),t.JRh(t.i5U(14,16,e.startStatusName,50)),t.R7$(3),t.xc7("background-color",e.endStatusColor),t.R7$(),t.JRh(t.i5U(18,19,e.endStatusName,50)),t.R7$(5),t.Y8G("ngbTooltip",r),t.R7$(),t.JRh(t.i5U(24,22,e.clientReviewActionDoingName,20)),t.R7$(7),t.Y8G("ngbTooltip",f)}}function V(i,p){1&i&&(t.j41(0,"div",33),t.EFF(1," general.table.noData"),t.k0s())}function K(i,p){if(1&i){const e=t.RV6();t.j41(0,"div",34)(1,"div",35),t.nrm(2,"ngb-pagination-info",36),t.j41(3,"table-length",37),t.bIt("lengthChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.ListItemChange(a))}),t.k0s()(),t.j41(4,"div",38)(5,"ngb-pagination",39),t.bIt("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChanged(a))}),t.mxI("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.DH7(r.pagination.pageNumber,a)||(r.pagination.pageNumber=a),t.Njj(a)}),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("pagination",e.pagination),t.R7$(),t.Y8G("lengthTable",e.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.totalItems),t.R50("page",e.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let Y=(()=>{class i extends l.w{constructor(e,n,a,r,f,u,R,b){super(e,n,R,a,r,f,u),this.baseService=a,this.excelService=b,this.title="client.clientProfile.reView",this.titleOperation="crm.clientReview.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.types=[],this.actionDoing=[],this.isResolveList=!0,this.clientSelected=0,this.questions=[],this.clients=[],this.searchForm={dates:{from:null,to:null}},this.clientIdInput=0,this.loadentities()}loadentities(){0!=this.clientIdInput&&(this.pagination.clientId=this.clientIdInput,this.baseService.get(this.pagination).pipe((0,_.Q)(this.notifier)).subscribe(e=>{this.entities=e.data,this.pagination.totalItems=e.totalItems,this.LoadSuccess()},e=>{this.alertService.error(e)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}ngOnInitMore(){this.clientReviewLookUp(),this.breadCrumbItems=[{label:"layout.sidebar.crm"},{label:this.title,active:!0}]}openModalTitle(e,n="md"){this.isEditForm=!1,this.form={clientReviewAnswers:[]},this.modalService.open(e,{centered:!0,size:n})}openModal(e,n,a="md"){this.isEditForm=!1,this.form={clientReviewAnswers:[]},this.selectedRow=[{id:e}],this.modalService.open(n,{centered:!0,size:a})}mapForm(e){let n={};return n.id=e.id,n.clientReviewActionDoingId=e.clientReviewActionDoingId,n.endStatusId=e.endStatusId,n.note=e.note,n.value=e.value.toString(),n}onUpdateIsActive(e){this.baseService.updateActive(e).pipe((0,_.Q)(this.notifier)).subscribe(n=>{n?this.alertService.success():this.alertService.error("general.message."+n)},n=>{this.alertService.error()})}mapRegisterForm(e){let n={};return n.id=e.id,n.reviewQuestionId=e.reviewQuestionId,n.clientReviewActionDoingId=e.clientReviewActionDoingId,n.endStatusId=e.endStatusId,n.note=e.note,n}clientReviewLookUp(){this.baseService.ClientReviewLookUp().subscribe(e=>{this.clients=e.data.clients,this.types=e.data.types,this.actionDoing=e.data.actionDoing,this.questions=e.data.questions},e=>{console.log(e)})}configRoute(){this.routerActive.data.pipe((0,_.Q)(this.notifier)).subscribe(e=>{this.entities=e.data.data,this.pagination.totalItems=e.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let e=[];return this.entities?.forEach(n=>{e.push({Client:n.clientName,Mobile:n.mobile,OrderId:n.orderId,Question:n.nameAr,IntailStatus:n.startStatusName,FinalStatus:n.endStatusColor,note:n.note})}),e}onExportXlsx(){let e=this.mapExcel();this.excelService.exportAsExcelFile(e,this.getTranslationText(this.title),[])}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.filter(),this.loadentities()}openModalClient(e,n,a="xl"){this.clientSelected=e,this.modalService.open(n,{centered:!0,size:a})}EditModel(e,n,a="md"){this.isEditForm=!0,this.baseService.getById(e.id).pipe((0,_.Q)(this.notifier)).subscribe(r=>{if(r.success){let f=r.data;this.questions=this.questions.filter(u=>u.id==f.reviewQuestionId),this.form=f}else this.alertService.error("general.message."+r.message);this.modalService.open(n,{centered:!0,size:a})},r=>{this.alertService.error()})}ChangeStatusModel(e,n,a="md"){this.form={},this.form.id=e.id,this.form.clientReviewActionDoingId=e.clientReviewActionDoingId,this.form.notes=e.notes,this.form.endStatusId=e.endStatusId,this.modalService.open(n,{centered:!0,size:a})}filter(){var e=this.searchForm.dates;e+void 0&&"to"in e?(this.pagination.dateFrom=this.datePipe.transform(e.from,"yyyy-MM-ddT00:00:00.000"),this.pagination.dateTo=this.datePipe.transform(e.to,"yyyy-MM-ddT23:59:59.999")):(this.pagination.dateFrom=null,this.pagination.dateTo=null)}onReset(){this.form={},this.searchForm={dates:{from:null,to:null}},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onUpdateReviewQuestion(){this.baseService.UpdateReviewQuestion(this.form).pipe((0,D.O)(),(0,y.c)(this.mainDelay),(0,U.Z)(),(0,_.Q)(this.notifier),(0,w.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(e=>{e.success?this.submitFunished():this.alertService.error("general.message."+e.message)},e=>{this.alertService.error("general.message."+e)})}getLength(e){if(null!=e&&""!==e)return e.split(",").length}editEntity(){let e=this.mapForm(this.form);this.baseService.ClientReviewQuestionEdit(e).pipe((0,D.O)(),(0,y.c)(this.mainDelay),(0,U.Z)(),(0,_.Q)(this.notifier),(0,w.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(n=>{n.success?this.submitFunished():this.alertService.error("general.message."+n.message)},n=>{this.alertService.error("general.message."+n)})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(d.nX),t.rXU(c.c$),t.rXU(P.Z),t.rXU(o.u),t.rXU(m.vh),t.rXU(E.eD),t.rXU(h.Bq),t.rXU(k.V))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["clientReview"]],inputs:{clientIdInput:"clientIdInput"},features:[t.Vt3],decls:12,vars:11,consts:[["tableMaster",""],["nameAr",""],["clientReviewActionDoingName",""],["tooltipContent",""],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"exportXlsx","showSearch","showAdd","showAllStr","totalItems","title"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","orderId","translate","",2,"width","15%"],[1,"ri-expand-up-down-line"],["pSortableColumn","name","translate","",2,"width","30%"],["pSortableColumn","endStatusId","translate","",2,"width","30%"],["pSortableColumn","clientReviewActionDoingId","translate","",2,"width","10%"],["translate","",2,"width","5%"],[1,"fs-5"],["tooltipPosition","top",3,"ngbTooltip"],[1,"badge","color-crm"],[1,"ri-arrow-right-circle-line","text-danger","mx-1"],[1,"d-inline"],["ngbDropdown","",1,"dropdown"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"]],template:function(n,a){if(1&n){const r=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"base-filter",7),t.bIt("exportXlsx",function(){return t.eBV(r),t.Njj(a.onExportXlsx())}),t.k0s(),t.j41(4,"div",8)(5,"div",9)(6,"p-table",10,0),t.bIt("onLazyLoad",function(u){return t.eBV(r),t.Njj(a.tableChange(u))})("selectionChange",function(u){return t.eBV(r),t.Njj(a.onSelectionChange(u))}),t.DNE(8,G,16,0,"ng-template",11)(9,z,31,25,"ng-template",12),t.k0s()(),t.DNE(10,V,2,0,"div",13)(11,K,6,8,"div",14),t.k0s()()()()}2&n&&(t.R7$(3),t.Y8G("showSearch",!1)("showAdd",!1)("showAllStr",!1)("totalItems",10)("title","statistics.orderManager.orderForDays"),t.R7$(3),t.Y8G("value",a.entities)("rows",a.pagination.pageSize)("lazy",!0)("totalRecords",a.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",a.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",a.pagination.totalItems>0))},dependencies:[m.bT,h.tg,F.Ei,c.Mm,h.md,C.XI,C.Tg,A.b,S.p,j.g,m.vh,N.H],encapsulation:2})}}return i})();function W(i,p){1&i&&(t.j41(0,"tr",10)(1,"th",11),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",12),t.nrm(4,"i",13),t.EFF(5," Discount "),t.k0s(),t.j41(6,"th",14),t.nrm(7,"i",13),t.EFF(8," InvoiceCode "),t.k0s(),t.j41(9,"th",15),t.nrm(10,"i",13),t.EFF(11," Net "),t.k0s(),t.j41(12,"th",16),t.nrm(13,"i",13),t.EFF(14," Notes "),t.k0s(),t.j41(15,"th",17),t.nrm(16,"i",13),t.EFF(17," Tax "),t.k0s(),t.j41(18,"th",18),t.nrm(19,"i",13),t.EFF(20," Total "),t.k0s(),t.j41(21,"th",19),t.nrm(22,"i",13),t.EFF(23," Service Name "),t.k0s()())}function Q(i,p){if(1&i&&(t.j41(0,"tr",20)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s()()),2&i){const e=p.$implicit,n=p.rowIndex;t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(e.discount),t.R7$(2),t.JRh(e.invoiceCode),t.R7$(2),t.JRh(e.net),t.R7$(2),t.JRh(e.notes),t.R7$(2),t.JRh(e.tax),t.R7$(2),t.JRh(e.total),t.R7$(2),t.JRh(e.services)}}function J(i,p){1&i&&(t.j41(0,"div",21),t.EFF(1," general.table.noData"),t.k0s())}function H(i,p){if(1&i){const e=t.RV6();t.j41(0,"div",22)(1,"div",23),t.nrm(2,"ngb-pagination-info",24),t.j41(3,"table-length",25),t.bIt("lengthChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.ListItemChange(a))}),t.k0s()(),t.j41(4,"div",26)(5,"ngb-pagination",27),t.bIt("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChanged(a))}),t.mxI("pageChange",function(a){t.eBV(e);const r=t.XpG();return t.DH7(r.pagination.pageNumber,a)||(r.pagination.pageNumber=a),t.Njj(a)}),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("pagination",e.pagination),t.R7$(),t.Y8G("lengthTable",e.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.totalItems),t.R50("page",e.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let Z=(()=>{class i extends l.w{constructor(e,n,a,r,f,u,R,b){super(n,a,b,r,f,u,R),this.router=e,this.baseService=r,this.countLoad=2}loadentities(){this.pagination.agentCode=+this.clientIdInput,this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.getInvoices(this.pagination).pipe((0,_.Q)(this.notifier)).subscribe(e=>{this.entities=e.data,this.pagination.totalItems=e.totalItems,this.LoadSuccess()},e=>{this.alertService.error(e)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(d.Ix),t.rXU(d.nX),t.rXU(c.c$),t.rXU(g.X),t.rXU(o.u),t.rXU(m.vh),t.rXU(E.eD),t.rXU(h.Bq))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["agent-invoices"]],inputs:{clientIdInput:"clientIdInput"},features:[t.Vt3],decls:11,vars:6,consts:[["tableMaster",""],["translate","client.clientProfile.invoices"],[1,"row"],[1,"col-12"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","discount","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","invoiceCode","translate","",2,"width","10%"],["pSortableColumn","net","translate","",2,"width","10%"],["pSortableColumn","notes","translate","",2,"width","10%"],["pSortableColumn","tax","translate","",2,"width","10%"],["pSortableColumn","total","translate","",2,"width","8%"],["pSortableColumn","services","translate","",2,"width","8%"],[1,"fs-5"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"]],template:function(n,a){if(1&n){const r=t.RV6();t.j41(0,"h5"),t.nrm(1,"span",1),t.k0s(),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-table",5,0),t.bIt("onLazyLoad",function(u){return t.eBV(r),t.Njj(a.tableChange(u))})("selectionChange",function(u){return t.eBV(r),t.Njj(a.onSelectionChange(u))}),t.DNE(7,W,24,0,"ng-template",6)(8,Q,17,8,"ng-template",7),t.k0s()(),t.DNE(9,J,2,0,"div",8)(10,H,6,8,"div",9),t.k0s()()}2&n&&(t.R7$(5),t.Y8G("value",a.entities)("rows",a.pagination.pageSize)("lazy",!0)("totalRecords",a.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",a.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",a.pagination.totalItems>0))},dependencies:[m.bT,F.Ei,c.Mm,C.XI,C.Tg,S.p,j.g],encapsulation:2})}}return i})(),q=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["personal-info"]],inputs:{ClientInfo:"ClientInfo"},decls:31,vars:4,consts:[["translate","client.clientProfile.profile"],[1,"row"],[1,"col-lg-6"],[1,"mb-3"],[1,"form-label"],[1,"form-control"]],template:function(n,a){1&n&&(t.j41(0,"h5"),t.nrm(1,"span",0),t.k0s(),t.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),t.EFF(6,"Name"),t.k0s(),t.j41(7,"div",5)(8,"span"),t.EFF(9),t.k0s()()()(),t.j41(10,"div",2)(11,"div",3)(12,"label",4),t.EFF(13,"Mobil"),t.k0s(),t.j41(14,"div",5)(15,"span"),t.EFF(16),t.k0s()()()(),t.j41(17,"div",2)(18,"div",3)(19,"label",4),t.EFF(20,"City"),t.k0s(),t.j41(21,"div",5)(22,"span"),t.EFF(23),t.k0s()()()(),t.j41(24,"div",2)(25,"div",3)(26,"label",4),t.EFF(27,"Channel"),t.k0s(),t.j41(28,"div",5)(29,"span"),t.EFF(30),t.k0s()()()()()),2&n&&(t.R7$(9),t.JRh(a.ClientInfo.agentName?a.ClientInfo.agentName:"--"),t.R7$(7),t.JRh(a.ClientInfo.mobile?a.ClientInfo.mobile:"--"),t.R7$(7),t.JRh(a.ClientInfo.mobile?a.ClientInfo.cityName:"--"),t.R7$(7),t.JRh(a.ClientInfo.mobile?a.ClientInfo.channelName:"--"))},dependencies:[c.Mm],encapsulation:2})}}return i})();function tt(i,p){if(1&i&&t.nrm(0,"personal-info",21),2&i){const e=t.XpG();t.Y8G("ClientInfo",e.clientInfo)}}function et(i,p){if(1&i&&t.nrm(0,"agent-invoices",22),2&i){const e=t.XpG();t.Y8G("clientIdInput",e.clientId?e.clientId:e.clientIdInput)}}function nt(i,p){if(1&i&&t.nrm(0,"agent-orders",22),2&i){const e=t.XpG();t.Y8G("clientIdInput",e.clientId?e.clientId:e.clientIdInput)}}function it(i,p){if(1&i&&t.nrm(0,"clientReview",22),2&i){const e=t.XpG();t.Y8G("clientIdInput",e.clientIdInput)}}function at(i,p){}function st(i,p){}function ot(i,p){}let rt=(()=>{class i{constructor(e,n){this.baseService=e,this._activeRoute=n,this.clientId=0,this._activeRoute.params.subscribe(a=>{a.id&&(this.clientId=+a.id,this.clientIdInput=this.clientId)})}ngOnInit(){this.getClientInfo()}getClientInfo(){this.baseService.getById(this.clientId?this.clientId:this.clientIdInput).subscribe({next:e=>{this.clientInfo=e.data}})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(g.X),t.rXU(d.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["client-profile-main"]],inputs:{clientIdInput:"clientIdInput"},decls:40,vars:9,consts:[["CustomVertical","ngbNav"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-12","col-lg-2"],["role","tablist","aria-orientation","vertical",1,""],["ngbNav","",1,"nav","animation-nav","nav-pills","flex-column","nav-pills-tab","custom-verti-nav-pills","text-center",3,"activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["translate","client.clientProfile.profile"],["ngbNavContent",""],["translate","client.clientProfile.invoices"],["translate","client.clientProfile.orders"],["translate","client.clientProfile.reView"],["translate","client.clientProfile.payments"],["translate","client.clientProfile.porposals"],["translate","client.clientProfile.notes"],[1,"col-lg-10"],[1,"tab-content","text-muted","mt-3","mt-lg-0"],[3,"ngbNavOutlet"],[3,"ClientInfo"],[3,"clientIdInput"]],template:function(n,a){if(1&n&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",1)(5,"div",5)(6,"div",6)(7,"ul",7,0)(9,"li",8)(10,"a",9),t.nrm(11,"span",10),t.k0s(),t.DNE(12,tt,1,1,"ng-template",11),t.k0s(),t.j41(13,"li",8)(14,"a",9),t.nrm(15,"span",12),t.k0s(),t.DNE(16,et,1,1,"ng-template",11),t.k0s(),t.j41(17,"li",8)(18,"a",9),t.nrm(19,"span",13),t.k0s(),t.DNE(20,nt,1,1,"ng-template",11),t.k0s(),t.j41(21,"li",8)(22,"a",9),t.nrm(23,"span",14),t.k0s(),t.DNE(24,it,1,1,"ng-template",11),t.k0s(),t.j41(25,"li",8)(26,"a",9),t.nrm(27,"span",15),t.k0s(),t.DNE(28,at,0,0,"ng-template",11),t.k0s(),t.j41(29,"li",8)(30,"a",9),t.nrm(31,"span",16),t.k0s(),t.DNE(32,st,0,0,"ng-template",11),t.k0s(),t.j41(33,"li",8)(34,"a",9),t.nrm(35,"span",17),t.k0s(),t.DNE(36,ot,0,0,"ng-template",11),t.k0s()()()(),t.j41(37,"div",18)(38,"div",19),t.nrm(39,"div",20),t.k0s()()()()()()()),2&n){const r=t.sdS(8);t.R7$(7),t.Y8G("activeId",1),t.R7$(2),t.Y8G("ngbNavItem",1),t.R7$(4),t.Y8G("ngbNavItem",2),t.R7$(4),t.Y8G("ngbNavItem",3),t.R7$(4),t.Y8G("ngbNavItem",4),t.R7$(4),t.Y8G("ngbNavItem",5),t.R7$(4),t.Y8G("ngbNavItem",6),t.R7$(4),t.Y8G("ngbNavItem",7),t.R7$(6),t.Y8G("ngbNavOutlet",r)}},dependencies:[h.Um,h.X9,h.sy,h.Gx,h.Ri,h.WA,h.m_,c.Mm,L,Y,Z,q],encapsulation:2})}}return i})()}}]);