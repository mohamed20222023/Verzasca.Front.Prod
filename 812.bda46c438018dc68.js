"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[812],{28812:(N,P,r)=>{r.r(P),r.d(P,{marketingModule:()=>Le});var t=r(60177),h=r(89417),_=r(69005),v=r(91022),O=r(70255),C=r(63789),y=r(98982),b=r.n(y),x=r(53978),f=r(8147),M=r(45286),D=r(65430),k=r(41631),L=r(1530),S=r(72510),m=r(51188),E=r(56977),g=r(37021),I=r(35335),u=r(45236),B=r(70980),a=r(99437),d=r(18810),T=r(75622),F=r(36158),e=r(54438),w=r(3888),X=r(67569),W=r(45312),K=r(21626);let $=(()=>{class o extends X.d{constructor(n){super(n,W.c.apiUrl+"ProductOffer/")}static{this.\u0275fac=function(s){return new(s||o)(e.KVO(K.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var H=r(54384),Q=r(84205),J=r(75922),Z=r(26364),Y=r(5779),q=r(29935);function ee(o,j){1&o&&(e.j41(0,"div",44),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function te(o,j){1&o&&(e.j41(0,"div",44),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ie(o,j){1&o&&(e.j41(0,"div",44),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ne(o,j){1&o&&(e.j41(0,"tr",45)(1,"th",46),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",47),e.EFF(4," sales.visitPlan.customerName "),e.k0s(),e.j41(5,"th",47),e.EFF(6," sales.visitPlan.date "),e.k0s(),e.j41(7,"th",47),e.EFF(8," sales.visitPlan.visitType "),e.k0s(),e.j41(9,"th",48),e.EFF(10," sales.visitPlan.visitObjectives "),e.k0s(),e.j41(11,"th",47),e.EFF(12," sales.visitPlan.status "),e.k0s(),e.j41(13,"th",47),e.EFF(14," sales.visitPlan.note "),e.k0s(),e.nrm(15,"th",49),e.k0s())}function re(o,j){if(1&o){const n=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(n);const i=e.XpG().rowIndex,l=e.XpG();return e.Njj(l.onDelete(i))}),e.nrm(1,"i",55),e.k0s()}}function ae(o,j){if(1&o){const n=e.RV6();e.j41(0,"tr",50)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"input",51),e.mxI("ngModelChange",function(i){const l=e.eBV(n).rowIndex,p=e.XpG();return e.DH7(p.formMaster.visits[l].date,i)||(p.formMaster.visits[l].date=i),e.Njj(i)}),e.k0s()(),e.nrm(7,"td")(8,"td")(9,"td"),e.j41(10,"td")(11,"textarea",52,1),e.mxI("ngModelChange",function(i){const l=e.eBV(n).rowIndex,p=e.XpG();return e.DH7(p.formMaster.visits[l].note,i)||(p.formMaster.visits[l].note=i),e.Njj(i)}),e.k0s()(),e.j41(13,"td"),e.DNE(14,re,2,0,"button",53),e.k0s()()}if(2&o){const n=j.$implicit,s=j.rowIndex,i=e.XpG();e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.clientName),e.R7$(2),e.Mz_("name","date",s,""),e.R50("ngModel",i.formMaster.visits[s].date),e.Y8G("altInput",!0)("enableTime",!0)("convertModelValue",!0)("dateFormat","d-m-Y H:i"),e.R7$(5),e.Mz_("name","note",s,""),e.Mz_("id","note",s,""),e.R50("ngModel",i.formMaster.visits[s].note),e.R7$(3),e.Y8G("ngIf",10==i.formMaster.visits[s].status)}}let se=(()=>{class o extends T.w{constructor(n,s,i,l,p,c,G,U,A,R,V){super(n,s,G,p,i,l,c),this.baseService=p,this.service=U,this.clientGroupsService=A,this.clientService=R,this.router=V,this.editPaln="marketing.productOffer.editOffer",this.addPlan="marketing.productOffer.addOffer",this.titleOperation="marketing.productOffer.titleOperation",this.submitted=!1,this.pagination={pageNumber:1,pageSize:1e3},this.form=[],this.formMaster={id:0,visits:[]},this.listId=0,this.clients=[],this.formClient={},this.offerTypes=[{id:1,name:"BuyXGetYFree"},{id:2,name:"FixedAmountDiscount"},{id:3,name:"PercentageDiscount"}],this.showTable=!1,this.selectedServices=[]}ngOnInitMore(){this.listId=this.routerActive.snapshot.paramMap.get("id"),this.GetLookups(),this.configRoute(),this.breadCrumbItems=[{label:"layout.sidebar.marketing"},{label:"marketing.productOffer.title",active:!0,url:"/marketing/productOffers"},{label:this.isEditForm?"general.action.edit":"general.action.register",active:!0}],this.configTypes()}configTypes(){this.offerTypes.forEach(n=>{n.name=this.getTranslationText("marketing.productOffer."+n.name)})}GetById(){this.baseService.getById(this.listId).pipe((0,E.Q)(this.notifier)).subscribe(n=>{n.success?(this.isEditForm=!0,this.formMaster=n.data):this.alertService.error("general.message."+n.message)},n=>{this.alertService.error()})}GetLookups(){}back(){this.router.navigate(["/sales/visit-plans"])}mapForm(n){let s=structuredClone(n);return s.dateFrom=this.datePipe.transform(s.dateFrom,"yyyy-MM-ddT00:00:00.000"),s.dateTo=this.datePipe.transform(s.dateTo,"yyyy-MM-ddT00:00:00.000"),s}mapRegisterForm(n){let s=structuredClone(n);return s.dateFrom=this.datePipe.transform(s.dateFrom,"yyyy-MM-ddT00:00.000"),s.dateTo=this.datePipe.transform(s.dateTo,"yyyy-MM-ddT00:00.000"),s}OnSubmit(){this.validForm()&&(this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity())}validForm(){return!0}submitFunished(){this.alertService.success(),this.ngxLoader.stop(F.a7),this.ngxLoader.stop(F.ZW),this.btnDisabled=!0}registerEntity(){this.ngxLoader.startLoader(this.operationLoader);let n=this.mapRegisterForm(this.formMaster);this.baseService.register(n).pipe((0,g.O)(),(0,I.c)(this.mainDelay),(0,u.Z)(),(0,E.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,a.W)(s=>(0,d.$)(s))).subscribe(s=>{s.success?(this.goList(s.data),this.submitFunished()):this.alertService.error("general.message."+s.message)},s=>{this.alertService.error("general.message."+s)})}editEntity(){this.ngxLoader.startLoader(this.operationLoader);let n=this.mapForm({...this.formMaster});this.baseService.editPut(n.id,n).pipe((0,g.O)(),(0,I.c)(this.mainDelay),(0,u.Z)(),(0,E.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(s=>{s.success?this.submitFunished():this.alertService.error("general.message."+s.message)},s=>{this.alertService.error("general.message."+s)})}goList(n){this.router.navigateByUrl("/sales/visit-plans/")}controlDateFormat(n){"dateFrom"===n?this.form[n]=this.datePipe.transform(this.form[n],"yyyy-MM-ddT00:00:00"):"dateTo"===n&&(this.form[n]=this.datePipe.transform(this.form[n],"yyyy-MM-ddT23:59:59.999"))}onDelete(n){this.formMaster.visits.splice(n,1)}configRoute(){this.routerActive.data.pipe((0,E.Q)(this.notifier)).subscribe(n=>{if(n.data?.success){this.isEditForm=!0;let s=n.data.data;s.visits.forEach(i=>{i.date=new Date(i.date)}),this.formMaster=s}},()=>{this.alertService.error()})}addService(n){const s=n.target,i=s.value.trim();i&&!this.selectedServices.includes(i)&&this.selectedServices.push(i),s.value=""}removeService(n){this.selectedServices.splice(n,1)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.nX),e.rXU(f.c$),e.rXU(w.u),e.rXU(t.vh),e.rXU($),e.rXU(L.eD),e.rXU(_.Bq),e.rXU(H.m),e.rXU(Q.t),e.rXU(J.X),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["product-offer"]],features:[e.Vt3],decls:65,vars:31,consts:[["formEntity","ngForm"],["name","ngModel"],["dateFrom","ngModel"],["dateTo","ngModel"],["offerType","ngModel"],["tableMaster",""],[3,"title","breadcrumbItems"],[1,"row"],["overlayColor","rgba(255,255,255,0.05)","fgsColor","rgba(255,255,255,0)",3,"loaderId"],[1,"card","grid"],[1,"modal-header","p-0"],[1,"fs-3"],["translate","marketing.productOffer.displayData",1,"badge","rounded-pill","bg-primary"],[1,"card-body"],[3,"submit"],[1,"col-12","col-md-3"],["for","name","translate","marketing.productOffer.offerTitle",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","name","type","text","id","name","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"col-12","col-md-3","mb-3"],["for","dateFrom","translate","marketing.productOffer.startDate",1,"fw-bold","form-label","required"],[1,"input-group"],["type","text","mwlFlatpickr","","name","dateFrom","id","dateFrom","altFormat","d/m/Y","required","",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],["for","dateTo","translate","marketing.productOffer.endDate",1,"fw-bold","form-label","required"],["type","text","mwlFlatpickr","","name","dateTo","id","dateTo","altFormat","d/m/Y","required","",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","disabled","minDate","altInput","convertModelValue","placeholder","ngModel"],[1,"col-12","col-md-2","mb-3"],["for","isActive","translate","marketing.productOffer.isActive",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["translate","marketing.productOffer.offerSetting",1,"badge","rounded-pill","bg-primary"],[1,"row","align-items-center"],["translate","marketing.productOffer.offerType",1,"fw-bold","form-label","w-100"],["clearable","true","clearable","false","clearOnBackspace","false","name","offerType","bindValue","id","bindLabel","name",2,"width","100%",3,"ngModelChange","items","ngModel"],[1,"mt-3"],["translate","putPercentageDiscount"],[1,"ri-checkbox-multiple-fill","text-primary","mx-2"],["translate","sales.visitPlan.visitData",1,"badge","rounded-pill","bg-primary"],[1,"table-responsive"],["dataKey","id",3,"value","rows"],["pTemplate","header"],["pTemplate","body"],[1,"row","justify-content-center","py-2"],[1,"text-center","text-danger","text-bold","fs-6","col-2"],[1,"btn","btn-dark",3,"click"],[1,"ri-check-double-fill","align-bottom"],["translate","",1,"text-danger","text-center"],[1,""],["translate","",2,"width",".5%"],["translate","",2,"width","10%"],["translate","",2,"width","20%"],[2,"width","5%"],[1,"fs-5"],["type","text","mwlFlatpickr","","altFormat","d-m-Y H:i","required","",1,"form-control","flatpickr-input",3,"ngModelChange","ngModel","name","altInput","enableTime","convertModelValue","dateFormat"],["rows","1","InputTirmFilter","","type","text",1,"form-control","fs-6",3,"ngModelChange","name","ngModel","id"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"]],template:function(s,i){if(1&s){const l=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7),e.nrm(3,"ngx-ui-loader",8),e.j41(4,"div",9)(5,"div",10)(6,"h6",11),e.nrm(7,"span",12),e.k0s()(),e.j41(8,"div",13)(9,"form",14,0),e.bIt("submit",function(){return e.eBV(l),e.Njj(i.OnSubmit())}),e.j41(11,"div",7)(12,"div",15),e.nrm(13,"label",16),e.j41(14,"input",17,1),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.formMaster.name,c)||(i.formMaster.name=c),e.Njj(c)}),e.k0s(),e.DNE(16,ee,2,0,"div",18),e.k0s(),e.j41(17,"div",19),e.nrm(18,"label",20),e.j41(19,"div",21)(20,"input",22,2),e.nI1(22,"translate"),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.formMaster.dateFrom,c)||(i.formMaster.dateFrom=c),e.Njj(c)}),e.bIt("ngModelChange",function(){return e.eBV(l),e.Njj(i.controlDateFormat("dateFrom"))}),e.k0s()(),e.DNE(23,te,2,0,"div",18),e.k0s(),e.j41(24,"div",19),e.nrm(25,"label",23),e.j41(26,"div",21)(27,"input",24,3),e.nI1(29,"translate"),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.formMaster.dateTo,c)||(i.formMaster.dateTo=c),e.Njj(c)}),e.bIt("ngModelChange",function(){return e.eBV(l),e.Njj(i.controlDateFormat("dateTo"))}),e.k0s()(),e.DNE(30,ie,2,0,"div",18),e.k0s(),e.j41(31,"div",25),e.nrm(32,"label",26),e.j41(33,"p-inputSwitch",27),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.formMaster.isActive,c)||(i.formMaster.isActive=c),e.Njj(c)}),e.k0s()()()()()(),e.j41(34,"div",9)(35,"div",10)(36,"h6",11),e.nrm(37,"span",28),e.k0s()(),e.j41(38,"div",13)(39,"div",29)(40,"div",15),e.nrm(41,"label",30),e.j41(42,"ng-select",31,4),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.form.offerType,c)||(i.form.offerType=c),e.Njj(c)}),e.k0s()()(),e.j41(44,"div",32),e.nrm(45,"span",33)(46,"span",34),e.k0s()()(),e.j41(47,"div",7)(48,"div",9)(49,"div",10)(50,"h6",11),e.nrm(51,"span",35),e.k0s()(),e.j41(52,"div",13)(53,"div",36)(54,"p-table",37,5),e.DNE(56,ne,16,0,"ng-template",38)(57,ae,15,15,"ng-template",39),e.k0s()(),e.j41(58,"div",40)(59,"div",41)(60,"a",42),e.bIt("click",function(){return e.eBV(l),e.Njj(i.back())}),e.nrm(61,"i",43),e.j41(62,"span"),e.EFF(63),e.nI1(64,"translate"),e.k0s()()()()()()()()}if(2&s){const l=e.sdS(15),p=e.sdS(21),c=e.sdS(28);e.FS9("title",0==i.isEditForm?i.addPlan:e.bMT(1,23,i.editPaln)),e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(3),e.Y8G("loaderId",i.operationLoader),e.R7$(11),e.R50("ngModel",i.formMaster.name),e.R7$(2),e.Y8G("ngIf",l.invalid&&l.touched),e.R7$(4),e.FS9("placeholder",e.bMT(22,25,"hr.target.dateFrom")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",i.formMaster.dateFrom),e.R7$(3),e.Y8G("ngIf",p.invalid&&p.touched),e.R7$(4),e.FS9("placeholder",e.bMT(29,27,"hr.target.dateTo")),e.Y8G("disabled",!i.formMaster.dateFrom)("minDate",i.formMaster.dateFrom)("altInput",!0)("convertModelValue",!0),e.R50("ngModel",i.formMaster.dateTo),e.R7$(3),e.Y8G("ngIf",c.invalid&&c.touched),e.R7$(3),e.R50("ngModel",i.formMaster.isActive),e.R7$(9),e.Y8G("items",i.offerTypes),e.R50("ngModel",i.form.offerType),e.R7$(12),e.Y8G("value",i.formMaster.visits)("rows",null==i.formMaster.visits?null:i.formMaster.visits.length),e.R7$(9),e.JRh(e.bMT(64,29,"general.action.back"))}},dependencies:[t.bT,h.qT,h.me,h.BC,h.cb,h.YS,h.vS,h.cV,v.kL,Z.m,f.Mm,M.XI,Y.Ei,k.HW,L.Cv,S.vr,q.m,f.D9]})}}return o})();var oe=r(91426),le=r(40724),de=r(15084),ce=r(88148),me=r(91580),pe=r(94575);const he=()=>["visitPlan.register"],ge=()=>["visitPlan.edit"],fe=()=>["visitPlan.delete"];function ue(o,j){1&o&&(e.j41(0,"tr",22)(1,"th",23),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",24),e.nrm(4,"i",25),e.EFF(5," general.table.id "),e.k0s(),e.j41(6,"th",26),e.nrm(7,"i",25),e.EFF(8," marketing.productOffer.offerTitle "),e.k0s(),e.j41(9,"th",27),e.nrm(10,"i",25),e.EFF(11," marketing.productOffer.offerType "),e.k0s(),e.j41(12,"th",28),e.nrm(13,"i",25),e.EFF(14," marketing.productOffer.endDate "),e.k0s(),e.nrm(15,"th",29),e.k0s())}function _e(o,j){if(1&o&&(e.nrm(0,"i",39),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",40),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",41),e.EFF(9)),2&o){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName," ")}}function ve(o,j){if(1&o){const n=e.RV6();e.j41(0,"li",31),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,l=e.XpG();return e.Njj(l.goEdit(i.id))}),e.j41(1,"span",42),e.nrm(2,"i",43)(3,"span",44),e.k0s()()}}function be(o,j){if(1&o){const n=e.RV6();e.j41(0,"li",31),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,l=e.XpG(),p=e.sdS(26);return e.Njj(l.openModal(i.id,p))}),e.j41(1,"a",45),e.nrm(2,"i",46)(3,"span",47),e.k0s()()}}function Me(o,j){if(1&o){const n=e.RV6();e.j41(0,"tr",30)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",31),e.bIt("click",function(){const i=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.goEdit(i.id))}),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.nrm(12,"td"),e.j41(13,"td"),e.DNE(14,_e,10,9,"ng-template",null,2,e.C5r),e.j41(16,"span",32)(17,"div",33),e.nrm(18,"i",34),e.j41(19,"button",35),e.nrm(20,"i",36),e.k0s(),e.j41(21,"ul",37),e.DNE(22,ve,4,0,"li",38)(23,be,4,0,"li",38),e.k0s()()()()()}if(2&o){const n=j.$implicit,s=j.rowIndex,i=e.sdS(15);e.R7$(2),e.JRh(s+1),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.offerType),e.R7$(2),e.JRh(e.i5U(11,8,n.endDate,"yyyy-MM-dd")),e.R7$(8),e.Y8G("ngbTooltip",i),e.R7$(4),e.Y8G("hasPermission",e.lJ4(11,ge)),e.R7$(),e.Y8G("hasPermission",e.lJ4(12,fe))}}function Ce(o,j){1&o&&(e.j41(0,"div",48),e.EFF(1," general.table.noData"),e.k0s())}function Te(o,j){if(1&o){const n=e.RV6();e.j41(0,"div",49)(1,"div",50),e.nrm(2,"ngb-pagination-info",51),e.j41(3,"table-length",52),e.bIt("lengthChange",function(i){e.eBV(n);const l=e.XpG();return e.Njj(l.ListItemChange(i))}),e.k0s()(),e.j41(4,"div",53)(5,"ngb-pagination",54),e.bIt("pageChange",function(i){e.eBV(n);const l=e.XpG();return e.Njj(l.pageChanged(i))}),e.mxI("pageChange",function(i){e.eBV(n);const l=e.XpG();return e.DH7(l.pagination.pageNumber,i)||(l.pagination.pageNumber=i),e.Njj(i)}),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function je(o,j){if(1&o){const n=e.RV6();e.j41(0,"delete-modal",55),e.bIt("deleteConfirm",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.DeleteConfirmSoft())})("dismiss",function(){const i=e.eBV(n).$implicit;return e.Njj(i.dismiss())}),e.k0s()}}const Fe=[{path:"productOffers",component:(()=>{class o extends T.w{constructor(n,s,i,l,p,c,G,U,A){super(n,s,G,i,l,p,c),this.baseService=i,this.excelService=U,this.router=A,this.title="marketing.productOffer.title",this.titleOperation="marketing.productOffer.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.isResolveList=!0,this.countLoad=2,this.clientParam={pageSize:50,pageNumber:1,search:""},this.clients=[],this.loading=!1,this.salesPersons=[],this.setDates=(R,V,z)=>{if(R?.from||R?.to){const De=R.to||R.from;this.pagination[V]=this.datePipe.transform(R.from||R.to,"yyyy-MM-ddT00:00:00"),this.pagination[z]=this.datePipe.transform(De,"yyyy-MM-ddT23:59:59.999")}else this.pagination[V]=null,this.pagination[z]=null},this.configRoute()}onSearch(){let n={...this.searchForm};this.ngxLoader.startLoader("allLoader"),this.setDates(n.creationDates,"dateFrom","dateTo"),this.loadentities()}OnSearch(n){this.ngxLoader.startLoader(F.a7),this.loadentities()}configRoute(){}mapExcel(){let n=[];return this.entities?.forEach(s=>{n.push({Name:s.name,Sales_Man:s.salesPersonName,Datefrom:this.datePipe.transform(s.dateFrom,"yyyy-MM-ddd"),Dateto:this.datePipe.transform(s.dateTo,"yyyy-MM-ddd"),notes:s.notes})}),n}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,this.getTranslationText(this.title),[])}goEdit(n){this.router.navigateByUrl("/marketing/productOffers/edit/"+n,{state:{id:n}})}goRegister(){this.router.navigateByUrl("/marketing/productOffers/register")}DeleteConfirmSoft(){console.log(this.selectedRow,"selectedRow"),this.ngxLoader.startLoader(F.Fq),this.baseService.delete(this.selectedRow[0].id).pipe((0,g.O)(),(0,I.c)(this.mainDelay),(0,u.Z)(),(0,E.Q)(this.notifier),(0,B.j)(()=>this.ngxLoader.stopLoader(F.Fq))).subscribe(n=>{n.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+n)},()=>{this.alertService.error()})}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(m.nX),e.rXU(f.c$),e.rXU($),e.rXU(w.u),e.rXU(t.vh),e.rXU(L.eD),e.rXU(_.Bq),e.rXU(oe.V),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-productOfferList"]],features:[e.Vt3],decls:27,vars:26,consts:[["tableMaster",""],["deleteModal",""],["tooltipContent",""],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-4","mb-2"],[1,"search-box"],["type","search","id","name","name","name",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-12","col-md-3","mb-2"],["name","name","bindValue","id","bindLabel","name",3,"ngModelChange","placeholder","items","multiple","ngModel"],["type","text","mwlFlatpickr","","id","isDate","mode","range","altFormat","d/m/Y",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-4 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","code","translate","",2,"width","3%"],[1,"ri-expand-up-down-line"],["pSortableColumn","name","translate","",2,"width","15%"],["pSortableColumn","offerType","translate","",2,"width","10%"],["pSortableColumn","endDate","translate","",2,"width","10%"],["translate","",2,"width","4%"],[1,"fs-5"],[3,"click"],[1,"d-inline"],[1,"dropdown-custom"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1","d-inline",3,"ngbTooltip"],["type","button",1,"btn","dropbtn","btn-soft-secondary","btn-sm","dropdown-custom","arrow-none"],[1,"ri-more-fill"],[1,"dropdown-menu","dropdown-menu-end","dropdown-content"],[3,"click",4,"hasPermission"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"dropdown-item"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],["translate","general.action.edit"],["href","javascript:void(0);",1,"dropdown-item"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],["translate","general.action.delete"],["translate","",1,"text-center","text-danger","text-bold","fs-4","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[3,"deleteConfirm","dismiss"]],template:function(s,i){if(1&s){const l=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"base-filter",6),e.bIt("reset",function(){return e.eBV(l),e.Njj(i.onReset())})("search",function(){return e.eBV(l),e.Njj(i.onSearch())})("exportXlsx",function(){return e.eBV(l),e.Njj(i.onExportXlsx())})("addNew",function(){return e.eBV(l),e.Njj(i.goRegister())}),e.qex(4,7),e.j41(5,"div",8)(6,"div",9)(7,"input",10),e.nI1(8,"translate"),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.pagination.name,c)||(i.pagination.name=c),e.Njj(c)}),e.k0s(),e.nrm(9,"i",11),e.k0s()(),e.j41(10,"div",12)(11,"div",9)(12,"ng-select",13),e.nI1(13,"translate"),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.pagination.salesPersonId,c)||(i.pagination.salesPersonId=c),e.Njj(c)}),e.k0s()()(),e.j41(14,"div",12)(15,"input",14),e.nI1(16,"translate"),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(i.searchForm.creationDates,c)||(i.searchForm.creationDates=c),e.Njj(c)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(17,"div",15)(18,"div",16)(19,"p-table",17,0),e.bIt("onLazyLoad",function(c){return e.eBV(l),e.Njj(i.tableChange(c))})("selectionChange",function(c){return e.eBV(l),e.Njj(i.onSelectionChange(c))}),e.DNE(21,ue,16,0,"ng-template",18)(22,Me,24,13,"ng-template",19),e.k0s()(),e.DNE(23,Ce,2,0,"div",20)(24,Te,6,8,"div",21),e.k0s()()()(),e.DNE(25,je,1,0,"ng-template",null,1,e.C5r)}2&s&&(e.R7$(3),e.Y8G("addPermission",e.lJ4(25,he))("totalItems",i.pagination.totalItems)("title",i.title),e.R7$(4),e.FS9("placeholder",e.bMT(8,19,"general.table.name")),e.R50("ngModel",i.pagination.name),e.R7$(5),e.FS9("placeholder",e.bMT(13,21,"sales.salesOrder.salsePerson")),e.Y8G("items",i.salesPersons)("multiple",!1),e.R50("ngModel",i.pagination.salesPersonId),e.R7$(3),e.FS9("placeholder",e.bMT(16,23,"orderManagement.order.creationDate")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",i.searchForm.creationDates),e.R7$(4),e.Y8G("value",i.entities)("rows",i.pagination.pageSize)("lazy",!0)("totalRecords",i.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",i.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",i.pagination.totalItems>0))},dependencies:[t.bT,h.me,h.BC,h.vS,_.s5,v.kL,le.b,de.w,ce.p,me.g,f.Mm,M.XI,Y.Ei,M.Tg,S.vr,_.md,pe.p,t.vh,f.D9]})}}return o})(),data:{permission:["visitPlan.view"]}},{path:"productOffers/register",component:se,data:{permission:["visitPlan.view"]}}];let Ee=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(Fe),m.iI]})}}return o})();var Ie=r(71144),ye=r(38542),Pe=r(3200),Oe=r(81141),xe=r(41198);let Le=(()=>{class o{constructor(){(0,C.eV)(b().loadAnimation)}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[t.MD,h.YN,_.zH,_.Pv,_.c9,v.ND,O.r,Ee,x.G,f.h,M.bG,D.q4,k.H_,_.c9,L.th,S.MQ,_.n8,Ie.j,_._f,ye.S,Pe.U,Oe.tm,xe.TV,h.X1]})}}return o})()},40724:(N,P,r)=>{r.d(P,{b:()=>S});var t=r(54438),h=r(8147),_=r(60177),v=r(69005),O=r(94575);const C=[[["","menuBtn",""]],[["","control",""]]],y=["[menuBtn]","[control]"];function b(m,E){1&m&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&m&&(t.R7$(),t.JRh(t.bMT(2,1,"general.table.all")))}function x(m,E){if(1&m){const g=t.RV6();t.j41(0,"a",17),t.bIt("click",function(){t.eBV(g),t.XpG(2);const u=t.sdS(11);return t.Njj(u.toggle())}),t.nrm(1,"i",18)(2,"span",19),t.k0s()}if(2&m){const g=t.XpG(2);t.BMQ("aria-expanded",!g.isCollapsed)}}function f(m,E){if(1&m){const g=t.RV6();t.j41(0,"div",21)(1,"button",22),t.nrm(2,"i",23)(3,"span",24),t.k0s(),t.j41(4,"ul",25)(5,"li",26),t.bIt("click",function(){t.eBV(g);const u=t.XpG(3);return t.Njj(u.onExportXlsx())}),t.j41(6,"a",27),t.nrm(7,"span",28),t.k0s()(),t.j41(8,"li",26),t.bIt("click",function(){t.eBV(g);const u=t.XpG(3);return t.Njj(u.onExportPDF())}),t.j41(9,"a",27),t.nrm(10,"span",29),t.k0s()()()()}if(2&m){const g=t.XpG(3);t.FS9("placement","en"===g.lang?"bottom-start":"bottom-end"),t.R7$(),t.Y8G("disabled",g.totalItems<=0)}}function M(m,E){if(1&m&&(t.qex(0),t.DNE(1,f,11,2,"div",20),t.bVm()),2&m){const g=t.XpG(2);t.R7$(),t.Y8G("hasPermission",g.exportPermission)}}function D(m,E){if(1&m){const g=t.RV6();t.j41(0,"a",31),t.bIt("click",function(){t.eBV(g);const u=t.XpG(3);return t.Njj(u.onAddNew())}),t.nrm(1,"i",32),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&m){const g=t.XpG(3);t.R7$(3),t.JRh(t.bMT(4,1,g.newLocal))}}function k(m,E){if(1&m&&(t.qex(0),t.DNE(1,D,5,3,"a",30),t.bVm()),2&m){const g=t.XpG(2);t.R7$(),t.Y8G("hasPermission",g.addPermission)}}function L(m,E){if(1&m&&(t.j41(0,"div",15),t.DNE(1,x,3,1,"a",16)(2,M,2,1,"ng-container",4)(3,k,2,1,"ng-container",4),t.k0s()),2&m){const g=t.XpG();t.R7$(),t.Y8G("ngIf",g.showSearch),t.R7$(),t.Y8G("ngIf",g.showExport),t.R7$(),t.Y8G("ngIf",g.showAdd)}}let S=(()=>{class m{constructor(g){this.translateService=g,this.totalItems=0,this.title="",this.titleMore="",this.newLocal="general.action.addNew",this.data=[],this.addPermission=[],this.exportPermission=[],this.showSearch=!0,this.showExport=!0,this.showAdd=!0,this.showAllStr=!0,this.addNew=new t.bkB,this.exportXlsx=new t.bkB,this.exportPDF=new t.bkB,this.search=new t.bkB,this.reset=new t.bkB,this.showAction=!0,this.isCollapsed=!0,this.lang=this.translateService.currentLang}ngOnInit(){}onAddNew(){this.addNew.emit(!0)}onSearch(){this.search.emit(!0)}onExportXlsx(){this.exportXlsx.emit(!0)}onExportPDF(){this.exportPDF.emit(!0)}onReset(){this.reset.emit(!0)}static{this.\u0275fac=function(I){return new(I||m)(t.rXU(h.c$))}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["base-filter"]],inputs:{totalItems:"totalItems",title:"title",titleMore:"titleMore",newLocal:"newLocal",data:"data",addPermission:"addPermission",exportPermission:"exportPermission",showSearch:"showSearch",showExport:"showExport",showAdd:"showAdd",showAllStr:"showAllStr",showAction:"showAction"},outputs:{addNew:"addNew",exportXlsx:"exportXlsx",exportPDF:"exportPDF",search:"search",reset:"reset"},ngContentSelectors:y,decls:21,vars:7,consts:[["collapse","ngbCollapse"],[1,"card-header","border-0"],[1,"row","align-items-center","mb-2","justify-content-between"],[1,"col-12","col-md-3","card-title","mb-0","flex-grow-1"],[4,"ngIf"],["class","col-12 col-md-6 text-right",4,"ngIf"],["id","collapseExample",1,"collaps","show",3,"ngbCollapseChange","ngbCollapse"],[1,"row"],[1,"col-12","col-md-2","text-center","mb-2","d-flex","text-sm-center","text-md-left"],["type","button",1,"btn","w-sm-100","w-md-auto","btn-primary","btn-sm",3,"click"],[1,"ri-file-search-fill","me-1","align-bottom"],["translate","general.action.search"],["type","button",1,"btn","btn-danger","w-sm-100","w-md-auto","mx-1","btn-sm",3,"click"],[1,"ri-equalizer-fill","me-1","align-bottom"],["translate","general.action.clear"],[1,"col-12","col-md-6","text-right"],["class","btn btn-success  mx-1","data-bs-toggle","collapse","href","javascript:void(0);",3,"click",4,"ngIf"],["data-bs-toggle","collapse","href","javascript:void(0);",1,"btn","btn-success","mx-1",3,"click"],[1,"ri-filter-2-line","align-bottom"],["translate","general.action.filter"],["class","dropdown d-inline","ngbDropdown","",3,"placement",4,"hasPermission"],["ngbDropdown","",1,"dropdown","d-inline",3,"placement"],["ngbDropdownToggle","","type","button",1,"btn","btn-info","mx-2","me-4",3,"disabled"],[1,"ri-chat-download-line","me-1","align-bottom"],["translate","general.action.export"],["aria-labelledby","dropdownMenuButton1","ngbDropdownMenu","",1,"dropdown-menu"],[3,"click"],["href","javascript:void(0);",1,"dropdown-item"],["translate","general.action.xlxs"],["translate","general.action.pdf"],["class","btn btn-danger","href","javascript:void(0);",3,"click",4,"hasPermission"],["href","javascript:void(0);",1,"btn","btn-danger",3,"click"],[1,"ri-add-line","align-bottom"]],template:function(I,u){if(1&I){const B=t.RV6();t.NAR(C),t.j41(0,"div",1)(1,"div",2)(2,"h5",3)(3,"span"),t.SdG(4),t.k0s(),t.j41(5,"span"),t.DNE(6,b,3,3,"span",4),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.DNE(9,L,4,3,"div",5),t.k0s(),t.j41(10,"div",6,0),t.mxI("ngbCollapseChange",function(d){return t.eBV(B),t.DH7(u.isCollapsed,d)||(u.isCollapsed=d),t.Njj(d)}),t.j41(12,"div",7),t.SdG(13,1),t.j41(14,"div",8)(15,"button",9),t.bIt("click",function(){return t.eBV(B),t.Njj(u.onSearch())}),t.nrm(16,"i",10)(17,"span",11),t.k0s(),t.j41(18,"button",12),t.bIt("click",function(){return t.eBV(B),t.Njj(u.onReset())}),t.nrm(19,"i",13)(20,"span",14),t.k0s()()()()()}2&I&&(t.R7$(6),t.Y8G("ngIf",u.showAllStr),t.R7$(),t.Lme(" ",t.bMT(8,5,u.title)," ",u.titleMore,""),t.R7$(2),t.Y8G("ngIf",u.showAction),t.R7$(),t.R50("ngbCollapse",u.isCollapsed))},dependencies:[_.bT,v.tg,v.do,v.U0,h.Mm,v.$G,O.p,h.D9],encapsulation:2})}}return m})()},75622:(N,P,r)=>{r.d(P,{w:()=>I});var t=r(21413),h=r(56977),_=r(37021),v=r(35335),O=r(45236),C=r(70980),y=r(99437),b=r(18810),x=r(45286),f=r(36158),M=r(54438),D=r(51188),k=r(8147),L=r(69005),S=r(67569),m=r(3888),E=r(60177),g=r(1530);let I=(()=>{class u{constructor(a,d,T,F,e,w,X){this.routerActive=a,this.translateService=d,this.modalService=T,this.baseService=F,this.alertService=e,this.datePipe=w,this.ngxLoader=X,this.title="",this.mainDelay=50,this.operationId=0,this.entities=[],this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new t.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=f.cX,this.loaderOperationShap=f.$$,this.operationLoader=f.ZW,this.loaderDeleteShap=f.jg,this.mainTable=f.uG,this.searchLoader=f.a7,this.deleteLoader=f.Fq,this.langArabic="ar",this.paymentTypes=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.activeList=[{id:1,name:"active"},{id:2,name:"noActive"}],this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.activeList.forEach(a=>{a.name=this.getTranslationText("general.table."+a.name)}),this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,h.Q)(this.notifier)).subscribe(a=>{this.entities=a.data.result,this.pagination=a.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(f.a7)},a=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,h.Q)(this.notifier)).subscribe(a=>{this.lang=a.lang})}getTranslationText(a){let d="";return this.translateService.get(a).pipe((0,h.Q)(this.notifier)).subscribe(T=>{d=T}),d}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(a){return null!=a?a.substring(0,10)+"...":""}getRenderIndex(a){return this.index++,this.index}successDataTable(a){this.ngxLoader.stopLoader(f.a7),this.pagination.totalItems=a.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(f.a7),this.alertService.error()}openModalTitle(a,d="md"){this.isEditForm=!1,this.form={},this.modalService.open(a,{centered:!0,size:d})}openModal(a,d,T="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:a}],this.operationId=a,this.modalService.open(d,{centered:!0,size:T})}openModalMoreOperation(a){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(d=>d.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(a){this.ngxLoader.startLoader("allLoader"),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.baseService.get(this.pagination).pipe((0,h.Q)(this.notifier)).subscribe(a=>{this.ngxLoader.stopLoader(f.a7),this.entities=a.data,this.pagination.totalItems=a.totalItems,this.LoadSuccess()},a=>{this.ngxLoader.stopLoader(f.a7),this.alertService.error(a)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[]}LoadSuccess(){}tableChange(a){this.pagination.filterType=a.sortField,this.pagination.sortType=1==a.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let a=this.mapRegisterForm(this.form);this.baseService.register(a).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,O.Z)(),(0,h.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,y.W)(d=>(0,b.$)(d))).subscribe(d=>{d.success?this.submitFunished():this.alertService.error("general.message."+d.message)},d=>{this.alertService.error("general.message."+d)})}editEntity(){let a=this.mapForm(this.form);this.baseService.edit(a.id,a).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,O.Z)(),(0,h.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(d=>{d.success?this.submitFunished():this.alertService.error("general.message."+d.message)},d=>{this.alertService.error("general.message."+d)})}mapForm(a){return a}mapRegisterForm(a){return a.id=0,a}submitFunished(){this.loadentities(),this.alertService.success(),this.modalService?.dismissAll(),this.ngxLoader.stop(f.a7),this.btnDisabled=!0}EditModel(a,d,T="md"){this.isEditForm=!0,this.baseService.getById(a).pipe((0,h.Q)(this.notifier)).subscribe(F=>{F.success?this.form=F.data:this.alertService.error("general.message."+F.message),this.modalService.open(d,{centered:!0,size:T})},F=>{this.alertService.error()})}EditModelTilte(a){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,h.Q)(this.notifier)).subscribe(T=>{T?this.form=T:this.alertService.error("general.message."+T)},T=>{this.alertService.error()})}onSelectionChange(a){this.selectedRow=a,this.lengthSelect=a.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(a){this.pagination.pageNumber=a,this.loadentities()}ListItemChange(a){this.pagination.pageSize=a.target.value,this.loadentities()}searchChange(a){this.pagination.filterValue=a,this.loadentities()}DeleteConfirm(){this.ngxLoader.startLoader(f.Fq);let a=this.selectedRow.map(d=>d.id);this.baseService.deleteRange(a).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,O.Z)(),(0,h.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(f.Fq))).subscribe(d=>{d.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+d)},()=>{this.alertService.error()})}DeleteConfirmSoft(){console.log(this.selectedRow,"selectedRow"),this.ngxLoader.startLoader(f.Fq),this.baseService.softDelete(this.selectedRow[0].id).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,O.Z)(),(0,h.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(f.Fq))).subscribe(a=>{a.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+a)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(a=>a.id)}isEmpty(a){return(void 0===a||null==a||a.length)<=0}OnReset(a){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(a){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(d){return new(d||u)(M.rXU(D.nX),M.rXU(k.c$),M.rXU(L.Bq),M.rXU(S.d),M.rXU(m.u),M.rXU(E.vh),M.rXU(g.eD))}}static{this.\u0275cmp=M.VBU({type:u,selectors:[["app-base"]],viewQuery:function(d,T){if(1&d&&M.GBs(x.XI,5),2&d){let F;M.mGM(F=M.lsd())&&(T.tableMaster=F.first)}},decls:0,vars:0,template:function(d,T){},encapsulation:2})}}return u})()},88148:(N,P,r)=>{r.d(P,{p:()=>_});var t=r(54438),h=r(8147);let _=(()=>{class v{static{this.\u0275fac=function(y){return new(y||v)}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(y,b){1&y&&(t.j41(0,"span",0),t.EFF(1),t.k0s(),t.nrm(2,"span",1),t.j41(3,"span",0),t.EFF(4),t.k0s(),t.nrm(5,"span",2)),2&y&&(t.R7$(),t.JRh(b.pagination.totalItems>b.pagination.pageNumber*b.pagination.pageSize?b.pagination.pageNumber*b.pagination.pageSize:b.pagination.totalItems),t.R7$(3),t.JRh(b.pagination.totalItems))},dependencies:[h.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return v})()},91580:(N,P,r)=>{r.d(P,{g:()=>O});var t=r(54438),h=r(60177),_=r(89417);function v(C,y){if(1&C&&(t.j41(0,"option"),t.EFF(1),t.k0s()),2&C){const b=y.$implicit;t.R7$(),t.JRh(b)}}let O=(()=>{class C{constructor(){this.lengthChange=new t.bkB}ListItemChange(b){this.lengthChange.emit(b)}static{this.\u0275fac=function(x){return new(x||C)}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(x,f){1&x&&(t.j41(0,"div",0),t.nrm(1,"span",1),t.j41(2,"select",2),t.bIt("change",function(D){return f.ListItemChange(D)}),t.DNE(3,v,2,1,"option",3),t.k0s()()),2&x&&(t.R7$(3),t.Y8G("ngForOf",f.lengthTable))},dependencies:[h.Sq,_.xH,_.y7],encapsulation:2})}}return C})()}}]);