"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[974],{55974:(De,H,d)=>{d.r(H),d.d(H,{ApprovalsModule:()=>yi});var s=d(60177),c=d(89417),u=d(69005),A=d(91022),Z=d(70255),ee=d(63789),te=d(98982),ne=d.n(te),ie=d(53978),b=d(8147),S=d(45286),oe=d(65430),N=d(41631),x=d(1530),V=d(72510),h=d(71144),I=d(38542),m=d(51188),g=d(56977),_=d(37021),v=d(35335),y=d(45236),C=d(70980),L=d(75622),e=d(54438),w=d(3888),q=d(67569),B=d(45312),Q=d(21626);let ae=(()=>{class i extends q.d{constructor(t){super(t,B.c.apiUrl+"ApprovalTransactionType/")}deleteTarget(t){return this.http.delete(this.baseUrl+t)}edit(t,o){return this.http.put(this.baseUrl+"Edit/"+t,o)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(Q.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var K=d(54384),P=d(91426),$=d(26364),X=d(40724),U=d(15084),z=d(88148),O=d(91580),F=d(5779),Y=d(29935);function Fe(i,r){1&i&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," approvals.approval-types.nameEn "),e.k0s(),e.j41(6,"th",28),e.nrm(7,"i",27),e.EFF(8," approvals.approval-types.nameAr "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",27),e.EFF(11," approvals.approval-types.isActive "),e.k0s(),e.nrm(12,"th",30),e.k0s())}function Me(i,r){1&i&&e.nrm(0,"span",39)}function Ne(i,r){1&i&&e.nrm(0,"span",40)}function Ae(i,r){if(1&i&&(e.nrm(0,"i",41),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",42),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",43),e.EFF(9),e.nrm(10,"br")(11,"i",43),e.EFF(12)),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,4,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,7,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName,""),e.R7$(3),e.SpI(" ",t.lastModificationName," ")}}function Ge(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr",31)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Me,1,0,"span",32)(9,Ne,1,0,"span",33),e.k0s(),e.DNE(10,Ae,13,10,"ng-template",null,3,e.C5r),e.j41(12,"td"),e.nrm(13,"i",34),e.j41(14,"button",35),e.nI1(15,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(23);return e.Njj(a.editModal(n.id,l))}),e.nrm(16,"i",36),e.k0s(),e.j41(17,"button",37),e.nI1(18,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(25);return e.Njj(a.openModal(n.id,l))}),e.nrm(19,"i",38),e.k0s()()()}if(2&i){const t=r.$implicit,o=r.rowIndex,n=e.sdS(11);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(t.nameEn),e.R7$(2),e.JRh(t.nameAr),e.R7$(2),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.FS9("pTooltip",e.bMT(15,8,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(18,10,"general.delete"))}}function Ve(i,r){1&i&&(e.j41(0,"div",44),e.EFF(1," general.table.noData"),e.k0s())}function Le(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"div",46),e.nrm(2,"ngb-pagination-info",47),e.j41(3,"table-length",48),e.bIt("lengthChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",49)(5,"ngb-pagination",50),e.bIt("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.pagination.pageNumber,n)||(a.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Be(i,r){1&i&&(e.j41(0,"span",73),e.EFF(1,"general.action.register "),e.k0s())}function Pe(i,r){1&i&&(e.j41(0,"span",73),e.EFF(1,"general.action.edit "),e.k0s())}function $e(i,r){1&i&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Xe(i,r){1&i&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Ue(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",51)(1,"h4",52),e.DNE(2,Be,2,0,"span",53)(3,Pe,2,0,"span",53),e.nrm(4,"span",54),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",56,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",57)(10,"div",58)(11,"div",59)(12,"div",8)(13,"div",60)(14,"label",61),e.EFF(15,"approvals.approval-types.nameEn"),e.k0s(),e.j41(16,"div",62)(17,"input",63,5),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameEn,n)||(a.form.nameEn=n),e.Njj(n)}),e.k0s(),e.DNE(19,$e,2,0,"div",64),e.k0s()(),e.j41(20,"div",60)(21,"label",65),e.EFF(22,"approvals.approval-types.nameAr"),e.k0s(),e.j41(23,"div",62)(24,"input",66,6),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameAr,n)||(a.form.nameAr=n),e.Njj(n)}),e.k0s(),e.DNE(26,Xe,2,0,"div",64),e.k0s()(),e.j41(27,"div",67)(28,"label",68),e.EFF(29,"approvals.approval-types.isActive"),e.k0s(),e.j41(30,"p-inputSwitch",69),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.isActive,n)||(a.form.isActive=n),e.Njj(n)}),e.k0s()()(),e.j41(31,"div",70),e.nrm(32,"button",71),e.j41(33,"button",72),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.sdS(7),o=e.sdS(18),n=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(9),e.R50("ngModel",a.form.nameEn),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(5),e.R50("ngModel",a.form.nameAr),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",a.form.isActive),e.R7$(2),e.Y8G("disabled",!t.valid)}}function ze(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",75),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let Oe=(()=>{class i extends L.w{constructor(t,o,n,a,l,p,j,k,E,R){super(t,o,j,l,n,a,p),this.baseService=l,this.service=k,this.excelService=E,this.router=R,this.title="approvals.approval-types.title",this.submitted=!1,this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.entities=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"Service Type",[])}mapExcel(){let t=[];return this.entities?.forEach(o=>{t.push({title:o.title,body:o.body,type:o.type,isActive:this.getTranslationText("general.table.active")})}),t}editModal(t,o,n="md"){this.isEditForm=!0,this.baseService.getById(t).subscribe({next:a=>{this.form=a.data}}),this.modalService.open(o,{centered:!0,size:n})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.delete(this.selectedRow[0].id).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(o=>{o.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+o)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.nX),e.rXU(b.c$),e.rXU(w.u),e.rXU(s.vh),e.rXU(ae),e.rXU(x.eD),e.rXU(u.Bq),e.rXU(K.m),e.rXU(P.V),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-approval-types"]],features:[e.Vt3],decls:26,vars:24,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameEn","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameAr","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.approval-types.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,n){if(1&o){const a=e.RV6();e.nrm(0,"app-breadcrumbs",7),e.nI1(1,"translate"),e.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),e.bIt("reset",function(){return e.eBV(a),e.Njj(n.onReset())})("search",function(){return e.eBV(a),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(a);const p=e.sdS(23);return e.Njj(n.openModalTitle(p))}),e.qex(6,12),e.j41(7,"div",13)(8,"input",14),e.nI1(9,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameEn,p)||(n.pagination.nameEn=p),e.Njj(p)}),e.k0s()(),e.j41(10,"div",13)(11,"input",15),e.nI1(12,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameAr,p)||(n.pagination.nameAr=p),e.Njj(p)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(13,"div",16),e.nrm(14,"ngx-ui-loader",17),e.j41(15,"div",18)(16,"p-table",19,0),e.bIt("onLazyLoad",function(p){return e.eBV(a),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(a),e.Njj(n.onSelectionChange(p))}),e.DNE(18,Fe,13,0,"ng-template",20)(19,Ge,20,12,"ng-template",21),e.k0s()(),e.DNE(20,Ve,2,0,"div",22)(21,Le,6,8,"div",23),e.k0s()()()(),e.DNE(22,Ue,34,11,"ng-template",null,1,e.C5r)(24,ze,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,18,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"approvals.approval-types.nameEn")),e.R50("ngModel",n.pagination.nameEn),e.R7$(3),e.FS9("placeholder",e.bMT(12,22,"approvals.approval-types.nameAr")),e.R50("ngModel",n.pagination.nameAr),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[s.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,$.m,X.b,U.w,z.p,O.g,b.Mm,S.XI,F.Ei,S.Tg,N.HW,x.Cv,u.md,Y.m,I.m,s.vh,b.D9],encapsulation:2})}}return i})();var W=d(56701),se=d(81391);let ge=(()=>{class i extends q.d{constructor(t){super(t,B.c.apiUrl+"ApprovalSetting/")}get(t){return this.http.post(this.baseUrl+"Get",t)}getPending(){return this.http.get(this.baseUrl+"PendingStepsForUser")}GetStepsById(t){return this.http.get(this.baseUrl+"Steps/"+t)}GetEmployeeLookup(){return this.http.get(this.baseUrl+"GetEmployeeLookup")}deleteTarget(t){return this.http.delete(this.baseUrl+t)}edit(t,o){return this.http.put(this.baseUrl+"Edit/"+t,o)}approve(t){return this.http.put(this.baseUrl+"Approve",t)}reject(t){return this.http.put(this.baseUrl+"Reject",t)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(Q.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),re=(()=>{class i extends q.d{constructor(t){super(t,B.c.apiUrl+"Department/")}deleteTarget(t){return this.http.delete(this.baseUrl+t)}get(t){return this.http.get(this.baseUrl+"GetOrganizationalStructure",t)}delete(t){return this.http.delete(`${this.baseUrl}SoftDelete/${t}`,this.httpOptions)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(Q.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var _e=d(94562),T=d(73687);const Ye=["dataTable"];function He(i,r){1&i&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," approvals.approvalSettings.approvalType "),e.k0s(),e.nrm(6,"th",28),e.k0s())}function qe(i,r){if(1&i&&(e.nrm(0,"i",35),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",36),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",37),e.EFF(9),e.nrm(10,"br")),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName,"")}}function Qe(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr",29)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.DNE(5,qe,11,9,"ng-template",null,4,e.C5r),e.j41(7,"td"),e.nrm(8,"i",30),e.j41(9,"button",31),e.nI1(10,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(20);return e.Njj(a.editModal(n,l,"lg"))}),e.nrm(11,"i",32),e.k0s(),e.j41(12,"button",33),e.nI1(13,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(24);return e.Njj(a.openModal(n.id,l))}),e.nrm(14,"i",34),e.k0s()()()}if(2&i){const t=r.$implicit,o=r.rowIndex,n=e.sdS(6),a=e.XpG();e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh("en"==a.lang?t.approvalTransactionTypeNameEn:t.approvalTransactionTypeNameAr),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.FS9("pTooltip",e.bMT(10,5,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(13,7,"general.delete"))}}function Ke(i,r){1&i&&(e.j41(0,"div",38),e.EFF(1," general.table.noData "),e.k0s())}function We(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",39)(1,"div",40),e.nrm(2,"ngb-pagination-info",41),e.j41(3,"table-length",42),e.bIt("lengthChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",43)(5,"ngb-pagination",44),e.bIt("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.pagination.pageNumber,n)||(a.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Je(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1,"general.action.register "),e.k0s())}function Ze(i,r){1&i&&(e.j41(0,"span",67),e.EFF(1,"general.action.edit "),e.k0s())}function et(i,r){1&i&&(e.j41(0,"div",68),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function tt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",69)(1,"label",70),e.EFF(2,"approvals.positions.title"),e.k0s(),e.j41(3,"ng-select",71),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG(2);return e.DH7(a.positionsForm.position,n)||(a.positionsForm.position=n),e.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("items",t.positions)("multiple",!1),e.R50("ngModel",t.positionsForm.position)}}function nt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",72)(1,"button",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addDepartmentData())}),e.nrm(2,"i",74),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(),e.Y8G("disabled",!t.positionsForm.position)}}function it(i,r){1&i&&e.nrm(0,"th",86)}function ot(i,r){if(1&i&&(e.j41(0,"td",87)(1,"div",88)(2,"div",89),e.EFF(3,": :"),e.k0s(),e.j41(4,"label"),e.EFF(5),e.k0s()()()),2&i){const t=r.$implicit,o=e.XpG(3);e.R7$(5),e.JRh("en"===o.lang?t.nameEn:t.nameAr)}}function at(i,r){1&i&&(e.j41(0,"th",90),e.EFF(1,"approvals.approvalSettings.action"),e.k0s())}function st(i,r){if(1&i){const t=e.RV6();e.j41(0,"td",87)(1,"button",91),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG(3);return e.Njj(a.deleteItem(n))}),e.nrm(2,"i",92),e.k0s()()}}function rt(i,r){1&i&&e.nrm(0,"tr",93)}function lt(i,r){1&i&&e.nrm(0,"tr",94)}function pt(i,r){1&i&&e.nrm(0,"div")}function dt(i,r){1&i&&(e.j41(0,"div",95)(1,"span",96),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"general.table.noData")," "))}function ct(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",54)(1,"div",75)(2,"label",70),e.EFF(3,"approvals.approvalSettings.hierarchy"),e.k0s(),e.j41(4,"div",18)(5,"table",76,7),e.bIt("cdkDropListDropped",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.departmentsTable(n))}),e.qex(7,77),e.DNE(8,it,1,0,"th",78)(9,ot,6,1,"td",79),e.bVm(),e.qex(10,80),e.DNE(11,at,2,0,"th",81)(12,st,3,0,"td",79),e.bVm(),e.DNE(13,rt,1,0,"tr",82),e.qex(14),e.DNE(15,lt,1,0,"tr",83),e.bVm(),e.DNE(16,pt,1,0,"div",84),e.k0s(),e.DNE(17,dt,4,3,"div",85),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("dataSource",t.selectedPositions),e.R7$(8),e.Y8G("matHeaderRowDef",t.displayedColumns),e.R7$(2),e.Y8G("matRowDefColumns",t.displayedColumns),e.R7$(2),e.Y8G("ngIf",!t.selectedPositions.length)}}function mt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"h4",46),e.DNE(2,Je,2,0,"span",47)(3,Ze,2,0,"span",47),e.nrm(4,"span",48),e.k0s(),e.j41(5,"button",49),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",50,5),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",51)(10,"div",52)(11,"div",53)(12,"div",9)(13,"div",54)(14,"label",55),e.EFF(15,"approvals.approvalSettings.approvalType"),e.k0s(),e.j41(16,"ng-select",56,6),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.approvalTransactionTypeId,n)||(a.form.approvalTransactionTypeId=n),e.Njj(n)}),e.k0s(),e.DNE(18,et,2,0,"div",57),e.k0s(),e.j41(19,"div",58)(20,"label",59),e.EFF(21,"approvals.approvalSettings.isHierarchy"),e.k0s(),e.j41(22,"p-inputSwitch",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.switchManual())}),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.isHierarchy,n)||(a.isHierarchy=n),e.Njj(n)}),e.k0s()(),e.DNE(23,tt,4,3,"div",61)(24,nt,3,1,"div",62)(25,ct,18,4,"div",63),e.k0s(),e.j41(26,"div",64),e.nrm(27,"button",65),e.j41(28,"button",66),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.sdS(7),o=e.sdS(17),n=e.XpG();e.R7$(2),e.Y8G("ngIf",!n.isEditForm),e.R7$(),e.Y8G("ngIf",n.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(8),e.Y8G("items",n.types)("multiple",!1),e.R50("ngModel",n.form.approvalTransactionTypeId),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.R50("ngModel",n.isHierarchy),e.R7$(),e.Y8G("ngIf",!n.isHierarchy),e.R7$(),e.Y8G("ngIf",!n.isHierarchy),e.R7$(),e.Y8G("ngIf",!n.isHierarchy),e.R7$(2),e.Y8G("disabled",!t.valid)}}function gt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",51)(1,"div",97)(2,"button",98),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(3,"div",52)(4,"div",99),e.nrm(5,"lord-icon",100),e.j41(6,"div",101)(7,"h4"),e.EFF(8,"Are you sure ?"),e.k0s(),e.j41(9,"p",102),e.EFF(10,"Are you sure you want to remove this ticket ?"),e.k0s()()(),e.j41(11,"div",103)(12,"button",104),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.close("Close click"))}),e.EFF(13,"Close "),e.k0s(),e.j41(14,"button",105),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return a.deleteData(a.deleteId),e.Njj(n.close("Close click"))}),e.EFF(15,"Yes, Delete It! "),e.k0s()()()()}}function _t(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",106),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let ht=(()=>{class i extends L.w{confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.deleteId=t,document.getElementById("row-"+t)?.remove()}constructor(t,o,n,a,l,p,j,k,E,R,we,ce,me){super(t,o,j,l,n,a,p),this.baseService=l,this._approvalTypesService=k,this._departmentsService=E,this._positionsService=R,this.service=we,this.excelService=ce,this.router=me,this.title="approvals.approvalSettings.title",this.submitted=!1,this.isHierarchy=!1,this.types=[],this.departments=[],this.positions=[],this.structures=[],this.selectedPositions=[],this.statusEnum=[{nameEn:"None Review",nameAr:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0631\u0627\u062c\u0639\u0629",id:1},{nameEn:"Reject",nameAr:"\u0645\u0631\u0641\u0648\u0636",id:2},{nameEn:"Accept",nameAr:"\u0645\u0642\u0628\u0648\u0644",id:3}],this.displayedColumns=["nameEn","action"],this.task={},this.form={isHierarchy:!1,steps:[]},this.positionsForm={},this.isResolveList=!0,this.configRoute(),this.getTypesDropdown(),this.getHeadDropDownDropdown()}getTypesDropdown(){this._approvalTypesService.getDropDown().pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.types=t.data},()=>{this.alertService.error()})}openModalTitle(t,o="md"){this.isEditForm=!1,this.selectedPositions=[],this.form={},this.modalService.open(t,{centered:!0,size:o})}getHeadDropDownDropdown(){this._positionsService.GetHeadDropDown().pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.positions=t.data,console.log(t)},()=>{this.alertService.error()})}configRoute(){this.routerActive.data.pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.task=t,this.entities=t.data.data,this.dataSource=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),this.form.steps=this.selectedPositions,!0===this.isEditForm?this.editEntity():this.registerEntity()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"Service Type",[])}mapExcel(){let t=[];return this.entities?.forEach(o=>{t.push({title:o.title,body:o.body,type:o.type,isActive:this.getTranslationText("general.table.active")})}),t}editModal(t,o,n="md"){this.isEditForm=!0,this.form.id=t.id,this.form.approvalTransactionTypeId=t.approvalTransactionTypeId,this.form.isHierarchy=t.isHierarchy,this.isHierarchy=t.isHierarchy,this.selectedPositions=[],this.baseService.getById(t.id).subscribe({next:a=>{this.isHierarchy||a.data.approvalSettingSteps.forEach(l=>{this.selectedPositions.push({nameAr:l.nameAr,nameEn:l.nameEn,id:l.approvalStepId,positionId:l.positionId})}),this.controlOrder(),this.table.renderRows()}}),this.modalService.open(o,{centered:!0,size:n})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.delete(this.selectedRow[0].id).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(o=>{o.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+o)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}departmentsTable(t){(0,se.HD)(this.selectedPositions,t.previousIndex,t.currentIndex),this.controlOrder(),this.table.renderRows()}addDepartmentData(){!this.selectedPositions.some(o=>o.positionId==this.positionsForm.position.id)&&!this.isHierarchy&&this.selectedPositions.push({nameAr:this.positionsForm.position.display,nameEn:this.positionsForm.position.display,positionId:this.positionsForm.position.id}),this.controlOrder(),this.table.renderRows(),this.positionsForm={}}controlOrder(){for(let t=0;t<this.selectedPositions.length;t++)this.selectedPositions[t].stepOrder=t+1}switchManual(){this.selectedPositions=[],this.form.isHierarchy=this.isHierarchy,this.positionsForm={},this.isHierarchy||this.table.renderRows()}deleteItem(t){this.selectedPositions.splice(t,1),this.table.renderRows()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.nX),e.rXU(b.c$),e.rXU(w.u),e.rXU(s.vh),e.rXU(ge),e.rXU(x.eD),e.rXU(u.Bq),e.rXU(ae),e.rXU(re),e.rXU(_e.c),e.rXU(K.m),e.rXU(P.V),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-approval-settings"]],viewQuery:function(o,n){if(1&o&&e.GBs(Ye,5),2&o){let a;e.mGM(a=e.lsd())&&(n.table=a.first)}},features:[e.Vt3],decls:25,vars:20,consts:[["tableMaster",""],["AddModal",""],["deleteModel",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["approvalTransactionTypeIdModel","ngModel"],["dataTable",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","title","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","approvalTransactionTypeId","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["translate","",2,"width","20%"],[1,"fs-5"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.approvalSettings.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","approvalTransactionTypeId","translate","",1,"fw-bold","form-label","required"],["name","approvalTransactionTypeId","bindValue","id","bindLabel","nameAR","required","",3,"ngModelChange","items","multiple","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"col-md-12","col-12","mb-3"],["translate","",1,"fw-bold","form-label","w-100"],["name","isHierarchy","inputId","isHierarchy",3,"click","ngModelChange","ngModel"],["class","col-12 col-md-6 mb-3",4,"ngIf"],["class","col-12 col-md-2 mb-3 d-flex justify-content-center align-items-end",4,"ngIf"],["class","col-12 col-md-12 mb-3",4,"ngIf"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[1,"col-12","col-md-6","mb-3"],["translate","",1,"fw-bold","form-label"],["name","status","bindLabel","display",3,"ngModelChange","items","multiple","ngModel"],[1,"col-12","col-md-2","mb-3","d-flex","justify-content-center","align-items-end"],[1,"btn","btn-success",3,"click","disabled"],[1,"ri-add-fill"],["id","todo-task",1,"todo-task"],["mat-table","","cdkDropList","",3,"cdkDropListDropped","dataSource"],["matColumnDef","nameEn"],["mat-header-cell","","translate","approvals.approvalSettings.position",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","translate","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","cdkDrag","",4,"matRowDef","matRowDefColumns"],[4,"cdkDragPlaceholder"],["class","my-3 d-flex justify-content-center",4,"ngIf"],["mat-header-cell","","translate","approvals.approvalSettings.position"],["mat-cell",""],[1,"d-flex","align-items-start"],[1,"task-handle","px-1","bg-light","rounded"],["mat-header-cell","","translate",""],["type","button",1,"btn","btn-sm","btn-soft-danger",3,"click"],[1,"ri-delete-bin-5-fill"],["mat-header-row",""],["mat-row","","cdkDrag",""],[1,"my-3","d-flex","justify-content-center"],[1,"badge","bg-warning"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-removetodomodal",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#f7b84b,secondary:#f06548",2,"width","100px","height","100px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","button","data-bs-dismiss","modal",1,"btn","w-sm","btn-light",3,"click"],["type","button","id","remove-todoitem",1,"btn","w-sm","btn-danger",3,"click"],[3,"deleteConfirm","dismiss"]],template:function(o,n){if(1&o){const a=e.RV6();e.nrm(0,"app-breadcrumbs",8),e.nI1(1,"translate"),e.j41(2,"div",9)(3,"div",10)(4,"div",11)(5,"base-filter",12),e.bIt("reset",function(){return e.eBV(a),e.Njj(n.onReset())})("search",function(){return e.eBV(a),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(a);const p=e.sdS(20);return e.Njj(n.openModalTitle(p,"lg"))}),e.qex(6,13),e.j41(7,"div",14)(8,"input",15),e.nI1(9,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.title,p)||(n.pagination.title=p),e.Njj(p)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(10,"div",16),e.nrm(11,"ngx-ui-loader",17),e.j41(12,"div",18)(13,"p-table",19,0),e.bIt("onLazyLoad",function(p){return e.eBV(a),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(a),e.Njj(n.onSelectionChange(p))}),e.DNE(15,He,7,0,"ng-template",20)(16,Qe,15,9,"ng-template",21),e.k0s()(),e.DNE(17,Ke,2,0,"div",22)(18,We,6,8,"div",23),e.k0s()()()(),e.DNE(19,mt,29,14,"ng-template",null,1,e.C5r)(21,gt,16,0,"ng-template",null,2,e.C5r)(23,_t,1,0,"ng-template",null,3,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,16,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,18,"approvals.approvalSettings.formTitle")),e.R50("ngModel",n.pagination.title),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[s.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,$.m,X.b,U.w,z.p,O.g,b.Mm,S.XI,F.Ei,S.Tg,N.HW,x.Cv,V.vr,u.md,Y.m,I.m,se.T1,se.O7,T.Zl,T.tL,T.ji,T.cC,T.YV,T.iL,T.KS,T.$R,T.YZ,T.NB,s.vh,b.D9],encapsulation:2})}}return i})();var J=d(56131);let ut=(()=>{class i extends J.E{constructor(t,o,n){super(t,o,n)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(m.Ix),e.KVO(ae),e.KVO(w.u))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ft=(()=>{class i extends J.E{constructor(t,o,n){super(t,o,n)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(m.Ix),e.KVO(re),e.KVO(w.u))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var he=d(99437),ue=d(18810),M=d(36158),bt=d(34578),vt=d(53928),Ct=d(99902),yt=d(94575),f=d(49969),fe=d(81455),be=d(52423),ve=d(92016),Ce=d(21413);const xt=["pOrganizationChartNode",""],St=(i,r)=>({"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":i,"p-highlight":r}),ye=i=>({$implicit:i}),xe=i=>({"p-organizationchart-line-top":i});function It(i,r){if(1&i&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.JRh(t.node.label)}}function jt(i,r){1&i&&e.eu8(0)}function Tt(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,jt,1,0,"ng-container",6),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.eq3(2,ye,t.node))}}function kt(i,r){1&i&&e.nrm(0,"ChevronDownIcon",11),2&i&&(e.Y8G("styleClass","p-node-toggler-icon"),e.BMQ("data-pc-section","nodeTogglerIcon"))}function Et(i,r){1&i&&e.nrm(0,"ChevronUpIcon",11),2&i&&(e.Y8G("styleClass","p-node-toggler-icon"),e.BMQ("data-pc-section","nodeTogglerIcon"))}function Rt(i,r){if(1&i&&(e.qex(0),e.DNE(1,kt,1,2,"ChevronDownIcon",10)(2,Et,1,2,"ChevronUpIcon",10),e.bVm()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",t.node.expanded),e.R7$(),e.Y8G("ngIf",!t.node.expanded)}}function wt(i,r){}function Dt(i,r){1&i&&e.DNE(0,wt,0,0,"ng-template")}function Ft(i,r){if(1&i&&(e.j41(0,"span",12),e.DNE(1,Dt,1,0,null,6),e.k0s()),2&i){const t=e.XpG(4);e.BMQ("data-pc-section","nodeTogglerIcon"),e.R7$(),e.Y8G("ngTemplateOutlet",t.chart.togglerIconTemplate)("ngTemplateOutletContext",e.eq3(3,ye,t.node.expanded))}}function Mt(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",8),e.bIt("click",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.toggleNode(n,a.node))})("keydown.enter",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.toggleNode(n,a.node))})("keydown.space",function(n){e.eBV(t);const a=e.XpG(3);return e.Njj(a.toggleNode(n,a.node))}),e.DNE(1,Rt,3,2,"ng-container",0)(2,Ft,2,5,"span",9),e.k0s()}if(2&i){const t=e.XpG(3);e.BMQ("data-pc-section","nodeToggler"),e.R7$(),e.Y8G("ngIf",!t.chart.togglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.chart.togglerIconTemplate)}}function Nt(i,r){if(1&i&&(e.qex(0),e.DNE(1,Mt,3,3,"a",7),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.leaf)}}function At(i,r){if(1&i&&(e.qex(0),e.j41(1,"td"),e.nrm(2,"div",3),e.k0s(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.BMQ("data-pc-section","lineCell")("colspan",t.colspan),e.R7$(),e.BMQ("data-pc-section","lineDown")}}function Gt(i,r){if(1&i&&(e.j41(0,"td",14),e.EFF(1,"\xa0"),e.k0s(),e.j41(2,"td",15),e.EFF(3,"\xa0"),e.k0s()),2&i){const o=r.last;e.Y8G("ngClass",e.eq3(4,xe,!r.first)),e.BMQ("data-pc-section","lineLeft"),e.R7$(2),e.Y8G("ngClass",e.eq3(6,xe,!o)),e.BMQ("data-pc-section","lineRight")}}function Vt(i,r){if(1&i&&(e.qex(0),e.DNE(1,Gt,4,8,"ng-template",13),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.node.children)}}function Lt(i,r){if(1&i&&(e.j41(0,"td",16),e.nrm(1,"table",17),e.k0s()),2&i){const t=r.$implicit,o=e.XpG(2);e.BMQ("data-pc-section","nodeCell"),e.R7$(),e.Y8G("node",t)("collapsible",o.collapsible&&o.node.children&&o.node.children.length>0)}}function Bt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.bIt("click",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onNodeClick(n,a.node))}),e.DNE(4,It,2,1,"div",0)(5,Tt,2,4,"div",0)(6,Nt,2,1,"ng-container",0),e.k0s()()(),e.j41(7,"tr",2)(8,"td"),e.nrm(9,"div",3),e.k0s()(),e.j41(10,"tr",2),e.DNE(11,At,3,3,"ng-container",0)(12,Vt,2,1,"ng-container",0),e.k0s(),e.j41(13,"tr",4),e.DNE(14,Lt,2,3,"td",5),e.k0s()()}if(2&i){const t=e.XpG();e.BMQ("data-pc-section","body"),e.R7$(),e.BMQ("data-pc-section","row"),e.R7$(),e.BMQ("colspan",t.colspan)("data-pc-section","cell"),e.R7$(),e.HbH(t.node.styleClass),e.Y8G("ngClass",e.l_i(26,St,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.BMQ("data-pc-section","node"),e.R7$(),e.Y8G("ngIf",!t.chart.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.chart.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.collapsible),e.R7$(),e.Y8G("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.BMQ("data-pc-section","lines"),e.R7$(),e.BMQ("data-pc-section","lineCell")("colspan",t.colspan),e.R7$(),e.BMQ("data-pc-section","lineDown"),e.R7$(),e.Y8G("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.BMQ("data-pc-section","lines"),e.R7$(),e.Y8G("ngIf",t.node.children&&1===t.node.children.length),e.R7$(),e.Y8G("ngIf",t.node.children&&t.node.children.length>1),e.R7$(),e.Y8G("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.BMQ("data-pc-section","nodes"),e.R7$(),e.Y8G("ngForOf",t.node.children)}}const Pt=i=>({"p-organizationchart p-component":!0,"p-organizationchart-preservespace":i});function $t(i,r){if(1&i&&e.nrm(0,"table",2),2&i){const t=e.XpG();e.Y8G("collapsible",t.collapsible)("node",t.root)}}let Xt=(()=>{class i{cd;node;root;first;last;collapsible;chart;subscription;constructor(t,o){this.cd=o,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){if(this.node)return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){if(this.node)return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,o){this.chart.onNodeClick(t,o)}toggleNode(t,o){o.expanded=!o.expanded,o.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.rXU((0,e.Rfq)(()=>Se)),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:i,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:[2,"root","root",e.L39],first:[2,"first","first",e.L39],last:[2,"last","last",e.L39],collapsible:[2,"collapsible","collapsible",e.L39]},features:[e.GFd],attrs:xt,decls:1,vars:1,consts:[[4,"ngIf"],[3,"click","ngClass"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter","keydown.space",4,"ngIf"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter","keydown.space"],["class","p-node-toggler-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-node-toggler-icon"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node","collapsible"]],template:function(o,n){1&o&&e.DNE(0,Bt,15,29,"tbody",0),2&o&&e.Y8G("ngIf",n.node)},dependencies:()=>[s.YU,s.Sq,s.bT,s.T3,be.D,ve.M,i],styles:["@layer primeng{.p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}}\n"],encapsulation:2,data:{animation:[(0,f.hZ)("childState",[(0,f.wk)("in",(0,f.iF)({opacity:1})),(0,f.kY)("void => *",[(0,f.iF)({opacity:0}),(0,f.i0)(150)]),(0,f.kY)("* => void",[(0,f.i0)(150,(0,f.iF)({opacity:0}))])])]}})}return i})(),Se=(()=>{class i{el;cd;value;style;styleClass;selectionMode;collapsible;preserveSpace=!0;get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}selectionChange=new e.bkB;onNodeSelect=new e.bkB;onNodeUnselect=new e.bkB;onNodeExpand=new e.bkB;onNodeCollapse=new e.bkB;templates;templateMap;togglerIconTemplate;selectionSource=new Ce.B;_selection;initialized;selectionSource$=this.selectionSource.asObservable();constructor(t,o){this.el=t,this.cd=o}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{"togglericon"===t.getType()?this.togglerIconTemplate=t.template:this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,o){let n=t.target;if((!n.className||!fe.D.hasClass(n,"p-node-toggler")&&!fe.D.hasClass(n,"p-node-toggler-icon"))&&this.selectionMode){if(!1===o.selectable)return;let a=this.findIndexInSelection(o),l=a>=0;"single"===this.selectionMode?l?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:o})):(this.selection=o,this.onNodeSelect.emit({originalEvent:t,node:o})):"multiple"===this.selectionMode&&(l?(this.selection=this.selection.filter((p,j)=>j!=a),this.onNodeUnselect.emit({originalEvent:t,node:o})):(this.selection=[...this.selection||[],o],this.onNodeSelect.emit({originalEvent:t,node:o}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let o=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)o=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let n=0;n<this.selection.length;n++)if(this.selection[n]==t){o=n;break}return o}isSelected(t){return-1!=this.findIndexInSelection(t)}static \u0275fac=function(o){return new(o||i)(e.rXU(e.aKT),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:i,selectors:[["p-organizationChart"]],contentQueries:function(o,n,a){if(1&o&&e.wni(a,F.Ei,4),2&o){let l;e.mGM(l=e.lsd())&&(n.templates=l)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",collapsible:[2,"collapsible","collapsible",e.L39],preserveSpace:[2,"preserveSpace","preserveSpace",e.L39],selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},features:[e.GFd],decls:2,vars:8,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"collapsible","node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"collapsible","node"]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.DNE(1,$t,1,2,"table",1),e.k0s()),2&o&&(e.HbH(n.styleClass),e.Y8G("ngStyle",n.style)("ngClass",e.eq3(6,Pt,n.preserveSpace)),e.BMQ("data-pc-section","root"),e.R7$(),e.Y8G("ngIf",n.root))},dependencies:[s.YU,s.bT,s.B3,Xt],encapsulation:2})}return i})(),Ut=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[s.MD,be.D,ve.M,F.Gg,F.Gg]})}return i})();const zt=()=>[],Ot=()=>["service.edit"],Ie=()=>["service.delete"],Yt=i=>({"text-primary fs-5 fw-bold":i}),Ht=()=>["service.register"];function qt(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",43),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(),l=e.sdS(26);return e.Njj(a.EditModel(n,l))}),e.nrm(1,"i",44)(2,"span",45),e.k0s()}}function Qt(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",43),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(),l=e.sdS(30);return e.Njj(a.openModal(n.id,l))}),e.nrm(1,"i",46)(2,"span",47),e.k0s()}}function Kt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",32)(1,"span",33),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(26);return e.Njj(a.openAddModal(n,l,"md"))}),e.nrm(2,"i",34),e.k0s(),e.j41(3,"span",35)(4,"div",36)(5,"button",37),e.nrm(6,"i",38),e.k0s(),e.j41(7,"div",39),e.DNE(8,qt,3,0,"a",40)(9,Qt,3,0,"a",40),e.k0s()()(),e.nrm(10,"img",41),e.j41(11,"div",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.cityChange(n))}),e.EFF(12),e.k0s()()}if(2&i){const t=r.$implicit,o=e.XpG();e.R7$(8),e.Y8G("hasPermission",e.lJ4(4,Ot)),e.R7$(),e.Y8G("hasPermission",e.lJ4(5,Ie)),e.R7$(2),e.Y8G("ngClass",e.eq3(6,Yt,t.id==o.departmentIdSelected)),e.R7$(),e.SpI(" ",t.data.name," ")}}function Wt(i,r){if(1&i&&(e.j41(0,"tr",48)(1,"th",49),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",50),e.nrm(4,"i",51),e.EFF(5," general.table.id "),e.k0s(),e.j41(6,"th",52),e.nrm(7,"i",51),e.EFF(8," general.table.name "),e.k0s(),e.j41(9,"th",53),e.nrm(10,"i",51),e.EFF(11," hr.departments.departmentName "),e.k0s(),e.j41(12,"th",54),e.nrm(13,"i",51),e.EFF(14," hr.positions.isHead "),e.k0s(),e.nrm(15,"th",55),e.k0s()),2&i){const t=e.XpG();e.R7$(6),e.FS9("pSortableColumn","en"===t.lang?"nameEn":"nameAr")}}function Jt(i,r){1&i&&e.nrm(0,"span",61)}function Zt(i,r){1&i&&e.nrm(0,"span",62)}function en(i,r){if(1&i&&(e.nrm(0,"i",63),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",64),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",65),e.EFF(9)),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function tn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(),l=e.sdS(28);return e.Njj(a.EditModel(n,l))}),e.nrm(1,"i",67),e.k0s()}}function nn(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(),l=e.sdS(32);return e.Njj(a.openModal(n.id,l))}),e.nrm(1,"i",46),e.k0s()}}function on(i,r){if(1&i&&(e.j41(0,"tr",56)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.DNE(10,Jt,1,0,"span",57)(11,Zt,1,0,"span",58),e.k0s(),e.j41(12,"td"),e.DNE(13,en,10,9,"ng-template",null,5,e.C5r)(15,tn,2,0,"button",59)(16,nn,2,0,"button",60),e.k0s()()),2&i){const t=r.$implicit,o=r.rowIndex,n=e.XpG();e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh("en"===n.lang?t.positionNameEn:t.positionNameAr),e.R7$(2),e.JRh("en"===n.lang?t.departmentNameEn:t.departmentNameAr),e.R7$(2),e.Y8G("ngIf",t.isHead),e.R7$(),e.Y8G("ngIf",!t.isHead),e.R7$(4),e.Y8G("hasPermission",e.lJ4(8,Ht)),e.R7$(),e.Y8G("hasPermission",e.lJ4(9,Ie))}}function an(i,r){1&i&&(e.j41(0,"div",69),e.EFF(1," general.table.noData "),e.k0s())}function sn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",70)(1,"div",71),e.nrm(2,"ngb-pagination-info",72),e.j41(3,"table-length",73),e.bIt("lengthChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.ListItemChangeService(n))}),e.k0s()(),e.j41(4,"div",74)(5,"ngb-pagination",75),e.bIt("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.pageChangedService(n))}),e.mxI("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.servicePagination.pageNumber,n)||(a.servicePagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.servicePagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.servicePagination.pageSize)("collectionSize",t.servicePagination.totalItems),e.R50("page",t.servicePagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function rn(i,r){1&i&&(e.j41(0,"span",97),e.EFF(1,"general.action.register "),e.k0s())}function ln(i,r){1&i&&(e.j41(0,"span",97),e.EFF(1,"general.action.edit "),e.k0s())}function pn(i,r){1&i&&(e.j41(0,"div",98),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function dn(i,r){1&i&&(e.j41(0,"div",98),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function cn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",76)(1,"h4",77),e.DNE(2,rn,2,0,"span",78)(3,ln,2,0,"span",78),e.nrm(4,"span",79),e.k0s(),e.j41(5,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",81,6),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.nrm(8,"ngx-ui-loader",82),e.j41(9,"div",83)(10,"div",84)(11,"div",85)(12,"div",86)(13,"div",87)(14,"label",88),e.EFF(15,"hr.departments.nameEn"),e.k0s(),e.j41(16,"div",89)(17,"input",90,7),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameEn,n)||(a.form.nameEn=n),e.Njj(n)}),e.k0s()(),e.DNE(19,pn,2,0,"div",91),e.k0s(),e.j41(20,"div",87)(21,"label",92),e.EFF(22,"hr.departments.nameAr"),e.k0s(),e.j41(23,"div",89)(24,"input",93,8),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameAr,n)||(a.form.nameAr=n),e.Njj(n)}),e.k0s()(),e.DNE(26,dn,2,0,"div",91),e.k0s()(),e.j41(27,"div",94),e.nrm(28,"button",95),e.j41(29,"button",96),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.sdS(7),o=e.sdS(18),n=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(9),e.R50("ngModel",a.form.nameEn),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(5),e.R50("ngModel",a.form.nameAr),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(2),e.Y8G("disabled",!t.valid)}}function mn(i,r){1&i&&(e.j41(0,"span",97),e.EFF(1,"general.action.register "),e.k0s())}function gn(i,r){1&i&&(e.j41(0,"span",97),e.EFF(1,"general.action.edit "),e.k0s())}function _n(i,r){1&i&&(e.j41(0,"div",98),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function hn(i,r){1&i&&(e.j41(0,"div",98),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function un(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",76)(1,"h4",77),e.DNE(2,mn,2,0,"span",78)(3,gn,2,0,"span",78),e.nrm(4,"span",99),e.k0s(),e.j41(5,"button",80),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",81,6),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmitPos())}),e.nrm(8,"ngx-ui-loader",82),e.j41(9,"div",83)(10,"div",84)(11,"div",85)(12,"div",86)(13,"div",100)(14,"label",101),e.EFF(15,"hr.departments.title"),e.k0s(),e.j41(16,"ng-select",102,9),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.departmentId,n)||(a.form.departmentId=n),e.Njj(n)}),e.k0s(),e.DNE(18,_n,2,0,"div",91),e.k0s(),e.j41(19,"div",100)(20,"label",101),e.EFF(21,"hr.positionName.title"),e.k0s(),e.j41(22,"ng-select",103,10),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.positionNameId,n)||(a.form.positionNameId=n),e.Njj(n)}),e.k0s(),e.DNE(24,hn,2,0,"div",91),e.k0s(),e.j41(25,"div",104)(26,"label",105),e.EFF(27,"hr.positions.isHead"),e.k0s(),e.j41(28,"p-inputSwitch",106),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.isHead,n)||(a.form.isHead=n),e.Njj(n)}),e.k0s()()(),e.j41(29,"div",94),e.nrm(30,"button",95),e.j41(31,"button",96),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.sdS(7),o=e.sdS(17),n=e.sdS(23),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(8),e.FS9("bindLabel","en"==a.lang?"nameEn":"nameAr"),e.Y8G("items",a.departmentsDrop)("multiple",!1),e.R50("ngModel",a.form.departmentId),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.FS9("bindLabel","en"==a.lang?"nameEn":"nameAr"),e.Y8G("items",a.positionNames)("multiple",!1),e.R50("ngModel",a.form.positionNameId),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",a.form.isHead),e.R7$(2),e.Y8G("disabled",!t.valid)}}function fn(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",107),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}function bn(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",107),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirmPos())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let vn=(()=>{class i extends L.w{constructor(t,o,n,a,l,p,j,k,E,R,we,ce,me,xi){super(t,o,R,n,j,k,E),this.baseService=n,this.positionService=a,this.positionNameService=l,this.employeesService=p,this.excelService=ce,this.router=me,this._formDataService=xi,this.title="hr.departments.title",this.titleOperation="hr.departments.titleOperation",this.titleServices="hr.positions.title",this.titleService="hr.positions.title",this.entities=[],this.searchForm={},this.isResolveList=!0,this.image={isApi:!1,path:""},this.form={image:""},this.serverPath=B.c.mediaUrl,this.services=[],this.pagination={pageNumber:1,pageSize:100},this.servicePagination={pageNumber:1,pageSize:10},this.departmentIdSelected=0,this.departmentNameSelected="",this.servicesType=[],this.departmentsDrop=[],this.employeesDrop=[],this.positionNames=[],this.isShowMenu=!1,this.countLoad=1,this.configRoute(),this.GetDepartmentsDropdown(),this.GetPositionNamesDropdown(),this.GetEmployeesDropdown()}GetDepartmentsDropdown(){this.baseService.getDropDown().pipe((0,g.Q)(this.notifier)).subscribe(t=>{t?this.departmentsDrop=t.data:this.alertService.error("general.message."+t)},t=>{this.alertService.error()})}GetPositionNamesDropdown(){this.positionNameService.getDropDown().pipe((0,g.Q)(this.notifier)).subscribe(t=>{t?this.positionNames=t.data:this.alertService.error("general.message."+t)},t=>{this.alertService.error()})}GetEmployeesDropdown(){this.employeesService.getDropDown().pipe((0,g.Q)(this.notifier)).subscribe(t=>{t?this.employeesDrop=t.data:this.alertService.error("general.message."+t)},t=>{this.alertService.error()})}tableChange(t){this.servicePagination.filterType=t.sortField,this.servicePagination.sortType=1==t.sortOrder?"asc":"desc",this.loadentitiesservices()}ngOnInitMore(){}mapForm(t){let o={...t};return o.id=o.serviceCategoryCode,o}mapRegisterForm(t){let o={...t};return o.serviceCategoryCode=0,o}OnSearch(t){this.ngxLoader.startLoader(M.a7),this.loadentities()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.get(this.pagination).pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.ngxLoader.stopLoader(M.a7),this.entities=[t.data],this.pagination.totalItems=t.totalItems,this.LoadSuccess()},t=>{this.ngxLoader.stopLoader(M.a7),this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}configRoute(){this.routerActive.data.pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.entities=[t.data.data],this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}openAddModal(t,o,n="md"){this.isEditForm=!1,this.form={},this.form.parentDepartmentId=t.id,this.modalService.open(o,{centered:!0,size:n})}EditModel(t,o,n="md"){this.isEditForm=!0,this.image={isApi:!0,path:t.imageUrl},this.positionService.getById(t.id).pipe((0,g.Q)(this.notifier)).subscribe(a=>{a.success?this.form=a.data:this.alertService.error("general.message."+a.message),this.modalService.open(o,{centered:!0,size:n})},a=>{this.alertService.error()})}loadentitiesservices(){this.ngxLoader.startLoader(M.a7),this.servicePagination.departmentId=this.departmentIdSelected?this.departmentIdSelected:null,this.positionService.get(this.servicePagination).pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.services=t.data,this.servicePagination.totalItems=t.totalItems,this.LoadSuccess(),this.ngxLoader.stopLoader(M.a7)},t=>{this.ngxLoader.stopLoader(M.a7),this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[]}goRegister(){this.router.navigateByUrl("/basicData/services/add")}goEdit(t){this.router.navigateByUrl("/basicData/services/edit",{state:{id:t}})}cityChange(t){this.departmentIdSelected=t.id,this.departmentNameSelected="en"==this.lang?t.nameEn:t.nameAr,this.loadentitiesservices()}pageChangedService(t){this.servicePagination.pageNumber=t,this.loadentitiesservices()}ListItemChangeService(t){this.servicePagination.pageSize=t.target.value,this.loadentitiesservices()}onMenuShow(){this.isShowMenu=!this.isShowMenu}onWrapperClick(){this.isShowMenu&&(this.isShowMenu=!1)}registerEntity(){this.baseService.register(this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,he.W)(t=>(0,ue.$)(t))).subscribe(t=>{t.success?(this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.submitFunished(),this.loadentities()):this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}editEntity(){this.baseService.edit(this.form.id,this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(t=>{t.success?(this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.submitFunished(),this.loadentities()):this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}OnSubmitPos(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editPosEntity():this.registerPosEntity()}registerPosEntity(){this.positionService.register(this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,he.W)(t=>(0,ue.$)(t))).subscribe(t=>{t.success?(this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.submitFunished(),this.loadentitiesservices()):this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}editPosEntity(){this.positionService.edit(this.form.id,this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(t=>{t.success?(this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.submitFunished(),this.loadentitiesservices()):this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader);let t=this.selectedRow.map(o=>o.id);this.baseService.delete(t).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(o=>{o.success?(this.loadentities(),this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.alertService.success(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+o)},()=>{this.alertService.error()})}DeleteConfirmPos(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader);let t=this.selectedRow.map(o=>o.id);this.positionService.delete(t).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(o=>{o.success?(this.GetDepartmentsDropdown(),this.GetEmployeesDropdown(),this.alertService.success(),this.loadentitiesservices(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+o)},()=>{this.alertService.error()})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.nX),e.rXU(b.c$),e.rXU(re),e.rXU(_e.c),e.rXU(bt.N),e.rXU(vt.O),e.rXU(w.u),e.rXU(s.vh),e.rXU(x.eD),e.rXU(u.Bq),e.rXU(e.gRc),e.rXU(P.V),e.rXU(m.Ix),e.rXU(Ct.Q))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-departments-positions"]],features:[e.Vt3],decls:33,vars:22,consts:[["tableMaster",""],["AddModal",""],["AddPosModal",""],["deleteModal",""],["deleteModalPos",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],["departmentId","ngModel"],["positionNameId","ngModel"],[3,"title","breadcrumbItems"],[1,"card"],[1,"card-body"],[3,"value","collapsible"],["pTemplate","person"],[1,"card","grid"],[3,"addNew","showExport","totalItems","title","showSearch","newLocal"],["menuBtn",""],["type","button",1,"d-inline","d-lg-none","btn","btn-soft-success","btn-icon","btn-sm","fs-16","email-menu-btn",3,"click"],[1,"ri-menu-2-fill","align-bottom"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,"p-2","text-center","position-relative"],["placement","top","ngbTooltip","Add Child Department",1,"btn","btn-primary","position-absolute",2,"inset-inline-end","-15px","top","-15px","padding","4px 8px",3,"click"],[1,"ri-add-fill"],[1,"position-absolute",2,"inset-inline-start","-15px","top","-15px"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","btn","btn-ghost-primary","btn-icon","btn-sm","fs-16","arrow-none","d-block"],[1,"ri-more-2-fill","align-bottom"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","javascript:void(0)",3,"click",4,"hasPermission"],["width","100","src","assets/images/departments.png",1,"mb-3","w-3rem","h-3rem"],[1,"font-bold","cursor-pointer",3,"click","ngClass"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"ri-pencil-fill","align-bottom"],["translate","general.action.edit"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.action.delete"],[1,""],["translate","",2,"width",".5%"],["translate","",2,"width","5%"],[1,"ri-expand-up-down-line"],["translate","",2,"width","20%",3,"pSortableColumn"],["pSortableColumn","departmentId","translate","",2,"width","10%"],["pSortableColumn","isHead","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","hr.positions.head",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","hr.positions.notHead",4,"ngIf"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["translate","hr.positions.head",1,"badge","bg-success-subtle","text-success","p-2"],["translate","hr.positions.notHead",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","hr.departments.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[3,"hasProgressBar","fgsType","loaderId"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"row"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],["translate","hr.positions.title",1,"fw-bold","fs-4"],[1,"col-md-12","col-12","mb-3"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","departmentId","bindValue","id","required","",3,"ngModelChange","items","multiple","bindLabel","ngModel"],["name","positionNameId","bindValue","id","required","",3,"ngModelChange","items","multiple","bindLabel","ngModel"],[1,"col-12","col-md-12","mb-3","form-check"],["for","isHead","translate","",1,"fw-bold","form-label","w-100"],["name","isHead","inputId","isHead",3,"ngModelChange","ngModel"],[3,"deleteConfirm","dismiss"]],template:function(o,n){if(1&o){const a=e.RV6();e.nrm(0,"app-breadcrumbs",11),e.nI1(1,"translate"),e.j41(2,"div",12)(3,"div",13)(4,"p-organizationChart",14),e.DNE(5,Kt,13,8,"ng-template",15),e.k0s()()(),e.j41(6,"div",16)(7,"base-filter",17),e.bIt("addNew",function(){e.eBV(a);const p=e.sdS(28);return e.Njj(n.openModalTitle(p,"md"))}),e.qex(8,18),e.j41(9,"button",19),e.bIt("click",function(){return e.eBV(a),e.Njj(n.onMenuShow())}),e.nrm(10,"i",20),e.k0s(),e.bVm(),e.qex(11,21),e.j41(12,"div",22)(13,"div",23)(14,"input",24),e.nI1(15,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.servicePagination.filterValue,p)||(n.servicePagination.filterValue=p),e.Njj(p)}),e.k0s(),e.nrm(16,"i",25),e.k0s()(),e.bVm(),e.k0s(),e.j41(17,"div",13)(18,"div",26)(19,"p-table",27,0),e.bIt("onLazyLoad",function(p){return e.eBV(a),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(a),e.Njj(n.onSelectionChange(p))}),e.DNE(21,Wt,16,1,"ng-template",28)(22,on,17,10,"ng-template",29),e.k0s()(),e.DNE(23,an,2,0,"div",30)(24,sn,6,8,"div",31),e.k0s()(),e.DNE(25,cn,30,10,"ng-template",null,1,e.C5r)(27,un,32,17,"ng-template",null,2,e.C5r)(29,fn,1,0,"ng-template",null,3,e.C5r)(31,bn,1,0,"ng-template",null,4,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,17,n.title)),e.Y8G("breadcrumbItems",e.lJ4(21,zt)),e.R7$(4),e.Y8G("value",n.entities)("collapsible",!0),e.R7$(3),e.Y8G("showExport",!1)("totalItems",n.servicePagination.totalItems)("title",n.titleServices)("showSearch",!1)("newLocal","hr.positions.addPosition"),e.R7$(7),e.FS9("placeholder",e.bMT(15,19,"task.tasklist.subject")),e.R50("ngModel",n.servicePagination.filterValue),e.R7$(5),e.Y8G("value",n.services)("rows",n.servicePagination.pageSize)("lazy",!0)("totalRecords",n.servicePagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.servicePagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.servicePagination.totalItems>0))},dependencies:[s.YU,s.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.tg,u.do,u.U0,u.s5,$.m,X.b,U.w,z.p,O.g,b.Mm,S.XI,F.Ei,S.Tg,N.HW,x.Cv,V.vr,u.md,Y.m,yt.p,Se,s.vh,b.D9],encapsulation:2})}}return i})(),le=(()=>{class i extends q.d{constructor(t){super(t,B.c.apiUrl+"ApprovalRequest/")}get(t){return this.http.post(this.baseUrl+"Get",t)}getPending(){return this.http.get(this.baseUrl+"PendingStepsForUser")}GetStepsById(t){return this.http.get(this.baseUrl+"Steps/"+t)}GetEmployeeLookup(){return this.http.get(this.baseUrl+"GetEmployeeLookup")}deleteTarget(t){return this.http.delete(this.baseUrl+t)}edit(t,o){return this.http.put(this.baseUrl+"Edit/"+t,o)}approve(t){return this.http.put(this.baseUrl+"Approve",t)}reject(t){return this.http.put(this.baseUrl+"Reject",t)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(Q.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Cn(i,r){1&i&&(e.j41(0,"tr",22)(1,"th",23),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",24),e.EFF(4," approvals.approval-types.title "),e.k0s(),e.j41(5,"th",24),e.EFF(6," approvals.approval-requests.title "),e.k0s(),e.nrm(7,"th",25),e.k0s())}function yn(i,r){if(1&i&&(e.nrm(0,"i",32),e.EFF(1),e.nI1(2,"date")),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,t.createdAt,"yyyy-MM-dd HH:mm:ss")," ")}}function xn(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr",26)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.DNE(7,yn,3,4,"ng-template",null,3,e.C5r),e.j41(9,"td"),e.nrm(10,"i",27),e.j41(11,"button",28),e.nI1(12,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(23);return e.Njj(a.openActionModal(l,n.requestStepId,1))}),e.nrm(13,"i",29),e.k0s(),e.j41(14,"button",30),e.nI1(15,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(23);return e.Njj(a.openActionModal(l,n.requestStepId,2))}),e.nrm(16,"i",31),e.k0s()()()}if(2&i){const t=r.$implicit,o=r.rowIndex,n=e.sdS(8);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(t.approvalTypeName),e.R7$(2),e.JRh(t.requestTitle),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.FS9("pTooltip",e.bMT(12,6,"approvals.pendingSteps.approve")),e.R7$(3),e.FS9("pTooltip",e.bMT(15,8,"approvals.pendingSteps.reject"))}}function Sn(i,r){1&i&&(e.j41(0,"div",33),e.EFF(1," general.table.noData"),e.k0s())}function In(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",34)(1,"div",35),e.nrm(2,"ngb-pagination-info",36),e.j41(3,"table-length",37),e.bIt("lengthChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",38)(5,"ngb-pagination",39),e.bIt("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.pagination.pageNumber,n)||(a.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function jn(i,r){1&i&&(e.j41(0,"span",56),e.EFF(1,"approvals.pendingSteps.approve "),e.k0s())}function Tn(i,r){1&i&&(e.j41(0,"span",56),e.EFF(1,"approvals.pendingSteps.reject "),e.k0s())}function kn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"h4",41),e.DNE(2,jn,2,0,"span",42)(3,Tn,2,0,"span",42),e.nrm(4,"span",43),e.k0s(),e.j41(5,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",45,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.approvalAction())}),e.nrm(8,"ngx-ui-loader",15),e.j41(9,"div",46)(10,"div",47)(11,"div",48)(12,"div",6)(13,"div",49)(14,"label",50),e.EFF(15,"approvals.pendingSteps.notes"),e.k0s(),e.j41(16,"div",51)(17,"textarea",52),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.notes,n)||(a.form.notes=n),e.Njj(n)}),e.EFF(18,"                                "),e.k0s()()()(),e.j41(19,"div",53),e.nrm(20,"button",54),e.j41(21,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",1===t.approvalType),e.R7$(),e.Y8G("ngIf",2===t.approvalType),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderOperationShap)("loaderId",t.operationLoader),e.R7$(9),e.R50("ngModel",t.form.notes)}}function En(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",57),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let Rn=(()=>{class i extends L.w{constructor(t,o,n,a,l,p,j,k,E,R){super(t,o,j,l,n,a,p),this.baseService=l,this.service=k,this.excelService=E,this.router=R,this.title="approvals.pendingSteps.title",this.submitted=!1,this.isResolveList=!0,this.itemId=0,this.approvalType=0,this.loadentities()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.getPending().pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.ngxLoader.stopLoader(M.a7),this.entities=t.data,this.pagination.totalItems=t.totalItems,this.LoadSuccess()},t=>{this.ngxLoader.stopLoader(M.a7),this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}openActionModal(t,o,n,a="md"){this.isEditForm=!1,this.itemId=o,this.approvalType=n,this.modalService.open(t,{centered:!0,size:a})}approvalAction(){this.form.requestStepId=this.itemId,1===this.approvalType?this.baseService.approve(this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(t=>{t.success?this.submitFunished():this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)}):2===this.approvalType&&this.baseService.reject(this.form).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(t=>{t.success?this.submitFunished():this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.nX),e.rXU(b.c$),e.rXU(w.u),e.rXU(s.vh),e.rXU(le),e.rXU(x.eD),e.rXU(u.Bq),e.rXU(K.m),e.rXU(P.V),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-users-steps"]],features:[e.Vt3],decls:26,vars:25,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","addNew","showExport","showAdd","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-info","remove-list","me-2",3,"click","pTooltip"],[1,"ri-check-double-fill","align-bottom"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-close-circle-fill","align-bottom"],[1,"ri-history-fill","text-warning"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.pendingSteps.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","notes","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","notes","rows","4","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],[3,"deleteConfirm","dismiss"]],template:function(o,n){if(1&o){const a=e.RV6();e.nrm(0,"app-breadcrumbs",5),e.nI1(1,"translate"),e.j41(2,"div",6)(3,"div",7)(4,"div",8)(5,"base-filter",9),e.bIt("reset",function(){return e.eBV(a),e.Njj(n.onReset())})("search",function(){return e.eBV(a),e.Njj(n.onSearch())})("addNew",function(){e.eBV(a);const p=e.sdS(23);return e.Njj(n.openModalTitle(p))}),e.qex(6,10),e.j41(7,"div",11)(8,"input",12),e.nI1(9,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameEn,p)||(n.pagination.nameEn=p),e.Njj(p)}),e.k0s()(),e.j41(10,"div",11)(11,"input",13),e.nI1(12,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameAr,p)||(n.pagination.nameAr=p),e.Njj(p)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(13,"div",14),e.nrm(14,"ngx-ui-loader",15),e.j41(15,"div",16)(16,"p-table",17,0),e.bIt("onLazyLoad",function(p){return e.eBV(a),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(a),e.Njj(n.onSelectionChange(p))}),e.DNE(18,Cn,8,0,"ng-template",18)(19,xn,17,10,"ng-template",19),e.k0s()(),e.DNE(20,Sn,2,0,"div",20)(21,In,6,8,"div",21),e.k0s()()()(),e.DNE(22,kn,22,6,"ng-template",null,1,e.C5r)(24,En,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,19,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("showAdd",!1)("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,21,"approvals.approval-types.nameEn")),e.R50("ngModel",n.pagination.nameEn),e.R7$(3),e.FS9("placeholder",e.bMT(12,23,"approvals.approval-types.nameAr")),e.R50("ngModel",n.pagination.nameAr),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[s.bT,c.qT,c.me,c.BC,c.cb,c.vS,c.cV,u.s5,$.m,X.b,U.w,z.p,O.g,b.Mm,S.XI,F.Ei,x.Cv,u.md,Y.m,I.m,s.vh,b.D9],encapsulation:2})}}return i})(),wn=(()=>{class i extends J.E{constructor(t,o,n){super(t,o,n)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(m.Ix),e.KVO(ge),e.KVO(w.u))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Dn(i,r){1&i&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," approvals.approval-types.nameEn "),e.k0s(),e.j41(6,"th",28),e.nrm(7,"i",27),e.EFF(8," approvals.approval-types.nameAr "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",27),e.EFF(11," approvals.approval-types.isActive "),e.k0s(),e.nrm(12,"th",30),e.k0s())}function Fn(i,r){1&i&&e.nrm(0,"span",39)}function Mn(i,r){1&i&&e.nrm(0,"span",40)}function Nn(i,r){if(1&i&&(e.nrm(0,"i",41),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",42),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",43),e.EFF(9),e.nrm(10,"br")(11,"i",43),e.EFF(12)),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,4,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,7,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName,""),e.R7$(3),e.SpI(" ",t.lastModificationName," ")}}function An(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr",31)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Fn,1,0,"span",32)(9,Mn,1,0,"span",33),e.k0s(),e.DNE(10,Nn,13,10,"ng-template",null,3,e.C5r),e.j41(12,"td"),e.nrm(13,"i",34),e.j41(14,"button",35),e.nI1(15,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(23);return e.Njj(a.editModal(n.id,l))}),e.nrm(16,"i",36),e.k0s(),e.j41(17,"button",37),e.nI1(18,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(),l=e.sdS(25);return e.Njj(a.openModal(n.id,l))}),e.nrm(19,"i",38),e.k0s()()()}if(2&i){const t=r.$implicit,o=r.rowIndex,n=e.sdS(11);e.R7$(2),e.JRh(o+1),e.R7$(2),e.JRh(t.nameEn),e.R7$(2),e.JRh(t.nameAr),e.R7$(2),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.FS9("pTooltip",e.bMT(15,8,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(18,10,"general.delete"))}}function Gn(i,r){1&i&&(e.j41(0,"div",44),e.EFF(1," general.table.noData"),e.k0s())}function Vn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"div",46),e.nrm(2,"ngb-pagination-info",47),e.j41(3,"table-length",48),e.bIt("lengthChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",49)(5,"ngb-pagination",50),e.bIt("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.pagination.pageNumber,n)||(a.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Ln(i,r){1&i&&(e.j41(0,"span",73),e.EFF(1,"general.action.register "),e.k0s())}function Bn(i,r){1&i&&(e.j41(0,"span",73),e.EFF(1,"general.action.edit "),e.k0s())}function Pn(i,r){1&i&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function $n(i,r){1&i&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Xn(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",51)(1,"h4",52),e.DNE(2,Ln,2,0,"span",53)(3,Bn,2,0,"span",53),e.nrm(4,"span",54),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()(),e.j41(6,"form",56,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",57)(10,"div",58)(11,"div",59)(12,"div",8)(13,"div",60)(14,"label",61),e.EFF(15,"approvals.approval-types.nameEn"),e.k0s(),e.j41(16,"div",62)(17,"input",63,5),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameEn,n)||(a.form.nameEn=n),e.Njj(n)}),e.k0s(),e.DNE(19,Pn,2,0,"div",64),e.k0s()(),e.j41(20,"div",60)(21,"label",65),e.EFF(22,"approvals.approval-types.nameAr"),e.k0s(),e.j41(23,"div",62)(24,"input",66,6),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.nameAr,n)||(a.form.nameAr=n),e.Njj(n)}),e.k0s(),e.DNE(26,$n,2,0,"div",64),e.k0s()(),e.j41(27,"div",67)(28,"label",68),e.EFF(29,"approvals.approval-types.isActive"),e.k0s(),e.j41(30,"p-inputSwitch",69),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.form.isActive,n)||(a.form.isActive=n),e.Njj(n)}),e.k0s()()(),e.j41(31,"div",70),e.nrm(32,"button",71),e.j41(33,"button",72),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()()()()()()}if(2&i){const t=e.sdS(7),o=e.sdS(18),n=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.isEditForm),e.R7$(),e.Y8G("ngIf",a.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",a.loaderOperationShap)("loaderId",a.operationLoader),e.R7$(9),e.R50("ngModel",a.form.nameEn),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(5),e.R50("ngModel",a.form.nameAr),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",a.form.isActive),e.R7$(2),e.Y8G("disabled",!t.valid)}}function Un(i,r){if(1&i){const t=e.RV6();e.j41(0,"delete-modal",75),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let zn=(()=>{class i extends L.w{constructor(t,o,n,a,l,p,j,k,E,R){super(t,o,j,l,n,a,p),this.baseService=l,this.service=k,this.excelService=E,this.router=R,this.title="approvals.approvalRequests.title",this.submitted=!1,this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,g.Q)(this.notifier)).subscribe(t=>{this.entities=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"Service Type",[])}mapExcel(){let t=[];return this.entities?.forEach(o=>{t.push({title:o.title,body:o.body,type:o.type,isActive:this.getTranslationText("general.table.active")})}),t}editModal(t,o,n="md"){this.isEditForm=!0,this.baseService.getById(t).subscribe({next:a=>{this.form=a.data}}),this.modalService.open(o,{centered:!0,size:n})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.delete(this.selectedRow[0].id).pipe((0,_.O)(),(0,v.c)(this.mainDelay),(0,y.Z)(),(0,g.Q)(this.notifier),(0,C.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(o=>{o.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+o)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.nX),e.rXU(b.c$),e.rXU(w.u),e.rXU(s.vh),e.rXU(le),e.rXU(x.eD),e.rXU(u.Bq),e.rXU(K.m),e.rXU(P.V),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-approval-request"]],features:[e.Vt3],decls:26,vars:24,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameEn","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameAr","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.approval-types.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(o,n){if(1&o){const a=e.RV6();e.nrm(0,"app-breadcrumbs",7),e.nI1(1,"translate"),e.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),e.bIt("reset",function(){return e.eBV(a),e.Njj(n.onReset())})("search",function(){return e.eBV(a),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(a),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(a);const p=e.sdS(23);return e.Njj(n.openModalTitle(p))}),e.qex(6,12),e.j41(7,"div",13)(8,"input",14),e.nI1(9,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameEn,p)||(n.pagination.nameEn=p),e.Njj(p)}),e.k0s()(),e.j41(10,"div",13)(11,"input",15),e.nI1(12,"translate"),e.mxI("ngModelChange",function(p){return e.eBV(a),e.DH7(n.pagination.nameAr,p)||(n.pagination.nameAr=p),e.Njj(p)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(13,"div",16),e.nrm(14,"ngx-ui-loader",17),e.j41(15,"div",18)(16,"p-table",19,0),e.bIt("onLazyLoad",function(p){return e.eBV(a),e.Njj(n.tableChange(p))})("selectionChange",function(p){return e.eBV(a),e.Njj(n.onSelectionChange(p))}),e.DNE(18,Dn,13,0,"ng-template",20)(19,An,20,12,"ng-template",21),e.k0s()(),e.DNE(20,Gn,2,0,"div",22)(21,Vn,6,8,"div",23),e.k0s()()()(),e.DNE(22,Xn,34,11,"ng-template",null,1,e.C5r)(24,Un,1,0,"ng-template",null,2,e.C5r)}2&o&&(e.FS9("title",e.bMT(1,18,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"approvals.approval-types.nameEn")),e.R50("ngModel",n.pagination.nameEn),e.R7$(3),e.FS9("placeholder",e.bMT(12,22,"approvals.approval-types.nameAr")),e.R50("ngModel",n.pagination.nameAr),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[s.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,$.m,X.b,U.w,z.p,O.g,b.Mm,S.XI,F.Ei,S.Tg,N.HW,x.Cv,u.md,Y.m,I.m,s.vh,b.D9],encapsulation:2})}}return i})(),On=(()=>{class i extends J.E{constructor(t,o,n){super(t,o,n)}static{this.\u0275fac=function(o){return new(o||i)(e.KVO(m.Ix),e.KVO(le),e.KVO(w.u))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Yn=d(32365),je=d(28203),pe=d(67336),Hn=d(36860),qn=d(7673),de=d(99172);const Qn=["*"];function Kn(i,r){1&i&&e.SdG(0)}let Wn=(()=>{class i{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return i})(),Te=(()=>{class i{constructor(t){this.template=t}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:i,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return i})(),Jn=0;const ke=new e.nKC("STEPPER_GLOBAL_OPTIONS");let Ee=(()=>{class i{get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,o){this._stepper=t,this.interacted=!1,this.interactedStream=new e.bkB,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=o||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(t=>t.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static{this.\u0275fac=function(o){return new(o||i)(e.rXU((0,e.Rfq)(()=>G)),e.rXU(ke,8))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["cdk-step"]],contentQueries:function(o,n,a){if(1&o&&(e.wni(a,Te,5),e.wni(a,c.ZU,5)),2&o){let l;e.mGM(l=e.lsd())&&(n.stepLabel=l.first),e.mGM(l=e.lsd())&&(n._childForms=l)}},viewQuery:function(o,n){if(1&o&&e.GBs(e.C4Q,7),2&o){let a;e.mGM(a=e.lsd())&&(n.content=a.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",e.L39],optional:[2,"optional","optional",e.L39],completed:[2,"completed","completed",e.L39],hasError:[2,"hasError","hasError",e.L39]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[e.GFd,e.OA$,e.aNF],ngContentSelectors:Qn,decls:1,vars:0,template:function(o,n){1&o&&(e.NAR(),e.DNE(0,Kn,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return i})(),G=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}constructor(t,o,n){this._dir=t,this._changeDetectorRef=o,this._elementRef=n,this._destroyed=new Ce.B,this.steps=new e.rOR,this._sortedHeaders=new e.rOR,this.linear=!1,this._selectedIndex=0,this.selectionChange=new e.bkB,this.selectedIndexChange=new e.bkB,this._orientation="horizontal",this._groupId=Jn++}ngAfterContentInit(){this._steps.changes.pipe((0,de.Z)(this._steps),(0,g.Q)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(o=>o._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,de.Z)(this._stepHeader),(0,g.Q)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((o,n)=>o._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Yn.Bu(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,qn.of)()).pipe((0,de.Z)(this._layoutDirection()),(0,g.Q)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const o=t-this._selectedIndex;return o<0?"rtl"===this._layoutDirection()?"next":"previous":o>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,o="number"){const n=this.steps.toArray()[t],a=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,a):this._getGuidelineLogic(n,a,o)}_getDefaultIndicatorLogic(t,o){return t._showError()&&t.hasError&&!o?"error":!t.completed||o?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,o,n="number"){return t._showError()&&t.hasError&&!o?"error":t.completed&&!o?"done":t.completed&&o?n:t.editable&&o?"edit":n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const o=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:o[t],previouslySelectedStep:o[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){const o=(0,pe.rp)(t),n=t.keyCode,a=this._keyManager;null==a.activeItemIndex||o||n!==pe.t6&&n!==pe.Fm?a.setFocusOrigin("keyboard").onKeydown(t):(this.selectedIndex=a.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this.linear&&t>=0)&&this.steps.toArray().slice(0,t).some(o=>{const n=o.stepControl;return(n?n.invalid||n.pending||!o.interacted:!o.completed)&&!o.optional&&!o._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,o=(0,Hn.vc)();return t===o||t.contains(o)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(je.dS,8),e.rXU(e.gRc),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(o,n,a){if(1&o&&(e.wni(a,Ee,5),e.wni(a,Wn,5)),2&o){let l;e.mGM(l=e.lsd())&&(n._steps=l),e.mGM(l=e.lsd())&&(n._stepHeader=l)}},inputs:{linear:[2,"linear","linear",e.L39],selectedIndex:[2,"selectedIndex","selectedIndex",e.Udg],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[e.GFd]})}}return i})(),Zn=(()=>{class i{constructor(t){this._stepper=t,this.type="submit"}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(G))}}static{this.\u0275dir=e.FsC({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(o,n){1&o&&e.bIt("click",function(){return n._stepper.next()}),2&o&&e.Mr5("type",n.type)},inputs:{type:"type"},standalone:!0})}}return i})(),ei=(()=>{class i{constructor(t){this._stepper=t,this.type="button"}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(G))}}static{this.\u0275dir=e.FsC({type:i,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(o,n){1&o&&e.bIt("click",function(){return n._stepper.previous()}),2&o&&e.Mr5("type",n.type)},inputs:{type:"type"},standalone:!0})}}return i})(),Re=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[je.jI]})}}return i})();const ti=[[["",8,"step-bullet"]],[["",8,"step-title"]]],ni=[".step-bullet",".step-title"],ii=(i,r,t)=>({active:i,completed:r,done:t});function oi(i,r){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"li",6),e.bIt("click",function(){const n=e.eBV(t).index,a=e.XpG();return e.Njj(a.selectedIndex=n)}),e.qex(2,7),e.SdG(3),e.SdG(4,1),e.bVm(),e.k0s(),e.bVm()}if(2&i){const t=r.$implicit,o=r.index,n=e.XpG();e.R7$(),e.Y8G("ngClass",e.sMw(2,ii,n.selectedIndex===o,t.completed&&o<n.selectedIndex,"done"===t.state&&o===n.selectedIndex)),e.R7$(),e.Y8G("ngTemplateOutlet",t.stepLabel.template)}}function ai(i,r){if(1&i&&(e.j41(0,"div",8),e.eu8(1,7),e.k0s()),2&i){const t=r.$implicit,o=r.index,n=e.XpG();e.AVh("active",n.selectedIndex===o),e.Y8G("@stepTransition",n._getAnimationDirection(o)),e.R7$(),e.Y8G("ngTemplateOutlet",t.content)}}let si=(()=>{class i extends G{ngOnInit(){}}return i.\u0275fac=(()=>{let r;return function(o){return(r||(r=e.xGo(i)))(o||i)}})(),i.\u0275cmp=e.VBU({type:i,selectors:[["ng-stepper"]],features:[e.Jv_([{provide:G,useExisting:i},{provide:ke,useValue:{displayDefaultIndicatorType:!1}}]),e.Vt3],ngContentSelectors:ni,decls:6,vars:2,consts:[[1,"stepper"],[1,"stepper-header"],[1,"steps"],[4,"ngFor","ngForOf"],[1,"stepper-body"],["class","content",3,"active",4,"ngFor","ngForOf"],[1,"step",3,"click","ngClass"],[3,"ngTemplateOutlet"],[1,"content"]],template:function(t,o){1&t&&(e.NAR(ti),e.j41(0,"div",0)(1,"div",1)(2,"ol",2),e.DNE(3,oi,5,6,"ng-container",3),e.k0s()(),e.j41(4,"div",4),e.DNE(5,ai,2,4,"div",5),e.k0s()()),2&t&&(e.R7$(3),e.Y8G("ngForOf",o.steps),e.R7$(2),e.Y8G("ngForOf",o._steps))},dependencies:[s.YU,s.Sq,s.T3],styles:['[_nghost-%COMP%]{display:block;overflow:hidden}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{width:100%;list-style:none;display:inline-flex;align-items:center;margin:0 auto}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{text-align:center;font-size:1em}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step .step-bullet{position:relative;display:inline-flex;justify-content:center;align-items:center;height:40px;width:40px;background-color:#b3babe;border-radius:50%;color:#fff;font-size:1.3rem;text-align:center;text-decoration:none;cursor:pointer}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step .step-title{position:absolute;right:0;bottom:-5px;left:0;margin:auto 0;height:0}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.active .step-bullet{background-color:#306bff}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.completed .step-bullet{background-color:#32e67f}.stepper-header[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]     .step.done .step-bullet{background-color:#32e67f}.stepper-body[_ngcontent-%COMP%]{margin:25px auto;padding:1rem}.stepper-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(.active){height:0;overflow:hidden}.step[_ngcontent-%COMP%]{position:relative;width:33.33%}.step[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:3px;background-color:#b3babe;top:50%;left:-50%;z-index:-1}.step[_ngcontent-%COMP%]:first-child:after{content:none}.step.completed[_ngcontent-%COMP%] + .step[_ngcontent-%COMP%]:after{background-color:#32e67f}'],data:{animation:[(0,f.hZ)("stepTransition",[(0,f.wk)("previous",(0,f.iF)({transform:"translateX(-100%)",opacity:0})),(0,f.wk)("current",(0,f.iF)({transform:"translateX(0)",opacity:1})),(0,f.wk)("next",(0,f.iF)({transform:"translateX(100%)",opacity:0})),(0,f.kY)(":enter",(0,f.i0)(0)),(0,f.kY)("previous => current",(0,f.i0)("500ms cubic-bezier(0.35, 0, 0.25, 1)")),(0,f.kY)("next => current",(0,f.i0)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))])]}}),i})(),ri=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[s.MD,Re]}),i})();function li(i,r){1&i&&(e.j41(0,"button",75),e.EFF(1,"1"),e.k0s())}function pi(i,r){1&i&&(e.j41(0,"button",76),e.EFF(1,"2"),e.k0s())}function di(i,r){1&i&&(e.j41(0,"button",76),e.EFF(1,"3"),e.k0s())}function ci(i,r){1&i&&(e.j41(0,"button",77),e.EFF(1,"4"),e.k0s())}const gi=[{path:"approval-types",component:Oe,resolve:{data:ut},canActivate:[W.g],data:{permission:["approval-types.view"]}},{path:"approval-settings",component:ht,resolve:{data:wn},canActivate:[W.g],data:{permission:["approval-settings.view"]}},{path:"departments",component:vn,resolve:{data:ft},canActivate:[W.g],data:{permission:["departments.view"]}},{path:"users-steps",component:Rn,canActivate:[W.g],data:{permission:["approval-settings.pendingSteps"]}},{path:"approval-requests",component:zn,resolve:{data:On},data:{permission:[]}},{path:"request-new-customer",component:(()=>{class i{constructor(){this.title="approvals.customerRequest.title",this.zoom=15,this.center={lat:0,lng:0},this.markerPosition={lat:0,lng:0},this.mapOptions={mapTypeId:"roadmap",zoomControl:!0,fullscreenControl:!1}}ngOnInit(){}fileChange(t){let n=t.target.files[0];const a=new FileReader;a.onload=()=>{this.imageURL=a.result,document.querySelectorAll("#user-img").forEach(l=>{l.src=this.imageURL})},a.readAsDataURL(n)}getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{this.center={lat:t.coords.latitude,lng:t.coords.longitude},this.markerPosition=this.center},t=>{console.error("Geolocation error:",t),alert("Failed to get location.")}):alert("Geolocation is not supported.")}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-requestNewCustomer"]],decls:152,vars:8,consts:[[1,"row","justify-content-center"],[1,"col-12","col-md-8"],[1,"card"],[1,"card-body","form-steps"],["action","#"],[1,"text-center","pt-3","pb-4","mb-1"],["id","custom-progress-bar",1,"progress-nav"],[1,"progress",2,"height","1px"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","0%"],["cdkStepper","",1,"cdksteppercontent","nav","nav-pills","progress-bar-tab","custom-nav",3,"linear"],[3,"optional"],["cdkStepLabel","",1,"wizard-nav","mb-5"],[1,"mb-4"],["translate","approvals.customerRequest.customerInfo",1,"mb-1"],[1,"row"],[1,"col-12","col-md-6","my-2"],[1,"form-floating"],["type","text","id","customerName","placeholder"," ",1,"form-control"],["for","customerName","translate","approvals.customerRequest.customerName",1,"required"],["type","text","id","commercialRegistrationNumber","placeholder"," ",1,"form-control"],["for","commercialRegistrationNumber","translate","approvals.customerRequest.commercialRegistrationNumber",1,"required"],[1,"col-12","col-md-6","my-3"],["type","text","id","primaryPhoneNumber","placeholder"," ",1,"form-control"],["for","primaryPhoneNumber","translate","approvals.customerRequest.primaryPhoneNumber",1,"required"],["type","text","id","taxNumber","placeholder"," ",1,"form-control"],["for","taxNumber","translate","approvals.customerRequest.taxNumber",1,"required"],["id","clientGroupId","aria-label","Floating label select example",1,"form-select"],["selected",""],["value","4"],["for","clientGroupId","translate","approvals.customerRequest.clientGroup",1,"required"],["id","customerSize","aria-label","Floating label select example",1,"form-select"],["for","customerSize","translate","approvals.customerRequest.customerSize",1,"required"],[1,"d-flex","align-items-start","gap-3","mt-4"],["type","button","data-nexttab","pills-info-desc-tab","cdkStepperNext","",1,"btn","btn-success","btn-label","right","ms-auto","nexttab","nexttab"],[1,"ri-arrow-right-line","label-icon","align-middle","fs-16","ms-2"],["translate","general.action.next"],["cdkStepLabel",""],["translate","approvals.customerRequest.nationalAddressData",1,"mb-1"],["type","text","id","buildingNumber","placeholder"," ",1,"form-control"],["for","buildingNumber","translate","approvals.customerRequest.buildingNumber",1,"required"],["type","text","id","subNumber","placeholder"," ",1,"form-control"],["for","subNumber","translate","approvals.customerRequest.subNumber",1,"required"],["type","text","id","postalCode","placeholder"," ",1,"form-control"],["for","postalCode","translate","approvals.customerRequest.postalCode",1,"required"],["type","text","id","district","placeholder"," ",1,"form-control"],["for","district","translate","approvals.customerRequest.district",1,"required"],["id","cityId","aria-label","Floating label select example",1,"form-select"],["for","cityId","translate","approvals.customerRequest.city",1,"required"],["type","button","data-previous","pills-gen-info-tab","cdkStepperPrevious","",1,"btn","btn-link","text-decoration-none","btn-label","previestab"],[1,"ri-arrow-left-line","label-icon","align-middle","fs-16","me-2"],["translate","general.action.back"],["type","button","data-nexttab","pills-success-tab","cdkStepperNext","",1,"btn","btn-success","btn-label","right","ms-auto","nexttab","nexttab"],["for","commercialRegister","translate","approvals.customerRequest.commercialRegister",1,"required"],[1,"input-group"],["type","button","id","commercialRegister",1,"btn","btn-outline-primary","material-shadow-none"],[1,"ri-image-2-line"],["type","file","id","commercialRegister","aria-describedby","commercialRegister","aria-label","Upload",1,"form-control"],["for","municipalLicense","translate","approvals.customerRequest.municipalLicense",1,"required"],["type","button","id","municipalLicensePath",1,"btn","btn-outline-primary","material-shadow-none"],["type","file","id","municipalLicensePath","aria-describedby","municipalLicensePath","aria-label","Upload",1,"form-control"],["for","nationalAddress","translate","approvals.customerRequest.nationalAddress",1,"required"],["type","button","id","nationalAddressProofPath",1,"btn","btn-outline-primary","material-shadow-none"],["type","file","id","nationalAddressProofPath","aria-describedby","nationalAddressProofPath","aria-label","Upload",1,"form-control"],["for","ownerId","translate","approvals.customerRequest.customerID",1,"required"],["type","button","id","ownerIdPath",1,"btn","btn-outline-primary","material-shadow-none"],["type","file","id","ownerIdPath","aria-describedby","ownerIdPath","aria-label","Upload",1,"form-control"],["for","vatCertificate","translate","approvals.customerRequest.vatCertificate",1,"required"],["type","button","id","vatCertificatePath",1,"btn","btn-outline-primary","material-shadow-none"],["type","file","id","vatCertificatePath","aria-describedby","vatCertificatePath","aria-label","Upload",1,"form-control"],["for","dealAgreement","translate","approvals.customerRequest.dealAgreement",1,"required"],["type","button","id","dealAgreementPath",1,"btn","btn-outline-primary","material-shadow-none"],["type","file","id","dealAgreementPath","aria-describedby","dealAgreementPath","aria-label","Upload",1,"form-control"],[1,"text-center"],["src","https://cdn.lordicon.com/lupuorrc.json","trigger","loop","colors","primary:#0ab39c,secondary:#405189",2,"width","120px","height","120px"],[1,"text-muted"],["data-progressbar","custom-progress-bar","id","pills-gen-info-tab","data-bs-toggle","pill","data-bs-target","#pills-gen-info","type","button","role","tab","aria-controls","pills-gen-info","aria-selected","true",1,"nav-link","rounded-pill","active"],["data-progressbar","custom-progress-bar","id","pills-info-desc-tab","data-bs-toggle","pill","data-bs-target","#pills-info-desc","type","button","role","tab","aria-controls","pills-info-desc","aria-selected","false",1,"nav-link","rounded-pill"],["data-progressbar","custom-progress-bar","id","pills-success-tab","data-bs-toggle","pill","data-bs-target","#pills-success","type","button","role","tab","aria-controls","pills-success","aria-selected","false",1,"nav-link","rounded-pill"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"h5"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",6)(10,"div",7),e.nrm(11,"div",8),e.k0s(),e.j41(12,"ng-stepper",9)(13,"cdk-step",10),e.DNE(14,li,2,0,"ng-template",11),e.j41(15,"div")(16,"div",12)(17,"div"),e.nrm(18,"h5",13),e.k0s()(),e.j41(19,"div",14)(20,"div",15)(21,"div",16),e.nrm(22,"input",17)(23,"label",18),e.k0s()(),e.j41(24,"div",15)(25,"div",16),e.nrm(26,"input",19)(27,"label",20),e.k0s()(),e.j41(28,"div",21)(29,"div",16),e.nrm(30,"input",22)(31,"label",23),e.k0s()(),e.j41(32,"div",21)(33,"div",16),e.nrm(34,"input",24)(35,"label",25),e.k0s()(),e.j41(36,"div",21)(37,"div",16)(38,"select",26)(39,"option",27),e.EFF(40,"Choose..."),e.k0s(),e.j41(41,"option",28),e.EFF(42,"Germany"),e.k0s()(),e.nrm(43,"label",29),e.k0s()(),e.j41(44,"div",21)(45,"div",16)(46,"select",30)(47,"option",27),e.EFF(48,"Choose..."),e.k0s(),e.j41(49,"option",28),e.EFF(50,"Germany"),e.k0s()(),e.nrm(51,"label",31),e.k0s()()(),e.j41(52,"div",32)(53,"button",33),e.nrm(54,"i",34)(55,"span",35),e.k0s()()()(),e.j41(56,"cdk-step",10),e.DNE(57,pi,2,0,"ng-template",36),e.j41(58,"div",12)(59,"div"),e.nrm(60,"h5",37),e.k0s()(),e.j41(61,"div",14)(62,"div",15)(63,"div",16),e.nrm(64,"input",38)(65,"label",39),e.k0s()(),e.j41(66,"div",15)(67,"div",16),e.nrm(68,"input",40)(69,"label",41),e.k0s()(),e.j41(70,"div",21)(71,"div",16),e.nrm(72,"input",42)(73,"label",43),e.k0s()(),e.j41(74,"div",21)(75,"div",16),e.nrm(76,"input",44)(77,"label",45),e.k0s()(),e.j41(78,"div",21)(79,"div",16)(80,"select",46)(81,"option",27),e.EFF(82,"Choose..."),e.k0s(),e.j41(83,"option",28),e.EFF(84,"Germany"),e.k0s()(),e.nrm(85,"label",47),e.k0s()()(),e.j41(86,"div",32)(87,"button",48),e.nrm(88,"i",49)(89,"span",50),e.k0s(),e.j41(90,"button",51),e.nrm(91,"i",34)(92,"span",35),e.k0s()()(),e.j41(93,"cdk-step",10),e.DNE(94,di,2,0,"ng-template",36),e.j41(95,"div",12)(96,"div"),e.nrm(97,"h5",37),e.k0s()(),e.j41(98,"div",14)(99,"div",15),e.nrm(100,"label",52),e.j41(101,"div",53)(102,"button",54),e.nrm(103,"i",55),e.k0s(),e.nrm(104,"input",56),e.k0s()(),e.j41(105,"div",15),e.nrm(106,"label",57),e.j41(107,"div",53)(108,"button",58),e.nrm(109,"i",55),e.k0s(),e.nrm(110,"input",59),e.k0s()(),e.j41(111,"div",21),e.nrm(112,"label",60),e.j41(113,"div",53)(114,"button",61),e.nrm(115,"i",55),e.k0s(),e.nrm(116,"input",62),e.k0s()(),e.j41(117,"div",21),e.nrm(118,"label",63),e.j41(119,"div",53)(120,"button",64),e.nrm(121,"i",55),e.k0s(),e.nrm(122,"input",65),e.k0s()(),e.j41(123,"div",21),e.nrm(124,"label",66),e.j41(125,"div",53)(126,"button",67),e.nrm(127,"i",55),e.k0s(),e.nrm(128,"input",68),e.k0s()(),e.j41(129,"div",21),e.nrm(130,"label",69),e.j41(131,"div",53)(132,"button",70),e.nrm(133,"i",55),e.k0s(),e.nrm(134,"input",71),e.k0s()()(),e.j41(135,"div",32)(136,"button",48),e.nrm(137,"i",49)(138,"span",50),e.k0s(),e.j41(139,"button",51),e.nrm(140,"i",34)(141,"span",35),e.k0s()()(),e.j41(142,"cdk-step",10),e.DNE(143,ci,2,0,"ng-template",36),e.j41(144,"div")(145,"div",72)(146,"div",12),e.nrm(147,"lord-icon",73),e.k0s(),e.j41(148,"h5"),e.EFF(149,"Well Done !"),e.k0s(),e.j41(150,"p",74),e.EFF(151,"You have Successfully Signed Up"),e.k0s()()()()()()()()()()()),2&o&&(e.R7$(7),e.JRh(e.bMT(8,6,n.title)),e.R7$(5),e.Y8G("linear",!0),e.R7$(),e.Y8G("optional",!1),e.R7$(43),e.Y8G("optional",!0),e.R7$(37),e.Y8G("optional",!0),e.R7$(49),e.Y8G("optional",!1))},dependencies:[c.qT,c.xH,c.y7,c.cb,c.cV,b.Mm,Ee,G,Te,Zn,ei,si,b.D9],encapsulation:2})}}return i})(),data:{permission:[]}}];let _i=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(gi),m.iI]})}}return i})();var hi=d(32454);let yi=(()=>{class i{constructor(){(0,ee.eV)(ne().loadAnimation)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[s.MD,c.YN,c.X1,u.zH,u.Pv,u.c9,A.ND,Z.r,_i,ie.G,b.h,S.bG,oe.q4,N.H_,u.c9,x.th,V.MQ,u.n8,h.j,u._f,I.S,T.tP,hi.A,Ut,Re,ri]})}}return i})()},40724:(De,H,d)=>{d.d(H,{b:()=>V});var s=d(54438),c=d(8147),u=d(60177),A=d(69005),Z=d(94575);const ee=[[["","menuBtn",""]],[["","control",""]]],te=["[menuBtn]","[control]"];function ne(h,I){1&h&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&h&&(s.R7$(),s.JRh(s.bMT(2,1,"general.table.all")))}function ie(h,I){if(1&h){const m=s.RV6();s.j41(0,"a",17),s.bIt("click",function(){s.eBV(m),s.XpG(2);const _=s.sdS(11);return s.Njj(_.toggle())}),s.nrm(1,"i",18)(2,"span",19),s.k0s()}if(2&h){const m=s.XpG(2);s.BMQ("aria-expanded",!m.isCollapsed)}}function b(h,I){if(1&h){const m=s.RV6();s.j41(0,"div",21)(1,"button",22),s.nrm(2,"i",23)(3,"span",24),s.k0s(),s.j41(4,"ul",25)(5,"li",26),s.bIt("click",function(){s.eBV(m);const _=s.XpG(3);return s.Njj(_.onExportXlsx())}),s.j41(6,"a",27),s.nrm(7,"span",28),s.k0s()(),s.j41(8,"li",26),s.bIt("click",function(){s.eBV(m);const _=s.XpG(3);return s.Njj(_.onExportPDF())}),s.j41(9,"a",27),s.nrm(10,"span",29),s.k0s()()()()}if(2&h){const m=s.XpG(3);s.FS9("placement","en"===m.lang?"bottom-start":"bottom-end"),s.R7$(),s.Y8G("disabled",m.totalItems<=0)}}function S(h,I){if(1&h&&(s.qex(0),s.DNE(1,b,11,2,"div",20),s.bVm()),2&h){const m=s.XpG(2);s.R7$(),s.Y8G("hasPermission",m.exportPermission)}}function oe(h,I){if(1&h){const m=s.RV6();s.j41(0,"a",31),s.bIt("click",function(){s.eBV(m);const _=s.XpG(3);return s.Njj(_.onAddNew())}),s.nrm(1,"i",32),s.j41(2,"span"),s.EFF(3),s.nI1(4,"translate"),s.k0s()()}if(2&h){const m=s.XpG(3);s.R7$(3),s.JRh(s.bMT(4,1,m.newLocal))}}function N(h,I){if(1&h&&(s.qex(0),s.DNE(1,oe,5,3,"a",30),s.bVm()),2&h){const m=s.XpG(2);s.R7$(),s.Y8G("hasPermission",m.addPermission)}}function x(h,I){if(1&h&&(s.j41(0,"div",15),s.DNE(1,ie,3,1,"a",16)(2,S,2,1,"ng-container",4)(3,N,2,1,"ng-container",4),s.k0s()),2&h){const m=s.XpG();s.R7$(),s.Y8G("ngIf",m.showSearch),s.R7$(),s.Y8G("ngIf",m.showExport),s.R7$(),s.Y8G("ngIf",m.showAdd)}}let V=(()=>{class h{constructor(m){this.translateService=m,this.totalItems=0,this.title="",this.newLocal="general.action.addNew",this.data=[],this.addPermission=[],this.exportPermission=[],this.showSearch=!0,this.showExport=!0,this.showAdd=!0,this.showAllStr=!0,this.addNew=new s.bkB,this.exportXlsx=new s.bkB,this.exportPDF=new s.bkB,this.search=new s.bkB,this.reset=new s.bkB,this.showAction=!0,this.isCollapsed=!0,this.lang=this.translateService.currentLang}ngOnInit(){}onAddNew(){this.addNew.emit(!0)}onSearch(){this.search.emit(!0)}onExportXlsx(){this.exportXlsx.emit(!0)}onExportPDF(){this.exportPDF.emit(!0)}onReset(){this.reset.emit(!0)}static{this.\u0275fac=function(g){return new(g||h)(s.rXU(c.c$))}}static{this.\u0275cmp=s.VBU({type:h,selectors:[["base-filter"]],inputs:{totalItems:"totalItems",title:"title",newLocal:"newLocal",data:"data",addPermission:"addPermission",exportPermission:"exportPermission",showSearch:"showSearch",showExport:"showExport",showAdd:"showAdd",showAllStr:"showAllStr",showAction:"showAction"},outputs:{addNew:"addNew",exportXlsx:"exportXlsx",exportPDF:"exportPDF",search:"search",reset:"reset"},ngContentSelectors:te,decls:21,vars:6,consts:[["collapse","ngbCollapse"],[1,"card-header","border-0"],[1,"row","align-items-center","mb-2","justify-content-between"],[1,"col-12","col-md-3","card-title","mb-0","flex-grow-1"],[4,"ngIf"],["class","col-12 col-md-6 text-right",4,"ngIf"],["id","collapseExample",1,"collaps","show",3,"ngbCollapseChange","ngbCollapse"],[1,"row"],[1,"col-12","col-md-2","text-center","mb-2","d-flex","text-sm-center","text-md-left"],["type","button",1,"btn","w-sm-100","w-md-auto","btn-primary","btn-sm",3,"click"],[1,"ri-file-search-fill","me-1","align-bottom"],["translate","general.action.search"],["type","button",1,"btn","btn-danger","w-sm-100","w-md-auto","mx-1","btn-sm",3,"click"],[1,"ri-equalizer-fill","me-1","align-bottom"],["translate","general.action.clear"],[1,"col-12","col-md-6","text-right"],["class","btn btn-success  mx-1","data-bs-toggle","collapse","href","javascript:void(0);",3,"click",4,"ngIf"],["data-bs-toggle","collapse","href","javascript:void(0);",1,"btn","btn-success","mx-1",3,"click"],[1,"ri-filter-2-line","align-bottom"],["translate","general.action.filter"],["class","dropdown d-inline","ngbDropdown","",3,"placement",4,"hasPermission"],["ngbDropdown","",1,"dropdown","d-inline",3,"placement"],["ngbDropdownToggle","","type","button",1,"btn","btn-info","mx-2","me-4",3,"disabled"],[1,"ri-chat-download-line","me-1","align-bottom"],["translate","general.action.export"],["aria-labelledby","dropdownMenuButton1","ngbDropdownMenu","",1,"dropdown-menu"],[3,"click"],["href","javascript:void(0);",1,"dropdown-item"],["translate","general.action.xlxs"],["translate","general.action.pdf"],["class","btn btn-danger","href","javascript:void(0);",3,"click",4,"hasPermission"],["href","javascript:void(0);",1,"btn","btn-danger",3,"click"],[1,"ri-add-line","align-bottom"]],template:function(g,_){if(1&g){const v=s.RV6();s.NAR(ee),s.j41(0,"div",1)(1,"div",2)(2,"h5",3)(3,"span"),s.SdG(4),s.k0s(),s.j41(5,"span"),s.DNE(6,ne,3,3,"span",4),s.EFF(7),s.nI1(8,"translate"),s.k0s()(),s.DNE(9,x,4,3,"div",5),s.k0s(),s.j41(10,"div",6,0),s.mxI("ngbCollapseChange",function(C){return s.eBV(v),s.DH7(_.isCollapsed,C)||(_.isCollapsed=C),s.Njj(C)}),s.j41(12,"div",7),s.SdG(13,1),s.j41(14,"div",8)(15,"button",9),s.bIt("click",function(){return s.eBV(v),s.Njj(_.onSearch())}),s.nrm(16,"i",10)(17,"span",11),s.k0s(),s.j41(18,"button",12),s.bIt("click",function(){return s.eBV(v),s.Njj(_.onReset())}),s.nrm(19,"i",13)(20,"span",14),s.k0s()()()()()}2&g&&(s.R7$(6),s.Y8G("ngIf",_.showAllStr),s.R7$(),s.SpI(" ",s.bMT(8,4,_.title),""),s.R7$(2),s.Y8G("ngIf",_.showAction),s.R7$(),s.R50("ngbCollapse",_.isCollapsed))},dependencies:[u.bT,A.tg,A.do,A.U0,c.Mm,A.$G,Z.p,c.D9],encapsulation:2})}}return h})()}}]);