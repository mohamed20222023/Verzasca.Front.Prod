"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[212],{56701:(A,y,o)=>{o.d(y,{g:()=>I});var l=o(54438),c=o(62984),u=o(51188),T=o(3888);let I=(()=>{class _{constructor(f,E,g){this.authservice=f,this.router=E,this.alertService=g}canActivate(f){return!!this.authservice.permissionMatch(f.data.permission)||(this.alertService.error("general.notAllow.notAllowPageMessage"),this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(E){return new(E||_)(l.KVO(c.J),l.KVO(u.Ix),l.KVO(T.u))}}static{this.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},56131:(A,y,o)=>{o.d(y,{E:()=>u});var l=o(7673),c=o(99437);class u{constructor(I,_,C){this.router=I,this.BaseService=_,this.alertService=C,this.pagination={pageNumber:1,pageSize:10}}resolve(I,_){return this.BaseService.get(this.pagination).pipe((0,c.W)(C=>(this.router.navigate([""]),this.alertService.error(C),(0,l.of)(null))))}}},70212:(A,y,o)=>{o.r(y),o.d(y,{ApprovalsModule:()=>Be});var l=o(60177),c=o(89417),u=o(69005),T=o(91022),I=o(70255),_=o(63789),C=o(98982),f=o.n(C),E=o(45633),g=o(8147),v=o(7629),F=o(65430),D=o(41631),j=o(1530),B=o(72510),V=o(71144),L=o(38542),R=o(51188),M=o(56977),x=o(37021),$=o(35335),r=o(45236),d=o(70980),b=o(75622),e=o(54438),S=o(3888),N=o(67569),O=o(45312),z=o(21626);let G=(()=>{class a extends N.d{constructor(n){super(n,O.c.apiUrl+"ApprovalType/")}deleteTarget(n){return this.http.delete(this.baseUrl+n)}edit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(z.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var w=o(54384),Y=o(91426),K=o(26364),W=o(40724),H=o(15084),Q=o(88148),q=o(91580),J=o(5779),Z=o(29935);function ae(a,h){1&a&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," approvals.approval-types.nameEn "),e.k0s(),e.j41(6,"th",28),e.nrm(7,"i",27),e.EFF(8," approvals.approval-types.nameAr "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",27),e.EFF(11," approvals.approval-types.isActive "),e.k0s(),e.nrm(12,"th",30),e.k0s())}function ie(a,h){1&a&&e.nrm(0,"span",39)}function se(a,h){1&a&&e.nrm(0,"span",40)}function oe(a,h){if(1&a&&(e.nrm(0,"i",41),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",42),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",43),e.EFF(9),e.nrm(10,"br")(11,"i",43),e.EFF(12)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,4,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,7,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName,""),e.R7$(3),e.SpI(" ",n.lastModificationName," ")}}function re(a,h){if(1&a){const n=e.RV6();e.j41(0,"tr",31)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,ie,1,0,"span",32)(9,se,1,0,"span",33),e.k0s(),e.DNE(10,oe,13,10,"ng-template",null,3,e.C5r),e.j41(12,"td"),e.nrm(13,"i",34),e.j41(14,"button",35),e.nI1(15,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(),p=e.sdS(23);return e.Njj(s.editModal(t.id,p))}),e.nrm(16,"i",36),e.k0s(),e.j41(17,"button",37),e.nI1(18,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(),p=e.sdS(25);return e.Njj(s.openModal(t.id,p))}),e.nrm(19,"i",38),e.k0s()()()}if(2&a){const n=h.$implicit,i=h.rowIndex,t=e.sdS(11);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.nameEn),e.R7$(2),e.JRh(n.nameAr),e.R7$(2),e.Y8G("ngIf",n.isActive),e.R7$(),e.Y8G("ngIf",!n.isActive),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.FS9("pTooltip",e.bMT(15,8,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(18,10,"general.delete"))}}function le(a,h){1&a&&(e.j41(0,"div",44),e.EFF(1," general.table.noData"),e.k0s())}function pe(a,h){if(1&a){const n=e.RV6();e.j41(0,"div",45)(1,"div",46),e.nrm(2,"ngb-pagination-info",47),e.j41(3,"table-length",48),e.bIt("lengthChange",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",49)(5,"ngb-pagination",50),e.bIt("pageChange",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.pagination.pageNumber,t)||(s.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function de(a,h){1&a&&(e.j41(0,"span",73),e.EFF(1,"general.action.register "),e.k0s())}function me(a,h){1&a&&(e.j41(0,"span",73),e.EFF(1,"general.action.edit "),e.k0s())}function ce(a,h){1&a&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ge(a,h){1&a&&(e.j41(0,"div",74),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function he(a,h){if(1&a){const n=e.RV6();e.j41(0,"div",51)(1,"h4",52),e.DNE(2,de,2,0,"span",53)(3,me,2,0,"span",53),e.nrm(4,"span",54),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",56,4),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",17),e.j41(9,"div",57)(10,"div",58)(11,"div",59)(12,"div",8)(13,"div",60)(14,"label",61),e.EFF(15,"approvals.approval-types.nameEn"),e.k0s(),e.j41(16,"div",62)(17,"input",63,5),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.nameEn,t)||(s.form.nameEn=t),e.Njj(t)}),e.k0s(),e.DNE(19,ce,2,0,"div",64),e.k0s()(),e.j41(20,"div",60)(21,"label",65),e.EFF(22,"approvals.approval-types.nameAr"),e.k0s(),e.j41(23,"div",62)(24,"input",66,6),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.nameAr,t)||(s.form.nameAr=t),e.Njj(t)}),e.k0s(),e.DNE(26,ge,2,0,"div",64),e.k0s()(),e.j41(27,"div",67)(28,"label",68),e.EFF(29,"approvals.approval-types.isActive"),e.k0s(),e.j41(30,"p-inputSwitch",69),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.isActive,t)||(s.form.isActive=t),e.Njj(t)}),e.k0s()()(),e.j41(31,"div",70),e.nrm(32,"button",71),e.j41(33,"button",72),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&a){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(25),s=e.XpG();e.R7$(2),e.Y8G("ngIf",!s.isEditForm),e.R7$(),e.Y8G("ngIf",s.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",s.loaderOperationShap)("loaderId",s.operationLoader),e.R7$(9),e.R50("ngModel",s.form.nameEn),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(5),e.R50("ngModel",s.form.nameAr),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.R50("ngModel",s.form.isActive),e.R7$(2),e.Y8G("disabled",!n.valid)}}function ue(a,h){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",75),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let _e=(()=>{class a extends b.w{constructor(n,i,t,s,p,m,P,X,U,k){super(n,i,P,p,t,s,m),this.baseService=p,this.service=X,this.excelService=U,this.router=k,this.title="approvals.approval-types.title",this.submitted=!1,this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,M.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:s=>{this.form=s.data}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.delete(this.selectedRow[0].id).pipe((0,x.O)(),(0,$.c)(this.mainDelay),(0,r.Z)(),(0,M.Q)(this.notifier),(0,d.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(R.nX),e.rXU(g.c$),e.rXU(S.u),e.rXU(l.vh),e.rXU(G),e.rXU(j.eD),e.rXU(u.Bq),e.rXU(w.m),e.rXU(Y.V),e.rXU(R.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-approval-types"]],features:[e.Vt3],decls:26,vars:24,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameEn","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameAr","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.approval-types.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const s=e.RV6();e.nrm(0,"app-breadcrumbs",7),e.nI1(1,"translate"),e.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),e.bIt("reset",function(){return e.eBV(s),e.Njj(t.onReset())})("search",function(){return e.eBV(s),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(s),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(s);const m=e.sdS(23);return e.Njj(t.openModalTitle(m))}),e.qex(6,12),e.j41(7,"div",13)(8,"input",14),e.nI1(9,"translate"),e.mxI("ngModelChange",function(m){return e.eBV(s),e.DH7(t.pagination.nameEn,m)||(t.pagination.nameEn=m),e.Njj(m)}),e.k0s()(),e.j41(10,"div",13)(11,"input",15),e.nI1(12,"translate"),e.mxI("ngModelChange",function(m){return e.eBV(s),e.DH7(t.pagination.nameAr,m)||(t.pagination.nameAr=m),e.Njj(m)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(13,"div",16),e.nrm(14,"ngx-ui-loader",17),e.j41(15,"div",18)(16,"p-table",19,0),e.bIt("onLazyLoad",function(m){return e.eBV(s),e.Njj(t.tableChange(m))})("selectionChange",function(m){return e.eBV(s),e.Njj(t.onSelectionChange(m))}),e.DNE(18,ae,13,0,"ng-template",20)(19,re,20,12,"ng-template",21),e.k0s()(),e.DNE(20,le,2,0,"div",22)(21,pe,6,8,"div",23),e.k0s()()()(),e.DNE(22,he,34,11,"ng-template",null,1,e.C5r)(24,ue,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,18,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"approvals.approval-types.nameEn")),e.R50("ngModel",t.pagination.nameEn),e.R7$(3),e.FS9("placeholder",e.bMT(12,22,"approvals.approval-types.nameAr")),e.R50("ngModel",t.pagination.nameAr),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[l.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,K.m,W.b,H.w,Q.p,q.g,g.Mm,v.XI,J.Ei,v.Tg,D.HW,j.Cv,u.md,Z.m,L.m,l.vh,g.D9],encapsulation:2})}}return a})();var ee=o(56701);let te=(()=>{class a extends N.d{constructor(n){super(n,O.c.apiUrl+"ApprovalRequest/")}GetEmployeeLookup(){return this.http.get(this.baseUrl+"GetEmployeeLookup")}deleteTarget(n){return this.http.delete(this.baseUrl+n)}edit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(z.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function fe(a,h){1&a&&(e.j41(0,"tr",26)(1,"th",27),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",28),e.nrm(4,"i",29),e.EFF(5," approvals.approval-requests.formTitle "),e.k0s(),e.j41(6,"th",30),e.nrm(7,"i",29),e.EFF(8," approvals.approval-requests.description "),e.k0s(),e.j41(9,"th",31),e.nrm(10,"i",29),e.EFF(11," approvals.approval-requests.notes "),e.k0s(),e.j41(12,"th",32),e.nrm(13,"i",29),e.EFF(14," approvals.approval-requests.status "),e.k0s(),e.j41(15,"th",33),e.nrm(16,"i",29),e.EFF(17," approvals.approval-requests.approvalType "),e.k0s(),e.nrm(18,"th",34),e.k0s())}function ve(a,h){if(1&a&&(e.nrm(0,"i",41),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",42),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",43),e.EFF(9),e.nrm(10,"br")(11,"i",43),e.EFF(12)),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,4,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,7,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",n.creatorName,""),e.R7$(3),e.SpI(" ",n.lastModificationName," ")}}function be(a,h){if(1&a){const n=e.RV6();e.j41(0,"tr",35)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"span"),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.DNE(15,ve,13,10,"ng-template",null,3,e.C5r),e.j41(17,"td"),e.nrm(18,"i",36),e.j41(19,"button",37),e.nI1(20,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(),p=e.sdS(26);return e.Njj(s.editModal(t.id,p))}),e.nrm(21,"i",38),e.k0s(),e.j41(22,"button",39),e.nI1(23,"translate"),e.bIt("click",function(){const t=e.eBV(n).$implicit,s=e.XpG(),p=e.sdS(28);return e.Njj(s.openModal(t.id,p))}),e.nrm(24,"i",40),e.k0s()()()}if(2&a){const n=h.$implicit,i=h.rowIndex,t=e.sdS(16),s=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.description),e.R7$(2),e.JRh(n.notes),e.R7$(2),e.ZvI("badge\n                                    ","Accept"==n.statusName?"bg-success":"Reject"==n.statusName?"bg-danger":"NoneReview"==n.statusName?"bg-warning":"bg-info","\n                                      "),e.R7$(),e.SpI(" ",e.bMT(12,12,"approvals.approval-requests."+n.statusName)," "),e.R7$(3),e.JRh("en"==s.lang?n.approvalTypeNameEn:n.approvalTypeNameAr),e.R7$(4),e.Y8G("ngbTooltip",t),e.R7$(),e.FS9("pTooltip",e.bMT(20,14,"general.edit")),e.R7$(3),e.FS9("pTooltip",e.bMT(23,16,"general.delete"))}}function Te(a,h){1&a&&(e.j41(0,"div",44),e.EFF(1," general.table.noData "),e.k0s())}function Ce(a,h){if(1&a){const n=e.RV6();e.j41(0,"div",45)(1,"div",46),e.nrm(2,"ngb-pagination-info",47),e.j41(3,"table-length",48),e.bIt("lengthChange",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.ListItemChange(t))}),e.k0s()(),e.j41(4,"div",49)(5,"ngb-pagination",50),e.bIt("pageChange",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.pageChanged(t))}),e.mxI("pageChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.pagination.pageNumber,t)||(s.pagination.pageNumber=t),e.Njj(t)}),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("pagination",n.pagination),e.R7$(),e.Y8G("lengthTable",n.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),e.R50("page",n.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Ee(a,h){1&a&&(e.j41(0,"span",76),e.EFF(1,"general.action.register "),e.k0s())}function ye(a,h){1&a&&(e.j41(0,"span",76),e.EFF(1,"general.action.edit "),e.k0s())}function Ie(a,h){1&a&&(e.j41(0,"div",77),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function Re(a,h){1&a&&(e.j41(0,"div",77),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function je(a,h){1&a&&(e.j41(0,"div",77),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function Me(a,h){if(1&a){const n=e.RV6();e.j41(0,"div",51)(1,"h4",52),e.DNE(2,Ee,2,0,"span",53)(3,ye,2,0,"span",53),e.nrm(4,"span",54),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()(),e.j41(6,"form",56,4),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSubmit())}),e.nrm(8,"ngx-ui-loader",19),e.j41(9,"div",57)(10,"div",58)(11,"div",59)(12,"div",9)(13,"div",60)(14,"label",61),e.EFF(15,"approvals.approval-requests.formTitle"),e.k0s(),e.j41(16,"div",62)(17,"input",63,5),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.title,t)||(s.form.title=t),e.Njj(t)}),e.k0s()(),e.DNE(19,Ie,2,0,"div",64),e.k0s(),e.j41(20,"div",60)(21,"label",65),e.EFF(22,"approvals.approval-requests.approvalType"),e.k0s(),e.j41(23,"ng-select",66,6),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.approvalTypeId,t)||(s.form.approvalTypeId=t),e.Njj(t)}),e.k0s(),e.DNE(25,Re,2,0,"div",64),e.k0s(),e.j41(26,"div",60)(27,"label",67),e.EFF(28,"approvals.approval-requests.status"),e.k0s(),e.j41(29,"ng-select",68,7),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.status,t)||(s.form.status=t),e.Njj(t)}),e.k0s(),e.DNE(31,je,2,0,"div",64),e.k0s(),e.j41(32,"div",60)(33,"label",69),e.EFF(34,"approvals.approval-requests.description"),e.k0s(),e.j41(35,"div",62)(36,"textarea",70),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.description,t)||(s.form.description=t),e.Njj(t)}),e.EFF(37,"                                "),e.k0s()()(),e.j41(38,"div",60)(39,"label",71),e.EFF(40,"approvals.approval-requests.notes"),e.k0s(),e.j41(41,"div",62)(42,"textarea",72),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.form.notes,t)||(s.form.notes=t),e.Njj(t)}),e.EFF(43,"                                "),e.k0s()()()(),e.j41(44,"div",73),e.nrm(45,"button",74),e.j41(46,"button",75),e.bIt("click",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()()()()()()}if(2&a){const n=e.sdS(7),i=e.sdS(18),t=e.sdS(24),s=e.sdS(30),p=e.XpG();e.R7$(2),e.Y8G("ngIf",!p.isEditForm),e.R7$(),e.Y8G("ngIf",p.isEditForm),e.R7$(5),e.Y8G("hasProgressBar",!1)("fgsType",p.loaderOperationShap)("loaderId",p.operationLoader),e.R7$(9),e.R50("ngModel",p.form.title),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(4),e.FS9("bindLabel","en"==p.lang?"nameEn":"nameAr"),e.Y8G("items",p.types)("multiple",!1),e.R50("ngModel",p.form.approvalTypeId),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.FS9("bindLabel","en"==p.lang?"nameEn":"nameAr"),e.Y8G("items",p.statusEnum)("multiple",!1),e.R50("ngModel",p.form.status),e.R7$(2),e.Y8G("ngIf",s.invalid&&s.touched),e.R7$(5),e.R50("ngModel",p.form.description),e.R7$(6),e.R50("ngModel",p.form.notes),e.R7$(3),e.Y8G("disabled",!n.valid)}}function xe(a,h){if(1&a){const n=e.RV6();e.j41(0,"delete-modal",78),e.bIt("deleteConfirm",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.DeleteConfirm())})("dismiss",function(){const t=e.eBV(n).$implicit;return e.Njj(t.dismiss())}),e.k0s()}}let Se=(()=>{class a extends b.w{constructor(n,i,t,s,p,m,P,X,U,k,Ne){super(n,i,P,p,t,s,m),this.baseService=p,this._approvalTypesService=X,this.service=U,this.excelService=k,this.router=Ne,this.title="approvals.approval-requests.title",this.submitted=!1,this.types=[],this.statusEnum=[{nameEn:"None Review",nameAr:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0631\u0627\u062c\u0639\u0629",id:1},{nameEn:"Reject",nameAr:"\u0645\u0631\u0641\u0648\u0636",id:2},{nameEn:"Accept",nameAr:"\u0645\u0642\u0628\u0648\u0644",id:3}],this.isResolveList=!0,this.configRoute(),this.getTypesDropdown()}getTypesDropdown(){this._approvalTypesService.getDropDown().pipe((0,M.Q)(this.notifier)).subscribe(n=>{this.types=n.data,console.log(n)},()=>{this.alertService.error()})}configRoute(){this.routerActive.data.pipe((0,M.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,t="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:s=>{this.form=s.data}}),this.modalService.open(i,{centered:!0,size:t})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.delete(this.selectedRow[0].id).pipe((0,x.O)(),(0,$.c)(this.mainDelay),(0,r.Z)(),(0,M.Q)(this.notifier),(0,d.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(R.nX),e.rXU(g.c$),e.rXU(S.u),e.rXU(l.vh),e.rXU(te),e.rXU(j.eD),e.rXU(u.Bq),e.rXU(G),e.rXU(w.m),e.rXU(Y.V),e.rXU(R.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-approval-requests"]],features:[e.Vt3],decls:29,vars:28,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["title","ngModel"],["approvalTypeId","ngModel"],["status","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","title","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","description","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","notes","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","title","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","description","translate","",2,"width","10%"],["pSortableColumn","notes","translate","",2,"width","10%"],["pSortableColumn","status","translate","",2,"width","10%"],["pSortableColumn","approvalTypeId","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","approvals.approval-requests.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","title","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["InputTirmFilter","","name","title","type","text","required","","id","title",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","approvalTypeId","translate","",1,"fw-bold","form-label","required"],["name","approvalTypeId","bindValue","id","id","approvalTypeId","required","",3,"ngModelChange","items","multiple","bindLabel","ngModel"],["translate","",1,"fw-bold","form-label","required"],["name","status","bindValue","id","required","",3,"ngModelChange","items","multiple","bindLabel","ngModel"],["for","description","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","description","rows","3","id","description",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","rows","3","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,t){if(1&i){const s=e.RV6();e.nrm(0,"app-breadcrumbs",8),e.nI1(1,"translate"),e.j41(2,"div",9)(3,"div",10)(4,"div",11)(5,"base-filter",12),e.bIt("reset",function(){return e.eBV(s),e.Njj(t.onReset())})("search",function(){return e.eBV(s),e.Njj(t.onSearch())})("exportXlsx",function(){return e.eBV(s),e.Njj(t.onExportXlsx())})("addNew",function(){e.eBV(s);const m=e.sdS(26);return e.Njj(t.openModalTitle(m))}),e.qex(6,13),e.j41(7,"div",14)(8,"input",15),e.nI1(9,"translate"),e.mxI("ngModelChange",function(m){return e.eBV(s),e.DH7(t.pagination.title,m)||(t.pagination.title=m),e.Njj(m)}),e.k0s()(),e.j41(10,"div",14)(11,"input",16),e.nI1(12,"translate"),e.mxI("ngModelChange",function(m){return e.eBV(s),e.DH7(t.pagination.description,m)||(t.pagination.description=m),e.Njj(m)}),e.k0s()(),e.j41(13,"div",14)(14,"input",17),e.nI1(15,"translate"),e.mxI("ngModelChange",function(m){return e.eBV(s),e.DH7(t.pagination.notes,m)||(t.pagination.notes=m),e.Njj(m)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(16,"div",18),e.nrm(17,"ngx-ui-loader",19),e.j41(18,"div",20)(19,"p-table",21,0),e.bIt("onLazyLoad",function(m){return e.eBV(s),e.Njj(t.tableChange(m))})("selectionChange",function(m){return e.eBV(s),e.Njj(t.onSelectionChange(m))}),e.DNE(21,fe,19,0,"ng-template",22)(22,be,25,18,"ng-template",23),e.k0s()(),e.DNE(23,Te,2,0,"div",24)(24,Ce,6,8,"div",25),e.k0s()()()(),e.DNE(25,Me,47,20,"ng-template",null,1,e.C5r)(27,xe,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,20,t.title)),e.Y8G("breadcrumbItems",t.breadCrumbItems),e.R7$(5),e.Y8G("showExport",!1)("totalItems",t.pagination.totalItems)("title",t.title),e.R7$(3),e.FS9("placeholder",e.bMT(9,22,"approvals.approval-requests.formTitle")),e.R50("ngModel",t.pagination.title),e.R7$(3),e.FS9("placeholder",e.bMT(12,24,"approvals.approval-requests.description")),e.R50("ngModel",t.pagination.description),e.R7$(3),e.FS9("placeholder",e.bMT(15,26,"approvals.approval-requests.notes")),e.R50("ngModel",t.pagination.notes),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",t.loaderSearchShap)("loaderId",t.searchLoader),e.R7$(2),e.Y8G("value",t.entities)("rows",t.pagination.pageSize)("lazy",!0)("totalRecords",t.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",t.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",t.pagination.totalItems>0))},dependencies:[l.bT,c.qT,c.me,c.BC,c.cb,c.YS,c.vS,c.cV,u.s5,K.m,W.b,H.w,Q.p,q.g,g.Mm,v.XI,J.Ei,v.Tg,j.Cv,B.vr,u.md,Z.m,L.m,l.vh,g.D9],encapsulation:2})}}return a})();var ne=o(56131);const Le=[{path:"approval-types",component:_e,resolve:{data:(()=>{class a extends ne.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(R.Ix),e.KVO(G),e.KVO(S.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},canActivate:[ee.g],data:{}},{path:"approval-requests",component:Se,resolve:{data:(()=>{class a extends ne.E{constructor(n,i,t){super(n,i,t)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(R.Ix),e.KVO(te),e.KVO(S.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},canActivate:[ee.g],data:{}}];let De=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[R.iI.forChild(Le),R.iI]})}}return a})(),Be=(()=>{class a{constructor(){(0,_.eV)(f().loadAnimation)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[l.MD,c.YN,c.X1,u.zH,u.Pv,u.c9,T.ND,I.r,De,E.G,g.h,v.bG,F.q4,D.H_,u.c9,j.th,B.MQ,u.n8,V.j,u._f,L.S]})}}return a})()},75622:(A,y,o)=>{o.d(y,{w:()=>M});var l=o(21413),c=o(56977),u=o(37021),T=o(35335),I=o(45236),_=o(70980),C=o(99437),f=o(18810),E=o(7629),g=o(36158),v=o(54438),F=o(51188),D=o(8147),j=o(69005),B=o(67569),V=o(3888),L=o(60177),R=o(1530);let M=(()=>{class x{constructor(r,d,b,e,S,N,O){this.routerActive=r,this.translateService=d,this.modalService=b,this.baseService=e,this.alertService=S,this.datePipe=N,this.ngxLoader=O,this.title="",this.mainDelay=50,this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new l.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=g.cX,this.loaderOperationShap=g.$$,this.operationLoader=g.ZW,this.loaderDeleteShap=g.jg,this.mainTable=g.uG,this.searchLoader=g.a7,this.deleteLoader=g.Fq,this.langArabic="ar",this.paymentTypes=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,c.Q)(this.notifier)).subscribe(r=>{this.entities=r.data.result,this.pagination=r.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(g.a7)},r=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,c.Q)(this.notifier)).subscribe(r=>{this.lang=r.lang})}getTranslationText(r){let d="";return this.translateService.get(r).pipe((0,c.Q)(this.notifier)).subscribe(b=>{d=b}),d}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(r){return null!=r?r.substring(0,10)+"...":""}getRenderIndex(r){return this.index++,this.index}successDataTable(r){this.ngxLoader.stopLoader(g.a7),this.pagination.totalItems=r.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(g.a7),this.alertService.error()}openModalTitle(r,d="md"){this.isEditForm=!1,this.form={},this.modalService.open(r,{centered:!0,size:d})}openModal(r,d,b="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:r}],this.modalService.open(d,{centered:!0,size:b})}openModalMoreOperation(r){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(d=>d.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(r){this.ngxLoader.startLoader("allLoader"),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.get(this.pagination).pipe((0,c.Q)(this.notifier)).subscribe(r=>{this.ngxLoader.stopLoader(g.a7),this.entities=r.data,this.pagination.totalItems=r.totalItems,this.LoadSuccess()},r=>{this.ngxLoader.stopLoader(g.a7),this.alertService.error(r)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}LoadSuccess(){}tableChange(r){this.pagination.filterType=r.sortField,this.pagination.sortType=1==r.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let r=this.mapRegisterForm(this.form);this.baseService.register(r).pipe((0,u.O)(),(0,T.c)(this.mainDelay),(0,I.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,C.W)(d=>(0,f.$)(d))).subscribe(d=>{d.success?this.submitFunished():this.alertService.error("general.message."+d.message)},d=>{this.alertService.error("general.message."+d)})}editEntity(){let r=this.mapForm(this.form);this.baseService.edit(r.id,r).pipe((0,u.O)(),(0,T.c)(this.mainDelay),(0,I.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(d=>{d.success?this.submitFunished():this.alertService.error("general.message."+d.message)},d=>{this.alertService.error("general.message."+d)})}mapForm(r){return r}mapRegisterForm(r){return r.id=0,r}submitFunished(){this.alertService.success(),this.loadentities(),this.modalService?.dismissAll(),this.ngxLoader.stop(g.a7),this.btnDisabled=!0}EditModel(r,d,b="md"){this.isEditForm=!0,this.baseService.getById(r).pipe((0,c.Q)(this.notifier)).subscribe(e=>{e.success?this.form=e.data:this.alertService.error("general.message."+e.message),this.modalService.open(d,{centered:!0,size:b})},e=>{this.alertService.error()})}EditModelTilte(r){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,c.Q)(this.notifier)).subscribe(b=>{b?this.form=b:this.alertService.error("general.message."+b)},b=>{this.alertService.error()})}onSelectionChange(r){this.selectedRow=r,this.lengthSelect=r.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(r){this.pagination.pageNumber=r,this.loadentities()}ListItemChange(r){this.pagination.pageSize=r.target.value,this.loadentities()}searchChange(r){this.pagination.filterValue=r,this.loadentities()}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(g.Fq);let r=this.selectedRow.map(d=>d.id);this.baseService.deleteRange(r).pipe((0,u.O)(),(0,T.c)(this.mainDelay),(0,I.Z)(),(0,c.Q)(this.notifier),(0,_.j)(()=>this.ngxLoader.stopLoader(g.Fq))).subscribe(d=>{d.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+d)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(r=>r.id)}isEmpty(r){return(void 0===r||null==r||r.length)<=0}OnReset(r){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(r){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(d){return new(d||x)(v.rXU(F.nX),v.rXU(D.c$),v.rXU(j.Bq),v.rXU(B.d),v.rXU(V.u),v.rXU(L.vh),v.rXU(R.eD))}}static{this.\u0275cmp=v.VBU({type:x,selectors:[["app-base"]],viewQuery:function(d,b){if(1&d&&v.GBs(E.XI,5),2&d){let e;v.mGM(e=v.lsd())&&(b.tableMaster=e.first)}},decls:0,vars:0,template:function(d,b){},encapsulation:2})}}return x})()},88148:(A,y,o)=>{o.d(y,{p:()=>u});var l=o(54438),c=o(8147);let u=(()=>{class T{static{this.\u0275fac=function(C){return new(C||T)}}static{this.\u0275cmp=l.VBU({type:T,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(C,f){1&C&&(l.j41(0,"span",0),l.EFF(1),l.k0s(),l.nrm(2,"span",1),l.j41(3,"span",0),l.EFF(4),l.k0s(),l.nrm(5,"span",2)),2&C&&(l.R7$(),l.JRh(f.pagination.totalItems>f.pagination.pageNumber*f.pagination.pageSize?f.pagination.pageNumber*f.pagination.pageSize:f.pagination.totalItems),l.R7$(3),l.JRh(f.pagination.totalItems))},dependencies:[c.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return T})()},91580:(A,y,o)=>{o.d(y,{g:()=>I});var l=o(54438),c=o(60177),u=o(89417);function T(_,C){if(1&_&&(l.j41(0,"option"),l.EFF(1),l.k0s()),2&_){const f=C.$implicit;l.R7$(),l.JRh(f)}}let I=(()=>{class _{constructor(){this.lengthChange=new l.bkB}ListItemChange(f){this.lengthChange.emit(f)}static{this.\u0275fac=function(E){return new(E||_)}}static{this.\u0275cmp=l.VBU({type:_,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(E,g){1&E&&(l.j41(0,"div",0),l.nrm(1,"span",1),l.j41(2,"select",2),l.bIt("change",function(F){return g.ListItemChange(F)}),l.DNE(3,T,2,1,"option",3),l.k0s()()),2&E&&(l.R7$(3),l.Y8G("ngForOf",g.lengthTable))},dependencies:[c.Sq,u.xH,u.y7],encapsulation:2})}}return _})()}}]);