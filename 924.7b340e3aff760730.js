"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[924],{56701:(X,M,o)=>{o.d(M,{g:()=>y});var c=o(54438),p=o(62984),u=o(51188),j=o(3888);let y=(()=>{class f{constructor(S,E,h){this.authservice=S,this.router=E,this.alertService=h}canActivate(S){return!!this.authservice.permissionMatch(S.data.permission)||(this.alertService.error("general.notAllow.notAllowPageMessage"),this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(E){return new(E||f)(c.KVO(p.J),c.KVO(u.Ix),c.KVO(j.u))}}static{this.\u0275prov=c.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},56131:(X,M,o)=>{o.d(M,{E:()=>u});var c=o(7673),p=o(99437);class u{constructor(y,f,k){this.router=y,this.BaseService=f,this.alertService=k,this.pagination={pageNumber:1,pageSize:10}}resolve(y,f){return this.BaseService.get(this.pagination).pipe((0,p.W)(k=>(this.router.navigate([""]),this.alertService.error(k),(0,c.of)(null))))}}},63924:(X,M,o)=>{o.r(M),o.d(M,{StoresModule:()=>fe});var c=o(60177),p=o(89417),u=o(69005),j=o(91022),y=o(70255),f=o(63789),k=o(98982),S=o.n(k),E=o(45633),h=o(8147),b=o(7629),G=o(65430),Q=o(41631),T=o(1530),$=o(72510),et=o(71144),B=o(38542),I=o(51188),C=o(56977),x=o(37021),V=o(35335),l=o(45236),g=o(70980),v=o(75622),t=o(54438),R=o(3888),w=o(67569),A=o(45312),nt=o(21626);let it=(()=>{class a extends w.d{constructor(n){super(n,A.c.apiUrl+"Store/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(nt.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var U=o(54384),H=o(91426),O=o(26364),K=o(40724),at=o(15084),W=o(88148),J=o(91580),P=o(5779),Z=o(29935);function mt(a,m){1&a&&(t.j41(0,"tr",24)(1,"th",25),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",26),t.nrm(4,"i",27),t.EFF(5," stores.store.nameEn "),t.k0s(),t.j41(6,"th",28),t.nrm(7,"i",27),t.EFF(8," stores.store.nameAr "),t.k0s(),t.j41(9,"th",29),t.nrm(10,"i",27),t.EFF(11," stores.store.isActive "),t.k0s(),t.j41(12,"th",30),t.nrm(13,"i",27),t.EFF(14," stores.store.isMain "),t.k0s(),t.nrm(15,"th",31),t.k0s())}function ct(a,m){1&a&&t.nrm(0,"span",41)}function pt(a,m){1&a&&t.nrm(0,"span",42)}function gt(a,m){1&a&&t.nrm(0,"span",41)}function ht(a,m){1&a&&t.nrm(0,"span",42)}function ut(a,m){if(1&a&&(t.nrm(0,"i",43),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"br")(4,"i",44),t.EFF(5),t.nI1(6,"date"),t.nrm(7,"br")(8,"i",45),t.EFF(9),t.nrm(10,"br")(11,"i",45),t.EFF(12)),2&a){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,4,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",t.i5U(6,7,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",n.creatorName,""),t.R7$(3),t.SpI(" ",n.lastModificationName," ")}}function _t(a,m){if(1&a){const n=t.RV6();t.j41(0,"tr",32)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.DNE(8,ct,1,0,"span",33)(9,pt,1,0,"span",34),t.k0s(),t.j41(10,"td"),t.DNE(11,gt,1,0,"span",33)(12,ht,1,0,"span",34),t.k0s(),t.DNE(13,ut,13,10,"ng-template",null,3,t.C5r),t.j41(15,"td")(16,"span",35),t.nrm(17,"i",36),t.k0s(),t.j41(18,"button",37),t.nI1(19,"translate"),t.bIt("click",function(){const e=t.eBV(n).$implicit,s=t.XpG(),d=t.sdS(23);return t.Njj(s.editModal(e.id,d))}),t.nrm(20,"i",38),t.k0s(),t.j41(21,"button",39),t.nI1(22,"translate"),t.bIt("click",function(){const e=t.eBV(n).$implicit,s=t.XpG(),d=t.sdS(25);return t.Njj(s.openModal(e.id,d))}),t.nrm(23,"i",40),t.k0s()()()}if(2&a){const n=m.$implicit,i=m.rowIndex,e=t.sdS(14);t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(n.nameEn),t.R7$(2),t.JRh(n.nameAr),t.R7$(2),t.Y8G("ngIf",n.isActive),t.R7$(),t.Y8G("ngIf",!n.isActive),t.R7$(2),t.Y8G("ngIf",n.isMain),t.R7$(),t.Y8G("ngIf",!n.isMain),t.R7$(4),t.Y8G("ngbTooltip",e),t.R7$(2),t.FS9("pTooltip",t.bMT(19,10,"general.edit")),t.R7$(3),t.FS9("pTooltip",t.bMT(22,12,"general.delete"))}}function ft(a,m){1&a&&(t.j41(0,"div",46),t.EFF(1," general.table.noData"),t.k0s())}function bt(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",47)(1,"div",48),t.nrm(2,"ngb-pagination-info",49),t.j41(3,"table-length",50),t.bIt("lengthChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.ListItemChange(e))}),t.k0s()(),t.j41(4,"div",51)(5,"ngb-pagination",52),t.bIt("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.pageChanged(e))}),t.mxI("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.pagination.pageNumber,e)||(s.pagination.pageNumber=e),t.Njj(e)}),t.k0s()()()}if(2&a){const n=t.XpG();t.R7$(2),t.Y8G("pagination",n.pagination),t.R7$(),t.Y8G("lengthTable",n.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),t.R50("page",n.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function St(a,m){1&a&&(t.j41(0,"span",76),t.EFF(1,"general.action.register "),t.k0s())}function vt(a,m){1&a&&(t.j41(0,"span",76),t.EFF(1,"general.action.edit "),t.k0s())}function It(a,m){1&a&&(t.j41(0,"div",77),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function jt(a,m){1&a&&(t.j41(0,"div",77),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function Ct(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",53)(1,"h4",54),t.DNE(2,St,2,0,"span",55)(3,vt,2,0,"span",55),t.nrm(4,"span",56),t.k0s(),t.j41(5,"button",57),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()(),t.j41(6,"form",58,4),t.bIt("ngSubmit",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.onSubmit())}),t.nrm(8,"ngx-ui-loader",17),t.j41(9,"div",59)(10,"div",60)(11,"div",61)(12,"div",8)(13,"div",62)(14,"label",63),t.EFF(15,"stores.store.nameEn"),t.k0s(),t.j41(16,"input",64,5),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.nameEn,e)||(s.form.nameEn=e),t.Njj(e)}),t.k0s(),t.DNE(18,It,2,0,"div",65),t.k0s(),t.j41(19,"div",62)(20,"label",66),t.EFF(21,"stores.store.nameAr"),t.k0s(),t.j41(22,"input",67,6),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.nameAr,e)||(s.form.nameAr=e),t.Njj(e)}),t.k0s(),t.DNE(24,jt,2,0,"div",65),t.k0s(),t.j41(25,"div",68)(26,"label",69),t.EFF(27,"stores.store.isActive"),t.k0s(),t.j41(28,"p-inputSwitch",70),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.isActive,e)||(s.form.isActive=e),t.Njj(e)}),t.k0s()(),t.j41(29,"div",68)(30,"label",71),t.EFF(31,"stores.store.isMain"),t.k0s(),t.j41(32,"p-inputSwitch",72),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.isMain,e)||(s.form.isMain=e),t.Njj(e)}),t.k0s()()(),t.j41(33,"div",73),t.nrm(34,"button",74),t.j41(35,"button",75),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()()()()()()}if(2&a){const n=t.sdS(7),i=t.sdS(17),e=t.sdS(23),s=t.XpG();t.R7$(2),t.Y8G("ngIf",!s.isEditForm),t.R7$(),t.Y8G("ngIf",s.isEditForm),t.R7$(5),t.Y8G("hasProgressBar",!1)("fgsType",s.loaderOperationShap)("loaderId",s.operationLoader),t.R7$(8),t.R50("ngModel",s.form.nameEn),t.R7$(2),t.Y8G("ngIf",i.invalid&&i.touched),t.R7$(4),t.R50("ngModel",s.form.nameAr),t.R7$(2),t.Y8G("ngIf",e.invalid&&e.touched),t.R7$(4),t.R50("ngModel",s.form.isActive),t.R7$(4),t.R50("ngModel",s.form.isMain),t.R7$(2),t.Y8G("disabled",!n.valid)}}function kt(a,m){if(1&a){const n=t.RV6();t.j41(0,"delete-modal",78),t.bIt("deleteConfirm",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.DeleteConfirm())})("dismiss",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()}}let Et=(()=>{class a extends v.w{constructor(n,i,e,s,d,r,_,D,L,N){super(n,i,_,d,e,s,r),this.baseService=d,this.service=D,this.excelService=L,this.router=N,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.isResolveList=!0,this.configRoute()}configRoute(){this.routerActive.data.pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}editEntity(){let n=this.mapForm(this.form);this.baseService.ToEdit(n.id,n).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,e="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:s=>{this.form=s.data}}),this.modalService.open(i,{centered:!0,size:e})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(I.nX),t.rXU(h.c$),t.rXU(R.u),t.rXU(c.vh),t.rXU(it),t.rXU(T.eD),t.rXU(u.Bq),t.rXU(U.m),t.rXU(H.V),t.rXU(I.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-store"]],features:[t.Vt3],decls:26,vars:24,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameEn","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameAr","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","10%"],["pSortableColumn","isMain","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"px-3","py-2",3,"ngbTooltip"],[1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.store.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mb-3"],["for","isActive","translate","",1,"fw-bold","form-label","d-block"],["id","isActive","name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["for","isMain","translate","",1,"fw-bold","form-label","d-block"],["id","isMain","name","isMain","inputId","isMain",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-success",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,e){if(1&i){const s=t.RV6();t.nrm(0,"app-breadcrumbs",7),t.nI1(1,"translate"),t.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),t.bIt("reset",function(){return t.eBV(s),t.Njj(e.onReset())})("search",function(){return t.eBV(s),t.Njj(e.onSearch())})("exportXlsx",function(){return t.eBV(s),t.Njj(e.onExportXlsx())})("addNew",function(){t.eBV(s);const r=t.sdS(23);return t.Njj(e.openModalTitle(r))}),t.qex(6,12),t.j41(7,"div",13)(8,"input",14),t.nI1(9,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.nameEn,r)||(e.pagination.nameEn=r),t.Njj(r)}),t.k0s()(),t.j41(10,"div",13)(11,"input",15),t.nI1(12,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.nameAr,r)||(e.pagination.nameAr=r),t.Njj(r)}),t.k0s()(),t.bVm(),t.k0s(),t.j41(13,"div",16),t.nrm(14,"ngx-ui-loader",17),t.j41(15,"div",18)(16,"p-table",19,0),t.bIt("onLazyLoad",function(r){return t.eBV(s),t.Njj(e.tableChange(r))})("selectionChange",function(r){return t.eBV(s),t.Njj(e.onSelectionChange(r))}),t.DNE(18,mt,16,0,"ng-template",20)(19,_t,24,14,"ng-template",21),t.k0s()(),t.DNE(20,ft,2,0,"div",22)(21,bt,6,8,"div",23),t.k0s()()()(),t.DNE(22,Ct,36,12,"ng-template",null,1,t.C5r)(24,kt,1,0,"ng-template",null,2,t.C5r)}2&i&&(t.FS9("title",t.bMT(1,18,e.title)),t.Y8G("breadcrumbItems",e.breadCrumbItems),t.R7$(5),t.Y8G("showExport",!1)("totalItems",e.pagination.totalItems)("title",e.title),t.R7$(3),t.FS9("placeholder",t.bMT(9,20,"stores.store.nameEn")),t.R50("ngModel",e.pagination.nameEn),t.R7$(3),t.FS9("placeholder",t.bMT(12,22,"stores.store.nameAr")),t.R50("ngModel",e.pagination.nameAr),t.R7$(3),t.Y8G("hasProgressBar",!1)("fgsType",e.loaderSearchShap)("loaderId",e.searchLoader),t.R7$(2),t.Y8G("value",e.entities)("rows",e.pagination.pageSize)("lazy",!0)("totalRecords",e.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",e.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",e.pagination.totalItems>0))},dependencies:[c.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,u.s5,O.m,K.b,at.w,W.p,J.g,h.Mm,b.XI,P.Ei,b.Tg,Q.HW,T.Cv,u.md,Z.m,B.m,c.vh,h.D9],encapsulation:2})}}return a})();var st=o(56131);let Tt=(()=>{class a extends st.E{constructor(n,i,e){super(n,i,e)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(I.Ix),t.KVO(it),t.KVO(R.u))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Y=o(56701),rt=o(99437),lt=o(18810);let ot=(()=>{class a extends w.d{constructor(n){super(n,A.c.apiUrl+"StoreItem/")}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(nt.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var xt=o(99902);function Mt(a,m){1&a&&(t.j41(0,"tr",30)(1,"th",31),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",32),t.EFF(4," stores.items.image "),t.k0s(),t.j41(5,"th",33),t.nrm(6,"i",34),t.EFF(7," stores.items.nameEn "),t.k0s(),t.j41(8,"th",35),t.nrm(9,"i",34),t.EFF(10," stores.items.nameAr "),t.k0s(),t.j41(11,"th",36),t.nrm(12,"i",34),t.EFF(13," stores.items.quantity "),t.k0s(),t.j41(14,"th",37),t.nrm(15,"i",34),t.EFF(16," stores.items.minimumQuantity "),t.k0s(),t.nrm(17,"th",38),t.k0s())}function yt(a,m){if(1&a&&(t.nrm(0,"i",46),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"br")(4,"i",47),t.EFF(5),t.nI1(6,"date"),t.nrm(7,"br")(8,"i",48),t.EFF(9),t.nrm(10,"br")(11,"i",48),t.EFF(12)),2&a){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,4,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",t.i5U(6,7,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",n.creatorName,""),t.R7$(3),t.SpI(" ",n.lastModificationName," ")}}function Ft(a,m){if(1&a){const n=t.RV6();t.j41(0,"tr",39)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"img",40),t.bIt("error",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.setDefaultImage(e,"assets/images/custom/no-img.jpg"))}),t.k0s()(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.DNE(13,yt,13,10,"ng-template",null,3,t.C5r),t.j41(15,"td"),t.nrm(16,"i",41),t.j41(17,"button",42),t.nI1(18,"translate"),t.bIt("click",function(){const e=t.eBV(n).$implicit,s=t.XpG(),d=t.sdS(26);return t.Njj(s.editModal(e.id,d,"lg"))}),t.nrm(19,"i",43),t.k0s(),t.j41(20,"button",44),t.nI1(21,"translate"),t.bIt("click",function(){const e=t.eBV(n).$implicit,s=t.XpG(),d=t.sdS(28);return t.Njj(s.openModal(e.id,d))}),t.nrm(22,"i",45),t.k0s()()()}if(2&a){const n=m.$implicit,i=m.rowIndex,e=t.sdS(14),s=t.XpG();t.R7$(2),t.JRh(i+1),t.R7$(2),t.Y8G("src",s.serverPath+n.imagePath,t.B4B),t.R7$(2),t.JRh(n.nameEn),t.R7$(2),t.JRh(n.nameAr),t.R7$(2),t.JRh(n.quantity),t.R7$(2),t.JRh(n.minimumQuantity),t.R7$(4),t.Y8G("ngbTooltip",e),t.R7$(),t.FS9("pTooltip",t.bMT(18,9,"general.edit")),t.R7$(3),t.FS9("pTooltip",t.bMT(21,11,"general.delete"))}}function Rt(a,m){1&a&&(t.j41(0,"div",49),t.EFF(1," general.table.noData"),t.k0s())}function Dt(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",50)(1,"div",51),t.nrm(2,"ngb-pagination-info",52),t.j41(3,"table-length",53),t.bIt("lengthChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.ListItemChange(e))}),t.k0s()(),t.j41(4,"div",54)(5,"ngb-pagination",55),t.bIt("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.pageChanged(e))}),t.mxI("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.pagination.pageNumber,e)||(s.pagination.pageNumber=e),t.Njj(e)}),t.k0s()()()}if(2&a){const n=t.XpG();t.R7$(2),t.Y8G("pagination",n.pagination),t.R7$(),t.Y8G("lengthTable",n.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),t.R50("page",n.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Lt(a,m){1&a&&(t.j41(0,"span",92),t.EFF(1,"general.action.register "),t.k0s())}function Nt(a,m){1&a&&(t.j41(0,"span",92),t.EFF(1,"general.action.edit "),t.k0s())}function Vt(a,m){1&a&&(t.j41(0,"div",93),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function Bt(a,m){1&a&&(t.j41(0,"div",93),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function At(a,m){1&a&&(t.j41(0,"div",93),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function Xt(a,m){1&a&&(t.j41(0,"div",93),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function Gt(a,m){1&a&&(t.j41(0,"div",93),t.EFF(1," general.message.filedIdRequired"),t.k0s())}function $t(a,m){1&a&&(t.j41(0,"div",94),t.nrm(1,"i",95),t.k0s())}function wt(a,m){if(1&a){const n=t.RV6();t.j41(0,"i",96),t.bIt("click",function(){t.eBV(n);const e=t.XpG(2);return t.Njj(e.removeImage())}),t.k0s()}}function Ut(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",56)(1,"h4",57),t.DNE(2,Lt,2,0,"span",58)(3,Nt,2,0,"span",58),t.nrm(4,"span",59),t.k0s(),t.j41(5,"button",60),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()(),t.j41(6,"form",61,4),t.bIt("ngSubmit",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.onSubmit())}),t.nrm(8,"ngx-ui-loader",23),t.j41(9,"div",62)(10,"div",63)(11,"div",64)(12,"div",12)(13,"div",65)(14,"label",66),t.EFF(15,"stores.items.nameEn"),t.k0s(),t.j41(16,"input",67,5),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.nameEn,e)||(s.form.nameEn=e),t.Njj(e)}),t.k0s(),t.DNE(18,Vt,2,0,"div",68),t.k0s(),t.j41(19,"div",65)(20,"label",69),t.EFF(21,"stores.items.nameAr"),t.k0s(),t.j41(22,"input",70,6),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.nameAr,e)||(s.form.nameAr=e),t.Njj(e)}),t.k0s(),t.DNE(24,Bt,2,0,"div",68),t.k0s(),t.j41(25,"div",65)(26,"label",71),t.EFF(27,"stores.items.quantity"),t.k0s(),t.j41(28,"input",72,7),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.quantity,e)||(s.form.quantity=e),t.Njj(e)}),t.k0s(),t.DNE(30,At,2,0,"div",68),t.k0s(),t.j41(31,"div",65)(32,"label",73),t.EFF(33,"stores.items.minimumQuantity"),t.k0s(),t.j41(34,"input",74,8),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.minimumQuantity,e)||(s.form.minimumQuantity=e),t.Njj(e)}),t.k0s(),t.DNE(36,Xt,2,0,"div",68),t.k0s(),t.j41(37,"div",75)(38,"label",66),t.EFF(39,"stores.store.title"),t.k0s(),t.j41(40,"div")(41,"ng-select",76,9),t.nI1(43,"translate"),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.storeId,e)||(s.form.storeId=e),t.Njj(e)}),t.k0s(),t.DNE(44,Gt,2,0,"div",68),t.k0s()(),t.j41(45,"div",77)(46,"div",78)(47,"div",79)(48,"label",80),t.bIt("click",function(){t.eBV(n);const e=t.sdS(52);return t.Njj(e.click())}),t.j41(49,"div",81),t.DNE(50,$t,2,0,"div",82),t.k0s()(),t.j41(51,"input",83,10),t.bIt("change",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.onFileChanged(e))}),t.k0s()(),t.j41(53,"div",84)(54,"div",85),t.DNE(55,wt,1,0,"i",86),t.j41(56,"div",87),t.nrm(57,"img",88),t.k0s()()()()()(),t.j41(58,"div",89),t.nrm(59,"button",90),t.j41(60,"button",91),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()()()()()()}if(2&a){const n=t.sdS(7),i=t.sdS(17),e=t.sdS(23),s=t.sdS(29),d=t.sdS(35),r=t.sdS(42),_=t.XpG();t.R7$(2),t.Y8G("ngIf",!_.isEditForm),t.R7$(),t.Y8G("ngIf",_.isEditForm),t.R7$(5),t.Y8G("hasProgressBar",!1)("fgsType",_.loaderOperationShap)("loaderId",_.operationLoader),t.R7$(8),t.R50("ngModel",_.form.nameEn),t.R7$(2),t.Y8G("ngIf",i.invalid&&i.touched),t.R7$(4),t.R50("ngModel",_.form.nameAr),t.R7$(2),t.Y8G("ngIf",e.invalid&&e.touched),t.R7$(4),t.R50("ngModel",_.form.quantity),t.R7$(2),t.Y8G("ngIf",s.invalid&&s.touched),t.R7$(4),t.R50("ngModel",_.form.minimumQuantity),t.R7$(2),t.Y8G("ngIf",d.invalid&&d.touched),t.R7$(5),t.FS9("bindLabel","en"==_.lang?"nameEn":"nameAR"),t.FS9("placeholder",t.bMT(43,23,"stores.store.title")),t.Y8G("items",_.stores)("multiple",!1),t.R50("ngModel",_.form.storeId),t.R7$(3),t.Y8G("ngIf",r.invalid&&r.touched),t.R7$(6),t.Y8G("ngIf",!_.file.path),t.R7$(5),t.Y8G("ngIf",_.file.path),t.R7$(2),t.Y8G("src",_.file.isApi?_.serverPath+_.file.path:_.file.path,t.B4B),t.R7$(2),t.Y8G("disabled",!n.valid)}}function Ot(a,m){if(1&a){const n=t.RV6();t.j41(0,"delete-modal",97),t.bIt("deleteConfirm",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.DeleteConfirm())})("dismiss",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()}}let Pt=(()=>{class a extends v.w{constructor(n,i,e,s,d,r,_,D,L,N,F,tt){super(n,i,_,d,e,s,r),this.baseService=d,this.service=D,this.storesService=L,this.excelService=N,this._formDataService=F,this.router=tt,this.title="stores.store.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.stores=[{id:1,name:"Store"}],this.isResolveList=!0,this.file={isApi:!1,path:""},this.form={file:""},this.serverPath=A.c.mediaUrl,this.configRoute(),this.getStores()}configRoute(){this.routerActive.data.pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}getStores(){this.storesService.getDropDown().pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.stores=n.data},()=>{this.alertService.error()})}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}registerEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.register(n).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,rt.W)(i=>(0,lt.$)(i))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}editEntity(){let n=this._formDataService.formatFormData(this.form);this.baseService.ToEdit(this.form.id,n).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,e="md"){this.isEditForm=!0,this.baseService.getById(n).subscribe({next:s=>{this.form=s.data,this.file={isApi:!0,path:s.data.imagePath}}}),this.modalService.open(i,{centered:!0,size:e})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onFileChanged(n){if(n.target.files&&n.target.files[0]){let i=n.target.files.length;for(let e=0;e<i;e++){let s=new FileReader;this.form.file=n.target.files.item(e),s.onload=d=>{this.file={isApi:!1,path:d.target.result}},s.readAsDataURL(n.target.files[e])}}}removeImage(){console.log(),this.form.file="",this.file={id:0,path:""}}setDefaultImage(n,i){n.target.src=i}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(I.nX),t.rXU(h.c$),t.rXU(R.u),t.rXU(c.vh),t.rXU(ot),t.rXU(T.eD),t.rXU(u.Bq),t.rXU(U.m),t.rXU(it),t.rXU(H.V),t.rXU(xt.Q),t.rXU(I.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-store-items"]],features:[t.Vt3],decls:29,vars:31,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameEn","ngModel"],["nameAr","ngModel"],["quantity","ngModel"],["minimumQuantity","ngModel"],["storeId","ngModel"],["FileInput",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-3","mb-2"],["InputTirmFilter","","name","nameEn","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],["InputTirmFilter","","name","nameAr","type","text",1,"form-control","fs-6",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","col-md-4","mb-2"],["name","storeName","bindValue","id",3,"ngModelChange","items","multiple","bindLabel","placeholder","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["translate","",2,"width","10%"],["pSortableColumn","nameEn","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameAr","translate","",2,"width","10%"],["pSortableColumn","quantity","translate","",2,"width","10%"],["pSortableColumn","minimumQuantity","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["width","50","height","50","alt","Image",2,"border-radius","15px",3,"error","src"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom","mx-1"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click","pTooltip"],[1,"ri-delete-bin-5-fill","align-bottom"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.items.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-6","mb-3"],["for","nameEn","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameEn","type","text","required","","id","nameEn",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameAr","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","nameAr","type","text","required","","id","nameAr",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","quantity","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","quantity","type","text","required","","id","quantity",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","minimumQuantity","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","minimumQuantity","type","text","required","","id","minimumQuantity",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","mb-3"],["name","storeId","bindValue","id","id","storeId","required","",3,"ngModelChange","items","multiple","bindLabel","placeholder","ngModel"],[1,"col-12","col-md-12","mb-3","d-flex","justify-content-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["placement","right","ngbTooltip","Select Image",1,"mb-0",3,"click"],[1,"avatar-xs"],["class","avatar-title bg-light border rounded-circle text-muted cursor-pointer",4,"ngIf"],["value","","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"d-flex","justify-content-center","w-100"],[1,"avatar-xl-custom","mx-2","position-relative"],["class","position-absolute bx bx-x-circle text-white","style","background: red; top: -3px; right: -4px; font-size: 1rem;\n                                                border-radius: 50% ",3,"click",4,"ngIf"],[1,"avatar-title","bg-light","rounded"],["id","product-img1","alt","",1,"avatar-xl-custom","h-auto",3,"src"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-image-fill"],[1,"position-absolute","bx","bx-x-circle","text-white",2,"background","red","top","-3px","right","-4px","font-size","1rem","border-radius","50%",3,"click"],[3,"deleteConfirm","dismiss"]],template:function(i,e){if(1&i){const s=t.RV6();t.nrm(0,"app-breadcrumbs",11),t.nI1(1,"translate"),t.j41(2,"div",12)(3,"div",13)(4,"div",14)(5,"base-filter",15),t.bIt("reset",function(){return t.eBV(s),t.Njj(e.onReset())})("search",function(){return t.eBV(s),t.Njj(e.onSearch())})("exportXlsx",function(){return t.eBV(s),t.Njj(e.onExportXlsx())})("addNew",function(){t.eBV(s);const r=t.sdS(26);return t.Njj(e.openModalTitle(r,"lg"))}),t.qex(6,16),t.j41(7,"div",17)(8,"input",18),t.nI1(9,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.nameEn,r)||(e.pagination.nameEn=r),t.Njj(r)}),t.k0s()(),t.j41(10,"div",17)(11,"input",19),t.nI1(12,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.nameAr,r)||(e.pagination.nameAr=r),t.Njj(r)}),t.k0s()(),t.j41(13,"div",20)(14,"ng-select",21),t.nI1(15,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.storeId,r)||(e.pagination.storeId=r),t.Njj(r)}),t.k0s()(),t.bVm(),t.k0s(),t.j41(16,"div",22),t.nrm(17,"ngx-ui-loader",23),t.j41(18,"div",24)(19,"p-table",25,0),t.bIt("onLazyLoad",function(r){return t.eBV(s),t.Njj(e.tableChange(r))})("selectionChange",function(r){return t.eBV(s),t.Njj(e.onSelectionChange(r))}),t.DNE(21,Mt,18,0,"ng-template",26)(22,Ft,23,13,"ng-template",27),t.k0s()(),t.DNE(23,Rt,2,0,"div",28)(24,Dt,6,8,"div",29),t.k0s()()()(),t.DNE(25,Ut,61,25,"ng-template",null,1,t.C5r)(27,Ot,1,0,"ng-template",null,2,t.C5r)}2&i&&(t.FS9("title",t.bMT(1,23,e.title)),t.Y8G("breadcrumbItems",e.breadCrumbItems),t.R7$(5),t.Y8G("showExport",!1)("totalItems",e.pagination.totalItems)("title",e.title),t.R7$(3),t.FS9("placeholder",t.bMT(9,25,"stores.store.nameEn")),t.R50("ngModel",e.pagination.nameEn),t.R7$(3),t.FS9("placeholder",t.bMT(12,27,"stores.store.nameAr")),t.R50("ngModel",e.pagination.nameAr),t.R7$(3),t.FS9("bindLabel","en"==e.lang?"nameEn":"nameAR"),t.FS9("placeholder",t.bMT(15,29,"stores.store.title")),t.Y8G("items",e.stores)("multiple",!1),t.R50("ngModel",e.pagination.storeId),t.R7$(3),t.Y8G("hasProgressBar",!1)("fgsType",e.loaderSearchShap)("loaderId",e.searchLoader),t.R7$(2),t.Y8G("value",e.entities)("rows",e.pagination.pageSize)("lazy",!0)("totalRecords",e.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",e.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",e.pagination.totalItems>0))},dependencies:[c.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,u.s5,O.m,K.b,at.w,W.p,J.g,h.Mm,b.XI,P.Ei,b.Tg,T.Cv,$.vr,u.md,Z.m,B.m,c.vh,h.D9],encapsulation:2})}}return a})(),Yt=(()=>{class a extends st.E{constructor(n,i,e){super(n,i,e)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(I.Ix),t.KVO(ot),t.KVO(R.u))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),q=(()=>{class a extends w.d{constructor(n){super(n,A.c.apiUrl+"Stock/")}registerDetails(n,i){return this.http.post(this.baseUrl+"addDetail/"+i,n)}getDetails(n,i){return this.http.post(this.baseUrl+n,i)}ToDelete(n){return this.http.delete(`${this.baseUrl}${n}`)}ToEdit(n,i){return this.http.put(this.baseUrl+"Edit/"+n,i)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(nt.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function zt(a,m){1&a&&(t.j41(0,"tr",28)(1,"th",29),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",30),t.nrm(4,"i",31),t.EFF(5," stores.stocktaking.date "),t.k0s(),t.j41(6,"th",32),t.nrm(7,"i",31),t.EFF(8," stores.stocktaking.stockingStatusName "),t.k0s(),t.j41(9,"th",33),t.nrm(10,"i",31),t.EFF(11," stores.stocktaking.note "),t.k0s(),t.nrm(12,"th",34),t.k0s())}function Qt(a,m){if(1&a&&(t.nrm(0,"i",43),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"br")(4,"i",44),t.EFF(5),t.nI1(6,"date"),t.nrm(7,"br")(8,"i",45),t.EFF(9),t.nrm(10,"br")(11,"i",45),t.EFF(12)),2&a){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,4,n.creationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",t.i5U(6,7,n.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(4),t.SpI(" ",n.creatorName,""),t.R7$(3),t.SpI(" ",n.lastModificationName," ")}}function Ht(a,m){if(1&a){const n=t.RV6();t.j41(0,"tr",35)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td")(7,"span"),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.DNE(12,Qt,13,10,"ng-template",null,3,t.C5r),t.j41(14,"td"),t.nrm(15,"i",36),t.j41(16,"button",37),t.nI1(17,"translate"),t.bIt("click",function(){const e=t.eBV(n).$implicit,s=t.XpG(),d=t.sdS(28);return t.Njj(s.editModal(e,d))}),t.nrm(18,"i",38),t.k0s(),t.j41(19,"button",39),t.nI1(20,"translate"),t.nrm(21,"i",40),t.k0s(),t.j41(22,"button",41),t.nI1(23,"translate"),t.nrm(24,"i",42),t.k0s()()()}if(2&a){const n=m.$implicit,i=m.rowIndex,e=t.sdS(13);t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(t.i5U(5,16,n.date,"d/M/y")),t.R7$(3),t.ZvI("badge ",1==n.stockingStatus?"bg-success":2==n.stockingStatus?"bg-danger":"",""),t.R7$(),t.SpI(" ",t.bMT(9,19,"stores.stocktaking."+n.stockingStatusName)," "),t.R7$(3),t.JRh(n.note),t.R7$(4),t.Y8G("ngbTooltip",e),t.R7$(),t.FS9("pTooltip",t.bMT(17,21,"general.edit")),t.R7$(3),t.FS9("pTooltip",t.bMT(20,23,"stores.stocktaking.registerDetails")),t.Mz_("routerLink","add-details/",n.id,""),t.Y8G("disabled",2==n.stockingStatus),t.R7$(3),t.FS9("pTooltip",t.bMT(23,25,"stores.stocktaking.show")),t.Mz_("routerLink","show-details/",n.id,"")}}function Kt(a,m){1&a&&(t.j41(0,"div",46),t.EFF(1," general.table.noData "),t.k0s())}function Wt(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",47)(1,"div",48),t.nrm(2,"ngb-pagination-info",49),t.j41(3,"table-length",50),t.bIt("lengthChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.ListItemChange(e))}),t.k0s()(),t.j41(4,"div",51)(5,"ngb-pagination",52),t.bIt("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.pageChanged(e))}),t.mxI("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.pagination.pageNumber,e)||(s.pagination.pageNumber=e),t.Njj(e)}),t.k0s()()()}if(2&a){const n=t.XpG();t.R7$(2),t.Y8G("pagination",n.pagination),t.R7$(),t.Y8G("lengthTable",n.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),t.R50("page",n.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Jt(a,m){1&a&&(t.j41(0,"span",74),t.EFF(1,"general.action.register "),t.k0s())}function Zt(a,m){1&a&&(t.j41(0,"span",74),t.EFF(1,"general.action.edit "),t.k0s())}function qt(a,m){1&a&&(t.j41(0,"div",75),t.EFF(1," general.message.filedIdRequired "),t.k0s())}function te(a,m){1&a&&(t.j41(0,"div",75),t.EFF(1," general.message.filedIdRequired "),t.k0s())}function ee(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",53)(1,"h4",54),t.DNE(2,Jt,2,0,"span",55)(3,Zt,2,0,"span",55),t.nrm(4,"span",56),t.k0s(),t.j41(5,"button",57),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()(),t.j41(6,"form",58,4),t.bIt("ngSubmit",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.onSubmit())}),t.nrm(8,"ngx-ui-loader",21),t.j41(9,"div",59)(10,"div",60)(11,"div",61)(12,"div",8)(13,"div",62)(14,"label",63),t.EFF(15,"stores.stocktaking.date"),t.k0s(),t.j41(16,"div",64)(17,"input",65,5),t.nI1(19,"translate"),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.date,e)||(s.form.date=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.controlDateFormat("date"))}),t.k0s()(),t.DNE(20,qt,2,0,"div",66),t.k0s(),t.j41(21,"div",62)(22,"label",67),t.EFF(23,"stores.stocktaking.status"),t.k0s(),t.j41(24,"ng-select",68,6),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.stockingStatus,e)||(s.form.stockingStatus=e),t.Njj(e)}),t.k0s(),t.DNE(26,te,2,0,"div",66),t.k0s(),t.j41(27,"div",62)(28,"label",69),t.EFF(29,"stores.stocktaking.note"),t.k0s(),t.j41(30,"div",64)(31,"textarea",70),t.mxI("ngModelChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.form.note,e)||(s.form.note=e),t.Njj(e)}),t.EFF(32,"                                 "),t.k0s()()()(),t.j41(33,"div",71),t.nrm(34,"button",72),t.j41(35,"button",73),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()()()()()()}if(2&a){const n=t.sdS(7),i=t.sdS(18),e=t.sdS(25),s=t.XpG();t.R7$(2),t.Y8G("ngIf",!s.isEditForm),t.R7$(),t.Y8G("ngIf",s.isEditForm),t.R7$(5),t.Y8G("hasProgressBar",!1)("fgsType",s.loaderOperationShap)("loaderId",s.operationLoader),t.R7$(9),t.FS9("placeholder",t.bMT(19,17,"stores.stocktaking.date")),t.Y8G("altInput",!0)("convertModelValue",!0),t.R50("ngModel",s.form.date),t.R7$(3),t.Y8G("ngIf",i.invalid&&i.touched),t.R7$(4),t.FS9("bindLabel","en"==s.lang?"nameEn":"nameAr"),t.Y8G("items",s.statusEnum)("multiple",!1),t.R50("ngModel",s.form.stockingStatus),t.R7$(2),t.Y8G("ngIf",e.invalid&&e.touched),t.R7$(5),t.R50("ngModel",s.form.note),t.R7$(3),t.Y8G("disabled",!n.valid)}}function ne(a,m){if(1&a){const n=t.RV6();t.j41(0,"delete-modal",76),t.bIt("deleteConfirm",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.DeleteConfirm())})("dismiss",function(){const e=t.eBV(n).$implicit;return t.Njj(e.dismiss())}),t.k0s()}}let ie=(()=>{class a extends v.w{constructor(n,i,e,s,d,r,_,D,L,N){super(n,i,_,d,e,s,r),this.baseService=d,this.service=D,this.excelService=L,this.router=N,this.title="stores.stocktaking.title",this.submitted=!1,this.statusEnum=[{nameEn:"Open",nameAr:"\u0645\u0641\u062a\u0648\u062d",id:1},{nameEn:"Close",nameAr:"\u0645\u063a\u0644\u0642",id:2}],this.searchForm={},this.isResolveList=!0,this.setDates=(F,tt,dt)=>{if(F?.from||F?.to){const Se=F.to||F.from;this.pagination[tt]=this.datePipe.transform(F.from||F.to,"yyyy-MM-ddT00:00:00"),this.pagination[dt]=this.datePipe.transform(Se,"yyyy-MM-ddT23:59:59.999")}else this.pagination[tt]=null,this.pagination[dt]=null},this.configRoute()}configRoute(){this.routerActive.data.pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.entities=n.data.data,this.pagination.totalItems=n.data.totalItems},()=>{this.alertService.error()})}controlDateFormat(n){this.form[n]=this.datePipe.transform(this.form[n],"yyyy-MM-ddT00:00:00")}onSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}editEntity(){let n=this.mapForm(this.form);this.baseService.ToEdit(n.id,n).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}onSearch(){let n={...this.searchForm};this.setDates(n.dates,"dateFrom","dateTo"),this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}editModal(n,i,e="md"){this.isEditForm=!0,this.form=n,this.modalService.open(i,{centered:!0,size:e})}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(this.deleteLoader),this.baseService.ToDelete(this.selectedRow[0].id).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.deleteLoader))).subscribe(i=>{i.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+i)},()=>{this.alertService.error()})}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.searchForm={},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(I.nX),t.rXU(h.c$),t.rXU(R.u),t.rXU(c.vh),t.rXU(q),t.rXU(T.eD),t.rXU(u.Bq),t.rXU(U.m),t.rXU(H.V),t.rXU(I.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-stocks"]],features:[t.Vt3],decls:31,vars:34,consts:[["tableMaster",""],["AddModal",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["date","ngModel"],["stockingStatus","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showExport","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-12","col-md-3","mb-2"],["type","text","mwlFlatpickr","","id","isDate","mode","range","altFormat","d/m/Y",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],["required","",3,"ngModelChange","bindValue","items","multiple","placeholder","bindLabel","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","date","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","stockingStatus","translate","",2,"width","10%"],["pSortableColumn","note","translate","",2,"width","10%"],["translate","",2,"width","20%"],[1,"fs-5"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["tooltipPosition","top",1,"btn","btn-sm","btn-soft-info","edit-list","me-2",3,"click","pTooltip"],[1,"ri-pencil-fill","align-bottom"],["tooltipPosition","top",1,"btn","btn-sm","btn-primary","edit-list","me-2",3,"disabled","pTooltip","routerLink"],[1,"ri-settings-3-fill","align-bottom"],["tooltipPosition","top",1,"btn","btn-sm","btn-success","remove-list",3,"pTooltip","routerLink"],[1,"ri-eye-fill","align-bottom"],[1,"ri-history-fill","text-warning"],[1,"ri-history-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate","stores.stocktaking.title",1,"fw-bold","fs-4"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-content"],[1,"modal-body"],[1,"mx-2"],[1,"col-12","col-md-12","mb-3"],["for","date","translate","",1,"fw-bold","form-label","required"],[1,"input-group"],["type","text","mwlFlatpickr","","name","date","id","date","altFormat","d/m/Y",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","change","altInput","convertModelValue","placeholder","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["translate","",1,"fw-bold","form-label","required"],["name","stockingStatus","bindValue","id","required","",3,"ngModelChange","items","multiple","bindLabel","ngModel"],["for","note","translate","",1,"fw-bold","form-label","required"],["InputTirmFilter","","name","note","rows","3","id","note",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","justify-content-end","mt-4","mb-2"],["type","submit","id","save","translate","general.action.save",1,"btn","w-sm","btn-danger",3,"disabled"],["type","button","data-bs-dismiss","modal","translate","general.action.close",1,"btn","w-sm","btn-light",3,"click"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,e){if(1&i){const s=t.RV6();t.nrm(0,"app-breadcrumbs",7),t.nI1(1,"translate"),t.j41(2,"div",8)(3,"div",9)(4,"div",10)(5,"base-filter",11),t.bIt("reset",function(){return t.eBV(s),t.Njj(e.onReset())})("search",function(){return t.eBV(s),t.Njj(e.onSearch())})("exportXlsx",function(){return t.eBV(s),t.Njj(e.onExportXlsx())})("addNew",function(){t.eBV(s);const r=t.sdS(28);return t.Njj(e.openModalTitle(r))}),t.qex(6,12),t.j41(7,"div",13)(8,"div",14)(9,"input",15),t.nI1(10,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.filterValue,r)||(e.pagination.filterValue=r),t.Njj(r)}),t.k0s(),t.nrm(11,"i",16),t.k0s()(),t.j41(12,"div",17)(13,"input",18),t.nI1(14,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.searchForm.dates,r)||(e.searchForm.dates=r),t.Njj(r)}),t.k0s()(),t.j41(15,"div",17)(16,"ng-select",19),t.nI1(17,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.stockingStatusName,r)||(e.pagination.stockingStatusName=r),t.Njj(r)}),t.k0s()(),t.bVm(),t.k0s(),t.j41(18,"div",20),t.nrm(19,"ngx-ui-loader",21),t.j41(20,"div",22)(21,"p-table",23,0),t.bIt("onLazyLoad",function(r){return t.eBV(s),t.Njj(e.tableChange(r))})("selectionChange",function(r){return t.eBV(s),t.Njj(e.onSelectionChange(r))}),t.DNE(23,zt,13,0,"ng-template",24)(24,Ht,25,27,"ng-template",25),t.k0s()(),t.DNE(25,Kt,2,0,"div",26)(26,Wt,6,8,"div",27),t.k0s()()()(),t.DNE(27,ee,36,19,"ng-template",null,1,t.C5r)(29,ne,1,0,"ng-template",null,2,t.C5r)}2&i&&(t.FS9("title",t.bMT(1,26,e.title)),t.Y8G("breadcrumbItems",e.breadCrumbItems),t.R7$(5),t.Y8G("showExport",!1)("totalItems",e.pagination.totalItems)("title",e.title),t.R7$(4),t.FS9("placeholder",t.bMT(10,28,"task.tasklist.subject")),t.R50("ngModel",e.pagination.filterValue),t.R7$(4),t.FS9("placeholder",t.bMT(14,30,"hr.target.fromToDate")),t.Y8G("altInput",!0)("convertModelValue",!0),t.R50("ngModel",e.searchForm.dates),t.R7$(3),t.FS9("bindValue","en"==e.lang?"nameEn":"nameAr"),t.FS9("placeholder",t.bMT(17,32,"stores.stocktaking.status")),t.FS9("bindLabel","en"==e.lang?"nameEn":"nameAr"),t.Y8G("items",e.statusEnum)("multiple",!1),t.R50("ngModel",e.pagination.stockingStatusName),t.R7$(3),t.Y8G("hasProgressBar",!1)("fgsType",e.loaderSearchShap)("loaderId",e.searchLoader),t.R7$(2),t.Y8G("value",e.entities)("rows",e.pagination.pageSize)("lazy",!0)("totalRecords",e.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",e.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",e.pagination.totalItems>0))},dependencies:[c.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,u.s5,j.kL,I.Wk,O.m,K.b,at.w,W.p,J.g,h.Mm,b.XI,P.Ei,b.Tg,T.Cv,$.vr,u.md,Z.m,B.m,c.vh,h.D9],encapsulation:2})}}return a})(),ae=(()=>{class a extends st.E{constructor(n,i,e){super(n,i,e)}static{this.\u0275fac=function(i){return new(i||a)(t.KVO(I.Ix),t.KVO(q),t.KVO(R.u))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var z=o(36158);function se(a,m){1&a&&(t.j41(0,"tr",16)(1,"th",17),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",18),t.EFF(4," stores.stocktaking.itemName "),t.k0s(),t.j41(5,"th",18),t.EFF(6," stores.stocktaking.quantity "),t.k0s(),t.j41(7,"th",18),t.EFF(8," stores.stocktaking.note "),t.k0s()())}function oe(a,m){if(1&a){const n=t.RV6();t.j41(0,"tr",19)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"input",20),t.nI1(7,"translate"),t.mxI("ngModelChange",function(e){const s=t.eBV(n).rowIndex,d=t.XpG();return t.DH7(d.form[s].stockingQuantity,e)||(d.form[s].stockingQuantity=e),t.Njj(e)}),t.k0s()(),t.j41(8,"td")(9,"input",21),t.nI1(10,"translate"),t.mxI("ngModelChange",function(e){const s=t.eBV(n).rowIndex,d=t.XpG();return t.DH7(d.form[s].note,e)||(d.form[s].note=e),t.Njj(e)}),t.k0s()()()}if(2&a){const n=m.$implicit,i=m.rowIndex,e=t.XpG();t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(n.itemName),t.R7$(2),t.FS9("placeholder",t.bMT(7,6,"stores.stocktaking.quantity")),t.R50("ngModel",e.form[i].stockingQuantity),t.R7$(3),t.FS9("placeholder",t.bMT(10,8,"stores.stocktaking.note")),t.R50("ngModel",e.form[i].note)}}function re(a,m){1&a&&(t.j41(0,"div",22),t.EFF(1," general.table.noData "),t.k0s())}function le(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",23)(1,"a",24),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.closeStock())}),t.nrm(2,"i",25),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"stores.stocktaking.closeStock")))}function me(a,m){1&a&&(t.j41(0,"tr",24)(1,"th",25),t.EFF(2,"#"),t.k0s(),t.j41(3,"th",26),t.nrm(4,"i",27),t.EFF(5," stores.stocktaking.itemName "),t.k0s(),t.j41(6,"th",28),t.nrm(7,"i",27),t.EFF(8," stores.stocktaking.quantity "),t.k0s(),t.j41(9,"th",29),t.nrm(10,"i",27),t.EFF(11," stores.stocktaking.note "),t.k0s()())}function ce(a,m){if(1&a&&(t.j41(0,"tr",30)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&a){const n=m.$implicit,i=m.rowIndex,e=t.XpG();t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh("en"==e.lang?n.storeItemNameEn:n.storeItemNameAr),t.R7$(2),t.JRh(n.stockingQuantity),t.R7$(2),t.JRh(n.note)}}function pe(a,m){1&a&&(t.j41(0,"div",31),t.EFF(1," general.table.noData "),t.k0s())}function ge(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",32)(1,"div",33),t.nrm(2,"ngb-pagination-info",34),t.j41(3,"table-length",35),t.bIt("lengthChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.ListItemChange(e))}),t.k0s()(),t.j41(4,"div",36)(5,"ngb-pagination",37),t.bIt("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.Njj(s.pageChanged(e))}),t.mxI("pageChange",function(e){t.eBV(n);const s=t.XpG();return t.DH7(s.pagination.pageNumber,e)||(s.pagination.pageNumber=e),t.Njj(e)}),t.k0s()()()}if(2&a){const n=t.XpG();t.R7$(2),t.Y8G("pagination",n.pagination),t.R7$(),t.Y8G("lengthTable",n.tableLengthSelect),t.R7$(2),t.Y8G("pageSize",n.pagination.pageSize)("collectionSize",n.pagination.totalItems),t.R50("page",n.pagination.pageNumber),t.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}const ue=[{path:"list",component:Et,resolve:{data:Tt},canActivate:[Y.g],data:{permission:["order.view"]}},{path:"items",component:Pt,resolve:{data:Yt},canActivate:[Y.g],data:{permission:["order.view"]}},{path:"stocks",component:ie,resolve:{data:ae},canActivate:[Y.g],data:{}},{path:"stocks/add-details/:id",component:(()=>{class a extends v.w{constructor(n,i,e,s,d,r,_,D,L,N){super(n,i,_,d,e,s,r),this.baseService=d,this.service=D,this.storeItemsService=L,this.router=N,this.title="stores.stocktaking.titleAddDetails",this.submitted=!1,this.pagination={pageNumber:1,pageSize:1e3},this.form=[],this.stockId=0,this.routerActive.params.subscribe(F=>{this.stockId=+F.id})}addAllItems(){this.ngxLoader.startLoader(z.a7),this.storeItemsService.get(this.pagination).pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.ngxLoader.stopLoader(z.a7),n.data.forEach(i=>{this.form.push({itemName:"en"==this.lang?i.nameEn:i.nameAr,storeItemId:i.id,stockingQuantity:0,note:""})}),this.LoadSuccess()},n=>{this.ngxLoader.stopLoader(z.a7),this.alertService.error(n)})}closeStock(){this.baseService.registerDetails(this.form,this.stockId).pipe((0,x.O)(),(0,V.c)(this.mainDelay),(0,l.Z)(),(0,C.Q)(this.notifier),(0,g.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,rt.W)(n=>(0,lt.$)(n))).subscribe(n=>{n.success?(this.submitFunished(),this.router.navigate(["/stores/stocks"])):this.alertService.error("general.message."+n.message)},n=>{this.alertService.error("general.message."+n)})}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(I.nX),t.rXU(h.c$),t.rXU(R.u),t.rXU(c.vh),t.rXU(q),t.rXU(T.eD),t.rXU(u.Bq),t.rXU(U.m),t.rXU(ot),t.rXU(I.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-add-stock-details"]],features:[t.Vt3],decls:20,vars:14,consts:[["tableMaster",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[1,"d-flex","justify-content-end","m-3"],["href","javascript:void(0);",1,"btn","btn-danger",3,"click"],[1,"ri-add-line","align-bottom"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"value","rows"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","text-center text-danger text-bold fs-6 p-3",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["translate","",2,"width","10%"],[1,"fs-5"],["type","number",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"text-center","text-danger","text-bold","fs-6","p-3"],["href","javascript:void(0);",1,"btn","btn-success",3,"click"],[1,"ri-check-double-fill","align-bottom"]],template:function(i,e){if(1&i){const s=t.RV6();t.nrm(0,"app-breadcrumbs",1),t.nI1(1,"translate"),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.bIt("click",function(){return t.eBV(s),t.Njj(e.addAllItems())}),t.nrm(7,"i",7),t.j41(8,"span"),t.EFF(9),t.nI1(10,"translate"),t.k0s()()(),t.j41(11,"div",8),t.nrm(12,"ngx-ui-loader",9),t.j41(13,"div",10)(14,"p-table",11,0),t.DNE(16,se,9,0,"ng-template",12)(17,oe,11,10,"ng-template",13),t.k0s()(),t.DNE(18,re,2,0,"div",14)(19,le,6,3,"div",15),t.k0s()()()()}2&i&&(t.FS9("title",t.bMT(1,10,e.title)),t.Y8G("breadcrumbItems",e.breadCrumbItems),t.R7$(9),t.JRh(t.bMT(10,12,"stores.stocktaking.addAllItems")),t.R7$(3),t.Y8G("hasProgressBar",!1)("fgsType",e.loaderSearchShap)("loaderId",e.searchLoader),t.R7$(2),t.Y8G("value",e.form)("rows",null==e.form?null:e.form.length),t.R7$(4),t.Y8G("ngIf",(null==e.form?null:e.form.length)<=0),t.R7$(),t.Y8G("ngIf",(null==e.form?null:e.form.length)>0))},dependencies:[c.bT,p.me,p.Q0,p.BC,p.vS,O.m,h.Mm,b.XI,P.Ei,T.Cv,h.D9],encapsulation:2})}}return a})(),canActivate:[Y.g],data:{}},{path:"stocks/show-details/:id",component:(()=>{class a extends v.w{constructor(n,i,e,s,d,r,_,D,L,N){super(n,i,_,d,e,s,r),this.baseService=d,this.service=D,this.excelService=L,this.router=N,this.title="stores.stocktaking.titleDetails",this.stockId=0,this.routerActive.params.subscribe(F=>{this.stockId=+F.id})}setSearchValue(n){console.log(n.target.value),"en"==this.lang?(this.pagination.storeItemNameEn=n.target.value,this.pagination.storeItemNameAr=""):(this.pagination.storeItemNameEn="",this.pagination.storeItemNameAr=n.target.value)}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.getDetails(this.stockId,this.pagination).pipe((0,C.Q)(this.notifier)).subscribe(n=>{this.ngxLoader.stopLoader(z.a7),this.entities=n.data,this.pagination.totalItems=n.totalItems,this.LoadSuccess()},n=>{this.ngxLoader.stopLoader(z.a7),this.alertService.error(n)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}onExportXlsx(){let n=this.mapExcel();this.excelService.exportAsExcelFile(n,"Service Type",[])}mapExcel(){let n=[];return this.entities?.forEach(i=>{n.push({title:i.title,body:i.body,type:i.type,isActive:this.getTranslationText("general.table.active")})}),n}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems},this.loadentities()}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(I.nX),t.rXU(h.c$),t.rXU(R.u),t.rXU(c.vh),t.rXU(q),t.rXU(T.eD),t.rXU(u.Bq),t.rXU(U.m),t.rXU(H.V),t.rXU(I.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-stocks-details"]],features:[t.Vt3],decls:41,vars:48,consts:[["tableMaster",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","showExport","showAdd","totalItems","title"],["control",""],[1,"col-12","col-md-6","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"keyup","placeholder"],[1,"ri-search-line","search-icon"],[1,"col-12","col-md-3","mb-2"],["type","number",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"row","row-cols-3","p-3"],[1,"col","text-muted"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","storeItemId","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","stockingQuantity","translate","",2,"width","10%"],["pSortableColumn","note","translate","",2,"width","10%"],[1,"fs-5"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"]],template:function(i,e){if(1&i){const s=t.RV6();t.nrm(0,"app-breadcrumbs",1),t.nI1(1,"translate"),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"base-filter",5),t.bIt("reset",function(){return t.eBV(s),t.Njj(e.onReset())})("search",function(){return t.eBV(s),t.Njj(e.onSearch())})("exportXlsx",function(){return t.eBV(s),t.Njj(e.onExportXlsx())}),t.qex(6,6),t.j41(7,"div",7)(8,"div",8)(9,"input",9),t.nI1(10,"translate"),t.bIt("keyup",function(r){return t.eBV(s),t.Njj(e.setSearchValue(r))}),t.k0s(),t.nrm(11,"i",10),t.k0s()(),t.j41(12,"div",11)(13,"input",12),t.nI1(14,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.stockingQuantity,r)||(e.pagination.stockingQuantity=r),t.Njj(r)}),t.k0s()(),t.j41(15,"div",11)(16,"input",13),t.nI1(17,"translate"),t.mxI("ngModelChange",function(r){return t.eBV(s),t.DH7(e.pagination.note,r)||(e.pagination.note=r),t.Njj(r)}),t.k0s()(),t.bVm(),t.k0s(),t.j41(18,"div",14)(19,"div",15),t.EFF(20),t.nI1(21,"translate"),t.nI1(22,"date"),t.k0s(),t.j41(23,"div",15),t.EFF(24),t.nI1(25,"translate"),t.j41(26,"span"),t.EFF(27),t.nI1(28,"translate"),t.k0s()(),t.j41(29,"div",15),t.EFF(30),t.nI1(31,"translate"),t.k0s()(),t.j41(32,"div",16),t.nrm(33,"ngx-ui-loader",17),t.j41(34,"div",18)(35,"p-table",19,0),t.bIt("onLazyLoad",function(r){return t.eBV(s),t.Njj(e.tableChange(r))})("selectionChange",function(r){return t.eBV(s),t.Njj(e.onSelectionChange(r))}),t.DNE(37,me,12,0,"ng-template",20)(38,ce,9,4,"ng-template",21),t.k0s()(),t.DNE(39,pe,2,0,"div",22)(40,ge,6,8,"div",23),t.k0s()()()()}2&i&&(t.FS9("title",t.bMT(1,29,e.title)),t.Y8G("breadcrumbItems",e.breadCrumbItems),t.R7$(5),t.Y8G("showExport",!1)("showAdd",!1)("totalItems",e.pagination.totalItems)("title",e.title),t.R7$(4),t.FS9("placeholder",t.bMT(10,31,"task.tasklist.subject")),t.R7$(4),t.FS9("placeholder",t.bMT(14,33,"stores.stocktaking.quantity")),t.R50("ngModel",e.pagination.stockingQuantity),t.R7$(3),t.FS9("placeholder",t.bMT(17,35,"stores.stocktaking.note")),t.R50("ngModel",e.pagination.note),t.R7$(4),t.Lme(" ",t.bMT(21,37,"stores.stocktaking.date"),": ",t.i5U(22,39,null==e.entities?null:e.entities.date,"d/M/y")," "),t.R7$(4),t.SpI(" ",t.bMT(25,42,"stores.stocktaking.stockingStatusName"),": "),t.R7$(2),t.ZvI("badge ",1==(null==e.entities?null:e.entities.stockingStatus)?"bg-success":2==(null==e.entities?null:e.entities.stockingStatus)?"bg-danger":"",""),t.R7$(),t.SpI(" ",t.bMT(28,44,"stores.stocktaking."+(null==e.entities?null:e.entities.stockingStatusName))," "),t.R7$(3),t.Lme(" ",t.bMT(31,46,"stores.stocktaking.note"),": ",null==e.entities?null:e.entities.note," "),t.R7$(3),t.Y8G("hasProgressBar",!1)("fgsType",e.loaderSearchShap)("loaderId",e.searchLoader),t.R7$(2),t.Y8G("value",null==e.entities?null:e.entities.details)("rows",e.pagination.pageSize)("lazy",!0)("totalRecords",e.pagination.totalItems),t.R7$(4),t.Y8G("ngIf",e.pagination.totalItems<=0),t.R7$(),t.Y8G("ngIf",e.pagination.totalItems>0))},dependencies:[c.bT,p.me,p.Q0,p.BC,p.vS,u.s5,O.m,K.b,W.p,J.g,h.Mm,b.XI,P.Ei,b.Tg,T.Cv,Z.m,c.vh,h.D9],encapsulation:2})}}return a})(),canActivate:[Y.g],data:{}}];let _e=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[I.iI.forChild(ue),I.iI]})}}return a})(),fe=(()=>{class a{constructor(){(0,f.eV)(S().loadAnimation)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[c.MD,p.YN,p.X1,u.zH,u.Pv,u.c9,j.ND,y.r,_e,E.G,h.h,b.bG,G.q4,Q.H_,u.c9,T.th,$.MQ,u.n8,et.j,u._f,B.S]})}}return a})()},75622:(X,M,o)=>{o.d(M,{w:()=>C});var c=o(21413),p=o(56977),u=o(37021),j=o(35335),y=o(45236),f=o(70980),k=o(99437),S=o(18810),E=o(7629),h=o(36158),b=o(54438),G=o(51188),Q=o(8147),T=o(69005),$=o(67569),et=o(3888),B=o(60177),I=o(1530);let C=(()=>{class x{constructor(l,g,v,t,R,w,A){this.routerActive=l,this.translateService=g,this.modalService=v,this.baseService=t,this.alertService=R,this.datePipe=w,this.ngxLoader=A,this.title="",this.mainDelay=50,this.selectedRow=[],this.pagination={pageNumber:1,pageSize:10},this.notifier=new c.B,this.checkAll=!1,this.checkOne=!1,this.checkMore=!1,this.loader=!1,this.form={},this.isEditForm=!1,this.draw=1,this.index=0,this.lengthSelect=0,this.screenName="",this.filterToggle=!0,this.start=1,this.startFirstLoad=!0,this.btnDisabled=!0,this.loaderSearchShap=h.cX,this.loaderOperationShap=h.$$,this.operationLoader=h.ZW,this.loaderDeleteShap=h.jg,this.mainTable=h.uG,this.searchLoader=h.a7,this.deleteLoader=h.Fq,this.langArabic="ar",this.paymentTypes=[],this.tableLengthSelect=[10,20,30,50,100,500,1e3],this.maxSizePagination=10,this.isResolveList=!1,this.countLoad=0,this.pagination.pageSize=10,this.pagination.pageNumber=1}ngOnInit(){this.lang=this.translateService.currentLang,this.translateConfig(),this.ngOnInitMore()}ngOnInitMore(){}routeDataConfig(){this.routerActive.data.pipe((0,p.Q)(this.notifier)).subscribe(l=>{this.entities=l.data.result,this.pagination=l.data.pagination,this.pagination.pageNumber=1,this.pagination.pageSize=10,this.ngxLoader.stopLoader(h.a7)},l=>{this.alertService.error()})}translateConfig(){this.translateService.onLangChange.pipe((0,p.Q)(this.notifier)).subscribe(l=>{this.lang=l.lang})}getTranslationText(l){let g="";return this.translateService.get(l).pipe((0,p.Q)(this.notifier)).subscribe(v=>{g=v}),g}ngAfterViewInit(){this.ngAfterViewInitMore()}ngAfterViewInitMore(){}getRenderString(l){return null!=l?l.substring(0,10)+"...":""}getRenderIndex(l){return this.index++,this.index}successDataTable(l){this.ngxLoader.stopLoader(h.a7),this.pagination.totalItems=l.data.pagination.totalItems,this.startFirstLoad=!1}errorDataTable(){this.ngxLoader.stopLoader(h.a7),this.alertService.error()}openModalTitle(l,g="md"){this.isEditForm=!1,this.form={},this.modalService.open(l,{centered:!0,size:g})}openModal(l,g,v="md"){this.isEditForm=!1,this.form={},this.selectedRow=[{id:l}],this.modalService.open(g,{centered:!0,size:v})}openModalMoreOperation(l){this.isEditForm=!1,this.moreIdSelected=this.selectedRow.map(g=>g.id)}closeModelDeleted(){this.modalRef?.hide(),this.loader=!1,this.btnDisabled=!0}OnSearch(l){this.ngxLoader.startLoader("allLoader"),this.loadentities()}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.baseService.get(this.pagination).pipe((0,p.Q)(this.notifier)).subscribe(l=>{this.ngxLoader.stopLoader(h.a7),this.entities=l.data,this.pagination.totalItems=l.totalItems,this.LoadSuccess()},l=>{this.ngxLoader.stopLoader(h.a7),this.alertService.error(l)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}LoadSuccess(){}tableChange(l){this.pagination.filterType=l.sortField,this.pagination.sortType=1==l.sortOrder?"asc":"desc",this.loadentities()}registerEntity(){let l=this.mapRegisterForm(this.form);this.baseService.register(l).pipe((0,u.O)(),(0,j.c)(this.mainDelay),(0,y.Z)(),(0,p.Q)(this.notifier),(0,f.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,k.W)(g=>(0,S.$)(g))).subscribe(g=>{g.success?this.submitFunished():this.alertService.error("general.message."+g.message)},g=>{this.alertService.error("general.message."+g)})}editEntity(){let l=this.mapForm(this.form);this.baseService.edit(l.id,l).pipe((0,u.O)(),(0,j.c)(this.mainDelay),(0,y.Z)(),(0,p.Q)(this.notifier),(0,f.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(g=>{g.success?this.submitFunished():this.alertService.error("general.message."+g.message)},g=>{this.alertService.error("general.message."+g)})}mapForm(l){return l}mapRegisterForm(l){return l.id=0,l}submitFunished(){this.alertService.success(),this.loadentities(),this.modalService?.dismissAll(),this.ngxLoader.stop(h.a7),this.btnDisabled=!0}EditModel(l,g,v="md"){this.isEditForm=!0,this.baseService.getById(l).pipe((0,p.Q)(this.notifier)).subscribe(t=>{t.success?this.form=t.data:this.alertService.error("general.message."+t.message),this.modalService.open(g,{centered:!0,size:v})},t=>{this.alertService.error()})}EditModelTilte(l){this.isEditForm=!0,this.baseService.getById(this.selectedRow[0].id).pipe((0,p.Q)(this.notifier)).subscribe(v=>{v?this.form=v:this.alertService.error("general.message."+v)},v=>{this.alertService.error()})}onSelectionChange(l){this.selectedRow=l,this.lengthSelect=l.length}resetSelected(){this.selectedRow=[],this.lengthSelect=0}pageChanged(l){this.pagination.pageNumber=l,this.loadentities()}ListItemChange(l){this.pagination.pageSize=l.target.value,this.loadentities()}searchChange(l){this.pagination.filterValue=l,this.loadentities()}DeleteConfirm(){console.log(this.selectedRow),this.ngxLoader.startLoader(h.Fq);let l=this.selectedRow.map(g=>g.id);this.baseService.deleteRange(l).pipe((0,u.O)(),(0,j.c)(this.mainDelay),(0,y.Z)(),(0,p.Q)(this.notifier),(0,f.j)(()=>this.ngxLoader.stopLoader(h.Fq))).subscribe(g=>{g.success?(this.alertService.success(),this.loadentities(),this.modalService.dismissAll(),this.resetSelected()):this.alertService.error("general.message."+g)},()=>{this.alertService.error()})}getIds(){return this.selectedRow.map(l=>l.id)}isEmpty(l){return(void 0===l||null==l||l.length)<=0}OnReset(l){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}onReset(){this.form={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}closeModel(l){this.modalRef?.hide()}ngOnDestroy(){this.notifier.next(),this.notifier.complete(),this.OnDestroyMore()}OnDestroyMore(){}static{this.\u0275fac=function(g){return new(g||x)(b.rXU(G.nX),b.rXU(Q.c$),b.rXU(T.Bq),b.rXU($.d),b.rXU(et.u),b.rXU(B.vh),b.rXU(I.eD))}}static{this.\u0275cmp=b.VBU({type:x,selectors:[["app-base"]],viewQuery:function(g,v){if(1&g&&b.GBs(E.XI,5),2&g){let t;b.mGM(t=b.lsd())&&(v.tableMaster=t.first)}},decls:0,vars:0,template:function(g,v){},encapsulation:2})}}return x})()},88148:(X,M,o)=>{o.d(M,{p:()=>u});var c=o(54438),p=o(8147);let u=(()=>{class j{static{this.\u0275fac=function(k){return new(k||j)}}static{this.\u0275cmp=c.VBU({type:j,selectors:[["ngb-pagination-info"]],inputs:{pagination:"pagination"},decls:6,vars:2,consts:[[1,"d-inline-block","mx-1","text-pInfo"],["translate","general.table.pFrom",1,"text-pInfo"],["translate","general.table.item",1,"text-pInfo"]],template:function(k,S){1&k&&(c.j41(0,"span",0),c.EFF(1),c.k0s(),c.nrm(2,"span",1),c.j41(3,"span",0),c.EFF(4),c.k0s(),c.nrm(5,"span",2)),2&k&&(c.R7$(),c.JRh(S.pagination.totalItems>S.pagination.pageNumber*S.pagination.pageSize?S.pagination.pageNumber*S.pagination.pageSize:S.pagination.totalItems),c.R7$(3),c.JRh(S.pagination.totalItems))},dependencies:[p.Mm],styles:[".text-pInfo[_ngcontent-%COMP%]{font-size:.7rem;color:#8a96a0}"]})}}return j})()},91580:(X,M,o)=>{o.d(M,{g:()=>y});var c=o(54438),p=o(60177),u=o(89417);function j(f,k){if(1&f&&(c.j41(0,"option"),c.EFF(1),c.k0s()),2&f){const S=k.$implicit;c.R7$(),c.JRh(S)}}let y=(()=>{class f{constructor(){this.lengthChange=new c.bkB}ListItemChange(S){this.lengthChange.emit(S)}static{this.\u0275fac=function(E){return new(E||f)}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["table-length"]],inputs:{lengthTable:"lengthTable"},outputs:{lengthChange:"lengthChange"},decls:4,vars:1,consts:[[1,"card-toolbar","mx-2"],[1,"fs-2","text-primary"],[1,"form-select","mx-2","d-inline","form-select-sm","w-auto",3,"change"],[4,"ngFor","ngForOf"]],template:function(E,h){1&E&&(c.j41(0,"div",0),c.nrm(1,"span",1),c.j41(2,"select",2),c.bIt("change",function(G){return h.ListItemChange(G)}),c.DNE(3,j,2,1,"option",3),c.k0s()()),2&E&&(c.R7$(3),c.Y8G("ngForOf",h.lengthTable))},dependencies:[p.Sq,u.xH,u.y7],encapsulation:2})}}return f})()}}]);